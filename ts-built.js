(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.elt = elt;
exports.requestAnimationFrame = requestAnimationFrame;
exports.rmClass = rmClass;
exports.addClass = addClass;
exports.contains = contains;
exports.insertCSS = insertCSS;

function elt(tag, attrs) {
  var result = document.createElement(tag);
  if (attrs) for (var _name in attrs) {
    if (_name == "style") result.style.cssText = attrs[_name];else if (attrs[_name] != null) result.setAttribute(_name, attrs[_name]);
  }

  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  for (var i = 0; i < args.length; i++) {
    add(args[i], result);
  }return result;
}

function add(value, target) {
  if (typeof value == "string") value = document.createTextNode(value);
  if (Array.isArray(value)) {
    for (var i = 0; i < value.length; i++) {
      add(value[i], target);
    }
  } else {
    target.appendChild(value);
  }
}

var reqFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

function requestAnimationFrame(f) {
  if (reqFrame) reqFrame(f);else setTimeout(f, 10);
}

var ie_upto10 = /MSIE \d/.test(navigator.userAgent);
var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);

var browser = {
  mac: /Mac/.test(navigator.platform),
  ie_upto10: ie_upto10,
  ie_11up: ie_11up,
  ie: ie_upto10 || ie_11up,
  gecko: /gecko\/\d/i.test(navigator.userAgent)
};

exports.browser = browser;
function classTest(cls) {
  return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*");
}

function rmClass(node, cls) {
  var current = node.className;
  var match = classTest(cls).exec(current);
  if (match) {
    var after = current.slice(match.index + match[0].length);
    node.className = current.slice(0, match.index) + (after ? match[1] + after : "");
  }
}

function addClass(node, cls) {
  var current = node.className;
  if (!classTest(cls).test(current)) node.className += (current ? " " : "") + cls;
}

function contains(parent, child) {
  // Android browser and IE will return false if child is a text node.
  if (child.nodeType != 1) child = child.parentNode;
  return child && parent.contains(child);
}

function insertCSS(css) {
  var style = document.createElement("style");
  style.textContent = css;
  document.head.insertBefore(style, document.head.firstChild);
}

},{}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _selection = require("./selection");

var _dom = require("../dom");

var _keys = require("./keys");

function nothing() {}

function ensureSelection(pm) {
  if (pm.selection.node) {
    var found = (0, _selection.findSelectionNear)(pm.doc, pm.selection.from, 1, true);
    if (found) (0, _selection.setDOMSelectionToPos)(pm, found.head);
  }
  return false;
}

// A backdrop keymap used to make sure we always suppress keys that
// have a dangerous default effect, even if the commands they are
// bound to return false, and to make sure that cursor-motion keys
// find a cursor (as opposed to a node selection) when pressed.

var keys = {
  "Enter": nothing,
  "Mod-Enter": nothing,
  "Shift-Enter": nothing,
  "Backspace": nothing,
  "Delete": nothing,
  "Mod-B": nothing,
  "Mod-I": nothing,
  "Mod-Backspace": nothing,
  "Mod-Delete": nothing,
  "Shift-Backspace": nothing,
  "Shift-Delete": nothing,
  "Shift-Mod-Backspace": nothing,
  "Shift-Mod-Delete": nothing,
  "Mod-Z": nothing,
  "Mod-Y": nothing,
  "Shift-Mod-Z": nothing,
  "Ctrl-D": nothing,
  "Ctrl-H": nothing,
  "Ctrl-Alt-Backspace": nothing,
  "Alt-D": nothing,
  "Alt-Delete": nothing,
  "Alt-Backspace": nothing,

  "Mod-A": ensureSelection
};["Left", "Right", "Up", "Down", "Home", "End", "PageUp", "PageDown"].forEach(function (key) {
  keys[key] = keys["Shift-" + key] = keys["Mod-" + key] = keys["Shift-Mod-" + key] = keys["Alt-" + key] = keys["Shift-Alt-" + key] = ensureSelection;
});["Left", "Mod-Left", "Right", "Mod-Right", "Up", "Down"].forEach(function (key) {
  return delete keys[key];
});

if (_dom.browser.mac) keys["Ctrl-F"] = keys["Ctrl-B"] = keys["Ctrl-P"] = keys["Ctrl-N"] = keys["Alt-F"] = keys["Alt-B"] = keys["Ctrl-A"] = keys["Ctrl-E"] = keys["Ctrl-V"] = keys["goPageUp"] = ensureSelection;

var captureKeys = new _keys.Keymap(keys);
exports.captureKeys = captureKeys;

},{"../dom":1,"./keys":12,"./selection":16}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isWordChar = isWordChar;
exports.charCategory = charCategory;
exports.isExtendingChar = isExtendingChar;
var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;

// Extending unicode characters. A series of a non-extending char +
// any number of extending chars is treated as a single unit as far
// as editing and measuring is concerned. This is not fully correct,
// since some scripts/fonts/browsers also treat other configurations
// of code points as a group.
var extendingChar = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;

function isWordChar(ch) {
  return (/\w/.test(ch) || isExtendingChar(ch) || ch > "\x80" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))
  );
}

/**
 * Get the category of a given character. Either a "space",
 * a character that can be part of a word ("word"), or anything else ("other").
 *
 * @param  {string} ch The character.
 * @return {string}
 */

function charCategory(ch) {
  return (/\s/.test(ch) ? "space" : isWordChar(ch) ? "word" : "other"
  );
}

function isExtendingChar(ch) {
  return ch.charCodeAt(0) >= 768 && extendingChar.test(ch);
}

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
})();

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.defineCommand = defineCommand;
exports.defineParamHandler = defineParamHandler;
exports.initCommands = initCommands;
exports.defaultKeymap = defaultKeymap;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { "default": obj };
}

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;
  } else {
    return Array.from(arr);
  }
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _transform = require("../transform");

var _dom = require("../dom");

var _utilSortedinsert = require("../util/sortedinsert");

var _utilSortedinsert2 = _interopRequireDefault(_utilSortedinsert);

var _char = require("./char");

var _keys = require("./keys");

var _selection = require("./selection");

var globalCommands = Object.create(null);
var paramHandlers = Object.create(null);

function defineCommand(name, cmd) {
  globalCommands[name] = cmd instanceof Command ? cmd : new Command(name, cmd);
}

_model.NodeType.attachCommand = _model.StyleType.attachCommand = function (name, create) {
  this.register("commands", { name: name, create: create });
};

function defineParamHandler(name, handler) {
  paramHandlers[name] = handler;
}

function getParamHandler(pm) {
  var option = pm.options.commandParamHandler;
  if (option && paramHandlers[option]) return paramHandlers[option];
}

var Command = (function () {
  function Command(name, options) {
    _classCallCheck(this, Command);

    this.name = name;
    this.label = options.label || name;
    this.run = options.run;
    this.params = options.params || [];
    this.select = options.select || function () {
      return true;
    };
    this.active = options.active || function () {
      return false;
    };
    this.info = options;
    this.display = options.display || "icon";
  }

  _createClass(Command, [{
    key: "exec",
    value: function exec(pm, params) {
      var _this = this;

      if (!this.params.length) return this.run(pm);
      if (params) return this.run.apply(this, [pm].concat(_toConsumableArray(params)));
      var handler = getParamHandler(pm);
      if (handler) handler(pm, this, function (params) {
        if (params) _this.run.apply(_this, [pm].concat(_toConsumableArray(params)));
      });else return false;
    }
  }]);

  return Command;
})();

exports.Command = Command;

function initCommands(schema) {
  var result = Object.create(null);
  for (var cmd in globalCommands) {
    result[cmd] = globalCommands[cmd];
  }function fromTypes(types) {
    var _loop = function _loop(_name) {
      var type = types[_name],
          cmds = type.commands;
      if (cmds) cmds.forEach(function (_ref) {
        var name = _ref.name;
        var create = _ref.create;

        result[name] = new Command(name, create(type));
      });
    };

    for (var _name in types) {
      _loop(_name);
    }
  }
  fromTypes(schema.nodes);
  fromTypes(schema.styles);
  return result;
}

function defaultKeymap(pm) {
  var bindings = {};
  function add(command, key) {
    if (Array.isArray(key)) {
      for (var i = 0; i < key.length; i++) {
        add(command, key[i]);
      }
    } else if (key) {
      var _d$$exec = /^(.+?)(?:\((\d+)\))?$/.exec(key);

      var _d$$exec2 = _slicedToArray(_d$$exec, 3);

      var _ = _d$$exec2[0];
      var _name2 = _d$$exec2[1];
      var _d$$exec2$2 = _d$$exec2[2];
      var rank = _d$$exec2$2 === undefined ? 50 : _d$$exec2$2;

      (0, _utilSortedinsert2["default"])(bindings[_name2] || (bindings[_name2] = []), { command: command, rank: rank }, function (a, b) {
        return a.rank - b.rank;
      });
    }
  }
  for (var _name3 in pm.commands) {
    var cmd = pm.commands[_name3];
    add(_name3, cmd.info.key);
    add(_name3, _dom.browser.mac ? cmd.info.macKey : cmd.info.pcKey);
  }

  for (var key in bindings) {
    bindings[key] = bindings[key].map(function (b) {
      return b.command;
    });
  }return new _keys.Keymap(bindings);
}

var andScroll = { scrollIntoView: true };

_model.HardBreak.attachCommand("insertHardBreak", function (type) {
  return {
    label: "Insert hard break",
    run: function run(pm) {
      var _pm$selection = pm.selection;
      var node = _pm$selection.node;
      var from = _pm$selection.from;

      if (node && node.isBlock) return false;else if (pm.doc.path(from.path).type.isCode) return pm.tr.typeText("\n").apply(andScroll);else return pm.tr.replaceSelection(type.create()).apply(andScroll);
    },
    key: ["Mod-Enter", "Shift-Enter"]
  };
});

function inlineStyleActive(pm, type) {
  var sel = pm.selection;
  if (sel.empty) return (0, _model.containsStyle)(pm.activeStyles(), type);else return (0, _model.rangeHasStyle)(pm.doc, sel.from, sel.to, type);
}

function canAddInline(pm, type) {
  var _pm$selection2 = pm.selection;
  var from = _pm$selection2.from;
  var to = _pm$selection2.to;
  var empty = _pm$selection2.empty;

  if (empty) return !(0, _model.containsStyle)(pm.activeStyles(), type) && pm.doc.path(from.path).type.canContainStyle(type);
  var can = false;
  pm.doc.nodesBetween(from, to, function (node) {
    if (can || node.isTextblock && !node.type.canContainStyle(type)) return false;
    if (node.isInline && !(0, _model.containsStyle)(node.styles, type)) can = true;
  });
  return can;
}

function inlineStyleApplies(pm, type) {
  var _pm$selection3 = pm.selection;
  var from = _pm$selection3.from;
  var to = _pm$selection3.to;

  var relevant = false;
  pm.doc.nodesBetween(from, to, function (node) {
    if (node.isTextblock) {
      if (node.type.canContainStyle(type)) relevant = true;
      return false;
    }
  });
  return relevant;
}

function generateStyleCommands(type, name, labelName, info) {
  if (!labelName) labelName = name;
  var cap = name.charAt(0).toUpperCase() + name.slice(1);
  type.attachCommand("set" + cap, function (type) {
    return {
      label: "Set " + labelName,
      run: function run(pm) {
        pm.setStyle(type, true);
      },
      select: function select(pm) {
        return canAddInline(pm, type);
      }
    };
  });
  type.attachCommand("unset" + cap, function (type) {
    return {
      label: "Remove " + labelName,
      run: function run(pm) {
        pm.setStyle(type, false);
      },
      select: function select(pm) {
        return inlineStyleActive(pm, type);
      }
    };
  });
  type.attachCommand(name, function (type) {
    var command = {
      label: "Toggle " + labelName,
      run: function run(pm) {
        pm.setStyle(type, null);
      },
      active: function active(pm) {
        return inlineStyleActive(pm, type);
      },
      select: function select(pm) {
        return inlineStyleApplies(pm, type);
      },
      info: info
    };
    for (var prop in info) {
      command[prop] = info[prop];
    }return command;
  });
}

generateStyleCommands(_model.StrongStyle, "strong", null, {
  menuGroup: "inline",
  menuRank: 20,
  key: "Mod-B"
});

generateStyleCommands(_model.EmStyle, "em", "emphasis", {
  menuGroup: "inline",
  menuRank: 21,
  key: "Mod-I"
});

generateStyleCommands(_model.CodeStyle, "code", null, {
  menuGroup: "inline",
  menuRank: 22,
  key: "Mod-`"
});

_model.LinkStyle.attachCommand("unlink", function (type) {
  return {
    label: "Unlink",
    run: function run(pm) {
      pm.setStyle(type, false);
    },
    select: function select(pm) {
      return inlineStyleActive(pm, type);
    },
    active: function active() {
      return true;
    },
    menuGroup: "inline", menuRank: 30
  };
});
_model.LinkStyle.attachCommand("link", function (type) {
  return {
    label: "Add link",
    run: function run(pm, href, title) {
      pm.setStyle(type, true, { href: href, title: title });
    },
    params: [{ name: "Target", type: "text" }, { name: "Title", type: "text", "default": "" }],
    select: function select(pm) {
      return inlineStyleApplies(pm, type) && !inlineStyleActive(pm, type);
    },
    menuGroup: "inline", menuRank: 30
  };
});

_model.Image.attachCommand("insertImage", function (type) {
  return {
    label: "Insert image",
    run: function run(pm, src, alt, title) {
      return pm.tr.replaceSelection(type.create({ src: src, title: title, alt: alt })).apply(andScroll);
    },
    params: [{ name: "Image URL", type: "text" }, { name: "Description / alternative text", type: "text", "default": "" }, { name: "Title", type: "text", "default": "" }],
    select: function select(pm) {
      return pm.doc.path(pm.selection.from.path).type.canContainType(type);
    },
    menuGroup: "inline",
    menuRank: 40,
    prefillParams: function prefillParams(pm) {
      var node = pm.selection.node;

      if (node && node.type == type) return [node.attrs.src, node.attrs.alt, node.attrs.title];
    }
  };
});

/**
 * Get an offset moving backward from a current offset inside a node.
 *
 * @param  {Object} parent The parent node.
 * @param  {int}    offset Offset to move from inside the node.
 * @param  {string} by     Size to delete by. Either "char" or "word".
 * @return {[type]}        [description]
 */
function moveBackward(parent, offset, by) {
  if (by != "char" && by != "word") throw new Error("Unknown motion unit: " + by);

  var _parent$childBefore = parent.childBefore(offset);

  var index = _parent$childBefore.index;
  var innerOffset = _parent$childBefore.innerOffset;

  var cat = null,
      counted = 0;
  for (; index >= 0; index--, innerOffset = null) {
    var child = parent.child(index),
        size = child.offset;
    if (!child.isText) return cat ? offset : offset - 1;

    if (by == "char") {
      for (var i = innerOffset == null ? size : innerOffset; i > 0; i--) {
        if (!(0, _char.isExtendingChar)(child.text.charAt(i - 1))) return offset - 1;
        offset--;
      }
    } else if (by == "word") {
      // Work from the current position backwards through text of a singular
      // character category (e.g. "cat" of "#!*") until reaching a character in a
      // different category (i.e. the end of the word).
      for (var i = innerOffset == null ? size : innerOffset; i > 0; i--) {
        var nextCharCat = (0, _char.charCategory)(child.text.charAt(i - 1));
        if (cat == null || counted == 1 && cat == "space") cat = nextCharCat;else if (cat != nextCharCat) return offset;
        offset--;
        counted++;
      }
    }
  }
  return offset;
}

defineCommand("deleteSelection", {
  label: "Delete the selection",
  run: function run(pm) {
    return pm.tr.replaceSelection().apply(andScroll);
  },
  key: ["Backspace(10)", "Delete(10)", "Mod-Backspace(10)", "Mod-Delete(10)"],
  macKey: ["Ctrl-H(10)", "Alt-Backspace(10)", "Ctrl-D(10)", "Ctrl-Alt-Backspace(10)", "Alt-Delete(10)", "Alt-D(10)"]
});

function deleteBarrier(pm, cut) {
  var around = pm.doc.path(cut.path);
  var before = around.child(cut.offset - 1),
      after = around.child(cut.offset);
  if (before.type.canContainChildren(after) && pm.tr.join(cut).apply(andScroll) !== false) return;

  var conn = undefined;
  if (after.isTextblock && (conn = before.type.findConnection(after.type))) {
    var tr = pm.tr,
        end = cut.move(1);
    tr.step("ancestor", cut, end, null, { wrappers: [before].concat(_toConsumableArray(conn.map(function (t) {
        return t.create();
      }))) });
    tr.join(end);
    tr.join(cut);
    if (tr.apply(andScroll) !== false) return;
  }

  var selAfter = (0, _selection.findSelectionFrom)(pm.doc, cut, 1);
  return pm.tr.lift(selAfter.from, selAfter.to).apply(andScroll);
}

defineCommand("joinBackward", {
  label: "Join with the block above",
  run: function run(pm) {
    var _pm$selection4 = pm.selection;
    var head = _pm$selection4.head;
    var empty = _pm$selection4.empty;

    if (!empty || head.offset > 0) return false;

    // Find the node before this one
    var before = undefined,
        cut = undefined;
    for (var i = head.path.length - 1; !before && i >= 0; i--) {
      if (head.path[i] > 0) {
        cut = head.shorten(i);
        before = pm.doc.path(cut.path).child(cut.offset - 1);
      }
    } // If there is no node before this, try to lift
    if (!before) return pm.tr.lift(head).apply(andScroll);

    // If the node doesn't allow children, delete it
    if (before.type.contains == null) return pm.tr["delete"](cut.move(-1), cut).apply(andScroll);

    // Apply the joining algorithm
    return deleteBarrier(pm, cut);
  },
  key: ["Backspace(30)", "Mod-Backspace(30)"]
});

defineCommand("deleteCharBefore", {
  label: "Delete a character before the cursor",
  run: function run(pm) {
    var _pm$selection5 = pm.selection;
    var head = _pm$selection5.head;
    var empty = _pm$selection5.empty;

    if (!empty || head.offset == 0) return false;
    var from = moveBackward(pm.doc.path(head.path), head.offset, "char");
    return pm.tr["delete"](new _model.Pos(head.path, from), head).apply(andScroll);
  },
  key: "Backspace(60)",
  macKey: "Ctrl-H(40)"
});

defineCommand("deleteWordBefore", {
  label: "Delete the word before the cursor",
  run: function run(pm) {
    var _pm$selection6 = pm.selection;
    var head = _pm$selection6.head;
    var empty = _pm$selection6.empty;

    if (!empty || head.offset == 0) return false;
    var from = moveBackward(pm.doc.path(head.path), head.offset, "word");
    return pm.tr["delete"](new _model.Pos(head.path, from), head).apply(andScroll);
  },
  key: "Mod-Backspace(40)",
  macKey: "Alt-Backspace(40)"
});

function moveForward(parent, offset, by) {
  if (by != "char" && by != "word") throw new Error("Unknown motion unit: " + by);

  var _parent$childAfter = parent.childAfter(offset);

  var index = _parent$childAfter.index;
  var innerOffset = _parent$childAfter.innerOffset;

  var cat = null,
      counted = 0;
  for (; index < parent.length; index++, innerOffset = 0) {
    var child = parent.child(index),
        size = child.offset;
    if (!child.isText) return cat ? offset : offset + 1;

    if (by == "char") {
      for (var i = innerOffset; i < size; i++) {
        if (!(0, _char.isExtendingChar)(child.text.charAt(i + 1))) return offset + 1;
        offset++;
      }
    } else if (by == "word") {
      for (var i = innerOffset; i < size; i++) {
        var nextCharCat = (0, _char.charCategory)(child.text.charAt(i));
        if (cat == null || counted == 1 && cat == "space") cat = nextCharCat;else if (cat != nextCharCat) return offset;
        offset++;
        counted++;
      }
    }
  }
  return offset;
}

defineCommand("joinForward", {
  label: "Join with the block below",
  run: function run(pm) {
    var _pm$selection7 = pm.selection;
    var head = _pm$selection7.head;
    var empty = _pm$selection7.empty;

    if (!empty || head.offset < pm.doc.path(head.path).maxOffset) return false;

    // Find the node after this one
    var after = undefined,
        cut = undefined;
    for (var i = head.path.length - 1; !after && i >= 0; i--) {
      cut = head.shorten(i, 1);
      var _parent = pm.doc.path(cut.path);
      if (cut.offset < _parent.length) after = _parent.child(cut.offset);
    }

    // If there is no node after this, there's nothing to do
    if (!after) return false;

    // If the node doesn't allow children, delete it
    if (after.type.contains == null) return pm.tr["delete"](cut, cut.move(1)).apply(andScroll);

    // Apply the joining algorithm
    return deleteBarrier(pm, cut);
  },
  key: ["Delete(30)", "Mod-Delete(30)"]
});

defineCommand("deleteCharAfter", {
  label: "Delete a character after the cursor",
  run: function run(pm) {
    var _pm$selection8 = pm.selection;
    var head = _pm$selection8.head;
    var empty = _pm$selection8.empty;

    if (!empty || head.offset == pm.doc.path(head.path).maxOffset) return false;
    var to = moveForward(pm.doc.path(head.path), head.offset, "char");
    return pm.tr["delete"](head, new _model.Pos(head.path, to)).apply(andScroll);
  },
  key: "Delete(60)",
  macKey: "Ctrl-D(60)"
});

defineCommand("deleteWordAfter", {
  label: "Delete a character after the cursor",
  run: function run(pm) {
    var _pm$selection9 = pm.selection;
    var head = _pm$selection9.head;
    var empty = _pm$selection9.empty;

    if (!empty || head.offset == pm.doc.path(head.path).maxOffset) return false;
    var to = moveForward(pm.doc.path(head.path), head.offset, "word");
    return pm.tr["delete"](head, new _model.Pos(head.path, to)).apply(andScroll);
  },
  key: "Mod-Delete(40)",
  macKey: ["Ctrl-Alt-Backspace(40)", "Alt-Delete(40)", "Alt-D(40)"]
});

function joinPointAbove(pm) {
  var _pm$selection10 = pm.selection;
  var node = _pm$selection10.node;
  var from = _pm$selection10.from;

  if (node) return (0, _transform.joinableBlocks)(pm.doc, from) ? from : null;else return (0, _transform.joinPoint)(pm.doc, from, -1);
}

defineCommand("joinUp", {
  label: "Join with above block",
  run: function run(pm) {
    var node = pm.selection.node;
    var point = joinPointAbove(pm);
    if (!point) return false;
    pm.tr.join(point).apply();
    if (node) pm.setNodeSelection(point.move(-1));
  },
  select: function select(pm) {
    return joinPointAbove(pm);
  },
  menuGroup: "block", menuRank: 80,
  key: "Alt-Up"
});

function joinPointBelow(pm) {
  var _pm$selection11 = pm.selection;
  var node = _pm$selection11.node;
  var to = _pm$selection11.to;

  if (node) return (0, _transform.joinableBlocks)(pm.doc, to) ? to : null;else return (0, _transform.joinPoint)(pm.doc, to, 1);
}

defineCommand("joinDown", {
  label: "Join with below block",
  run: function run(pm) {
    var node = pm.selection.node;
    var point = joinPointBelow(pm);
    if (!point) return false;
    pm.tr.join(point).apply();
    if (node) pm.setNodeSelection(point.move(-1));
  },
  select: function select(pm) {
    return joinPointBelow(pm);
  },
  key: "Alt-Down"
});

defineCommand("lift", {
  label: "Lift out of enclosing block",
  run: function run(pm) {
    var _pm$selection12 = pm.selection;
    var from = _pm$selection12.from;
    var to = _pm$selection12.to;

    return pm.tr.lift(from, to).apply(andScroll);
  },
  select: function select(pm) {
    var _pm$selection13 = pm.selection;
    var from = _pm$selection13.from;
    var to = _pm$selection13.to;

    return (0, _transform.canLift)(pm.doc, from, to);
  },
  menuGroup: "block", menuRank: 75,
  key: "Alt-Left"
});

function isAtTopOfListItem(doc, from, to, listType) {
  return _model.Pos.samePath(from.path, to.path) && from.path.length >= 2 && from.path[from.path.length - 1] == 0 && listType.canContain(doc.path(from.path.slice(0, from.path.length - 1)));
}

function wrapCommand(type, name, labelName, isList, info) {
  type.attachCommand("wrap" + name, function (type) {
    var command = {
      label: "Wrap in " + labelName,
      run: function run(pm) {
        var _pm$selection14 = pm.selection;
        var from = _pm$selection14.from;
        var to = _pm$selection14.to;
        var head = _pm$selection14.head;var doJoin = false;
        if (isList && head && isAtTopOfListItem(pm.doc, from, to, type)) {
          // Don't do anything if this is the top of the list
          if (from.path[from.path.length - 2] == 0) return false;
          doJoin = true;
        }
        var tr = pm.tr.wrap(from, to, type.create());
        if (doJoin) tr.join(from.shorten(from.depth - 2));
        return tr.apply(andScroll);
      },
      select: function select(pm) {
        var _pm$selection15 = pm.selection;
        var from = _pm$selection15.from;
        var to = _pm$selection15.to;
        var head = _pm$selection15.head;

        if (isList && head && isAtTopOfListItem(pm.doc, from, to, type) && from.path[from.path.length - 2] == 0) return false;
        return (0, _transform.canWrap)(pm.doc, from, to, type.create());
      }
    };
    for (var key in info) {
      command[key] = info[key];
    }return command;
  });
}

wrapCommand(_model.BulletList, "BulletList", "bullet list", true, {
  menuGroup: "block",
  menuRank: 40,
  key: ["Alt-Right '*'", "Alt-Right '-'"]
});

wrapCommand(_model.OrderedList, "OrderedList", "ordered list", true, {
  menuGroup: "block",
  menuRank: 41,
  key: "Alt-Right '1'"
});

wrapCommand(_model.BlockQuote, "BlockQuote", "block quote", false, {
  menuGroup: "block",
  menuRank: 45,
  key: ["Alt-Right '>'", "Alt-Right '\"'"]
});

defineCommand("newlineInCode", {
  label: "Insert newline",
  run: function run(pm) {
    var _pm$selection16 = pm.selection;
    var from = _pm$selection16.from;
    var to = _pm$selection16.to;
    var node = _pm$selection16.node;var block = undefined;
    if (!node && _model.Pos.samePath(from.path, to.path) && (block = pm.doc.path(from.path)).type.isCode && to.offset < block.maxOffset) return pm.tr.typeText("\n").apply(andScroll);else return false;
  },
  key: "Enter(10)"
});

defineCommand("createParagraphNear", {
  label: "Create a paragraph near the selected leaf block",
  run: function run(pm) {
    var _pm$selection17 = pm.selection;
    var from = _pm$selection17.from;
    var to = _pm$selection17.to;
    var node = _pm$selection17.node;

    if (!node || !node.isBlock || node.type.contains) return false;
    var side = from.offset ? to : from;
    pm.tr.insert(side, pm.schema.defaultTextblockType().create()).apply(andScroll);
    pm.setSelection(new _model.Pos(side.toPath(), 0));
  },
  key: "Enter(20)"
});

defineCommand("liftEmptyBlock", {
  label: "Move current block up",
  run: function run(pm) {
    var _pm$selection18 = pm.selection;
    var head = _pm$selection18.head;
    var empty = _pm$selection18.empty;

    if (!empty || head.offset > 0) return false;
    if (head.path[head.path.length - 1] > 0 && pm.tr.split(head.shorten()).apply() !== false) return;
    return pm.tr.lift(head).apply(andScroll);
  },
  key: "Enter(30)"
});

defineCommand("splitBlock", {
  label: "Split the current block",
  run: function run(pm) {
    var _pm$selection19 = pm.selection;
    var from = _pm$selection19.from;
    var to = _pm$selection19.to;
    var node = _pm$selection19.node;var block = pm.doc.path(to.path);
    if (node && node.isBlock) {
      if (!from.offset) return false;
      return pm.tr.split(from).apply(andScroll);
    } else {
      var type = to.offset == block.maxOffset ? pm.schema.defaultTextblockType().create() : null;
      return pm.tr["delete"](from, to).split(from, 1, type).apply(andScroll);
    }
  },
  key: "Enter(60)"
});

_model.ListItem.attachCommand("splitListItem", function (type) {
  return {
    label: "Split the current list item",
    run: function run(pm) {
      var _pm$selection20 = pm.selection;
      var from = _pm$selection20.from;
      var to = _pm$selection20.to;
      var node = _pm$selection20.node;
      var empty = _pm$selection20.empty;

      if (node && node.isBlock || from.path.length < 2 || !_model.Pos.samePath(from.path, to.path) || empty && from.offset == 0) return false;
      var toParent = from.shorten(),
          grandParent = pm.doc.path(toParent.path);
      if (grandParent.type != type) return false;
      var nextType = to.offset == grandParent.child(toParent.offset).maxOffset ? pm.schema.defaultTextblockType().create() : null;
      return pm.tr["delete"](from, to).split(from, 2, nextType).apply(andScroll);
    },
    key: "Enter(50)"
  };
});

function blockTypeCommand(type, name, labelName, attrs, key) {
  if (!attrs) attrs = {};
  type.attachCommand(name, function (type) {
    return {
      label: "Change to " + labelName,
      run: function run(pm) {
        var _pm$selection21 = pm.selection;
        var from = _pm$selection21.from;
        var to = _pm$selection21.to;

        return pm.tr.setBlockType(from, to, pm.schema.node(type, attrs)).apply(andScroll);
      },
      select: function select(pm) {
        var _pm$selection22 = pm.selection;
        var from = _pm$selection22.from;
        var to = _pm$selection22.to;
        var node = _pm$selection22.node;

        if (node) return node.isTextblock && !(0, _model.compareMarkup)(type, node.type, attrs, node.attrs);else return !(0, _transform.alreadyHasBlockType)(pm.doc, from, to, type, attrs);
      },
      key: key
    };
  });
}

blockTypeCommand(_model.Heading, "makeH1", "heading 1", { level: 1 }, "Mod-H '1'");
blockTypeCommand(_model.Heading, "makeH2", "heading 2", { level: 2 }, "Mod-H '2'");
blockTypeCommand(_model.Heading, "makeH3", "heading 3", { level: 3 }, "Mod-H '3'");
blockTypeCommand(_model.Heading, "makeH4", "heading 4", { level: 4 }, "Mod-H '4'");
blockTypeCommand(_model.Heading, "makeH5", "heading 5", { level: 5 }, "Mod-H '5'");
blockTypeCommand(_model.Heading, "makeH6", "heading 6", { level: 6 }, "Mod-H '6'");

blockTypeCommand(_model.Paragraph, "makeParagraph", "paragraph", null, "Mod-P");
blockTypeCommand(_model.CodeBlock, "makeCodeBlock", "code block", null, "Mod-\\");

_model.HorizontalRule.attachCommand("insertHorizontalRule", function (type) {
  return {
    label: "Insert horizontal rule",
    run: function run(pm) {
      return pm.tr.replaceSelection(type.create()).apply(andScroll);
    },
    key: "Mod-Space"
  };
});

defineCommand("undo", {
  label: "Undo last change",
  run: function run(pm) {
    pm.scrollIntoView();return pm.history.undo();
  },
  select: function select(pm) {
    return pm.history.canUndo();
  },
  menuGroup: "history",
  menuRank: 10,
  key: "Mod-Z"
});

defineCommand("redo", {
  label: "Redo last undone change",
  run: function run(pm) {
    pm.scrollIntoView();return pm.history.redo();
  },
  select: function select(pm) {
    return pm.history.canRedo();
  },
  menuGroup: "history",
  menuRank: 20,
  key: ["Mod-Y", "Shift-Mod-Z"]
});

defineCommand("textblockType", {
  label: "Change block type",
  run: function run(pm, type) {
    var _pm$selection23 = pm.selection;
    var from = _pm$selection23.from;
    var to = _pm$selection23.to;

    return pm.tr.setBlockType(from, to, type).apply();
  },
  select: function select(pm) {
    var node = pm.selection.node;

    return !node || node.isTextblock;
  },
  params: [{ name: "Type", type: "select", options: listTextblockTypes, "default": currentTextblockType, defaultLabel: "Type..." }],
  display: "select",
  menuGroup: "block", menuRank: 10
});

_model.Paragraph.prototype.textblockTypes = [{ label: "Normal", rank: 10 }];
_model.CodeBlock.prototype.textblockTypes = [{ label: "Code", rank: 20 }];
_model.Heading.prototype.textblockTypes = [1, 2, 3, 4, 5, 6].map(function (n) {
  return { label: "Head " + n, attrs: { level: n }, rank: 30 + n };
});

function listTextblockTypes(pm) {
  var cached = pm.schema.cached.textblockTypes;
  if (cached) return cached;

  var found = [];
  for (var _name4 in pm.schema.nodes) {
    var type = pm.schema.nodes[_name4];
    if (!type.textblockTypes) continue;
    for (var i = 0; i < type.textblockTypes.length; i++) {
      var info = type.textblockTypes[i];
      (0, _utilSortedinsert2["default"])(found, { label: info.label, value: type.create(info.attrs), rank: info.rank }, function (a, b) {
        return a.rank - b.rank;
      });
    }
  }
  return pm.schema.cached.textblockTypes = found;
}

function currentTextblockType(pm) {
  var _pm$selection24 = pm.selection;
  var from = _pm$selection24.from;
  var to = _pm$selection24.to;
  var node = _pm$selection24.node;

  if (!node || node.isInline) {
    if (!_model.Pos.samePath(from.path, to.path)) return null;
    node = pm.doc.path(from.path);
  } else if (!node.isTextblock) {
    return null;
  }
  var types = listTextblockTypes(pm);
  for (var i = 0; i < types.length; i++) {
    if (types[i].value.sameMarkup(node)) return types[i];
  }
}

function nodeAboveSelection(pm) {
  var sel = pm.selection,
      i = 0;
  if (sel.node) return !!sel.from.depth && sel.from.shorten();
  for (; i < sel.head.depth && i < sel.anchor.depth; i++) if (sel.head.path[i] != sel.anchor.path[i]) break;
  return i == 0 ? false : sel.head.shorten(i - 1);
}

defineCommand("selectParentBlock", {
  label: "Select parent node",
  run: function run(pm) {
    var node = nodeAboveSelection(pm);
    if (!node) return false;
    pm.setNodeSelection(node);
  },
  select: function select(pm) {
    return nodeAboveSelection(pm);
  },
  menuGroup: "block",
  menuRank: 90,
  key: "Esc"
});

function moveSelectionBlock(pm, dir) {
  var _pm$selection25 = pm.selection;
  var from = _pm$selection25.from;
  var to = _pm$selection25.to;
  var node = _pm$selection25.node;

  var side = dir > 0 ? to : from;
  return (0, _selection.findSelectionFrom)(pm.doc, node && node.isBlock ? side : side.shorten(null, dir > 0 ? 1 : 0), dir);
}

function selectBlockHorizontally(pm, dir) {
  var _pm$selection26 = pm.selection;
  var empty = _pm$selection26.empty;
  var node = _pm$selection26.node;
  var from = _pm$selection26.from;
  var to = _pm$selection26.to;

  if (!empty && !node) return false;

  if (node && node.isInline) {
    pm.setSelection(dir > 0 ? to : from);
    return true;
  }

  var parent = undefined;
  if (!node && (parent = pm.doc.path(from.path)) && (dir > 0 ? from.offset < parent.maxOffset : from.offset)) {
    var _ref2 = dir > 0 ? parent.childAfter(from.offset) : parent.childBefore(from.offset);

    var nextNode = _ref2.node;
    var innerOffset = _ref2.innerOffset;

    if (nextNode && nextNode.type.selectable && (dir > 0 ? !innerOffset : innerOffset == nextNode.offset)) {
      pm.setNodeSelection(dir < 0 ? from.move(-1) : from);
      return true;
    }
    return false;
  }

  var next = moveSelectionBlock(pm, dir);
  if (next && (next instanceof _selection.NodeSelection || node)) {
    pm.setSelection(next);
    return true;
  }
  return false;
}

defineCommand("selectBlockLeft", {
  label: "Move the selection onto or out of the block to the left",
  run: function run(pm) {
    var done = selectBlockHorizontally(pm, -1);
    if (done) pm.scrollIntoView();
    return done;
  },
  key: ["Left", "Mod-Left"]
});

defineCommand("selectBlockRight", {
  label: "Move the selection onto or out of the block to the right",
  run: function run(pm) {
    var done = selectBlockHorizontally(pm, 1);
    if (done) pm.scrollIntoView();
    return done;
  },
  key: ["Right", "Mod-Right"]
});

function selectBlockVertically(pm, dir) {
  var _pm$selection27 = pm.selection;
  var empty = _pm$selection27.empty;
  var node = _pm$selection27.node;
  var from = _pm$selection27.from;
  var to = _pm$selection27.to;

  if (!empty && !node) return false;

  var leavingTextblock = true;
  if (!node || node.isInline) leavingTextblock = (0, _selection.verticalMotionLeavesTextblock)(pm, dir > 0 ? to : from, dir);

  if (leavingTextblock) {
    var next = moveSelectionBlock(pm, dir);
    if (next && next instanceof _selection.NodeSelection) {
      pm.setSelection(next);
      if (!node) pm.sel.lastNonNodePos = from;
      return true;
    }
  }

  if (!node) return false;

  if (node.isInline) {
    (0, _selection.setDOMSelectionToPos)(pm, from);
    return false;
  }

  var last = pm.sel.lastNonNodePos;
  var beyond = (0, _selection.findSelectionFrom)(pm.doc, dir < 0 ? from : to, dir);
  if (last && beyond && _model.Pos.samePath(last.path, beyond.from.path)) {
    (0, _selection.setDOMSelectionToPos)(pm, last);
    return false;
  }
  pm.setSelection(beyond);
  return true;
}

defineCommand("selectBlockUp", {
  label: "Move the selection onto or out of the block above",
  run: function run(pm) {
    var done = selectBlockVertically(pm, -1);
    if (done !== false) pm.scrollIntoView();
    return done;
  },
  key: "Up"
});

defineCommand("selectBlockDown", {
  label: "Move the selection onto or out of the block below",
  run: function run(pm) {
    var done = selectBlockVertically(pm, 1);
    if (done !== false) pm.scrollIntoView();
    return done;
  },
  key: "Down"
});

},{"../dom":1,"../model":25,"../transform":38,"../util/sortedinsert":50,"./char":3,"./keys":12,"./selection":16}],5:[function(require,module,exports){
"use strict";

var _dom = require("../dom");

(0, _dom.insertCSS)("\n\n.ProseMirror {\n  border: 1px solid silver;\n  position: relative;\n}\n\n.ProseMirror-content {\n  padding: 4px 8px 4px 14px;\n  white-space: pre-wrap;\n  line-height: 1.2;\n}\n\n.ProseMirror-drop-target {\n  position: absolute;\n  width: 1px;\n  background: #666;\n  display: none;\n}\n\n.ProseMirror-content ul.tight p, .ProseMirror-content ol.tight p {\n  margin: 0;\n}\n\n.ProseMirror-content ul, .ProseMirror-content ol {\n  padding-left: 30px;\n  cursor: default;\n}\n\n.ProseMirror-content blockquote {\n  padding-left: 1em;\n  border-left: 3px solid #eee;\n  margin-left: 0; margin-right: 0;\n}\n\n.ProseMirror-content pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n.ProseMirror-content p:first-child,\n.ProseMirror-content h1:first-child,\n.ProseMirror-content h2:first-child,\n.ProseMirror-content h3:first-child,\n.ProseMirror-content h4:first-child,\n.ProseMirror-content h5:first-child,\n.ProseMirror-content h6:first-child {\n  margin-top: .3em;\n}\n\n/* Add space around the hr to make clicking it easier */\n\n.ProseMirror-content hr {\n  position: relative;\n  height: 6px;\n  border: none;\n}\n\n.ProseMirror-content hr:after {\n  content: \"\";\n  position: absolute;\n  left: 10px;\n  right: 10px;\n  top: 2px;\n  border-top: 2px solid silver;\n}\n\n.ProseMirror-content img {\n  cursor: default;\n}\n\n/* Make sure li selections wrap around markers */\n\n.ProseMirror-content li {\n  position: relative;\n  pointer-events: none; /* Don't do weird stuff with marker clicks */\n}\n.ProseMirror-content li > * {\n  pointer-events: auto;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: \"\";\n  position: absolute;\n  left: -32px;\n  right: -2px; top: -2px; bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n");

},{"../dom":1}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.applyDOMChange = applyDOMChange;
exports.textContext = textContext;
exports.textInContext = textInContext;

var _model = require("../model");

var _parseDom = require("../parse/dom");

var _transformTree = require("../transform/tree");

var _selection = require("./selection");

function isAtEnd(node, pos, depth) {
  for (var i = depth || 0; i < pos.path.length; i++) {
    var n = pos.path[depth];
    if (n < node.length - 1) return false;
    node = node.child(n);
  }
  return pos.offset == node.maxOffset;
}
function isAtStart(pos, depth) {
  if (pos.offset > 0) return false;
  for (var i = depth || 0; i < pos.path.length; i++) {
    if (pos.path[depth] > 0) return false;
  }return true;
}

function parseNearSelection(pm) {
  var dom = pm.content,
      node = pm.doc;
  var _pm$selection = pm.selection;
  var from = _pm$selection.from;
  var to = _pm$selection.to;

  for (var depth = 0;; depth++) {
    var toNode = node.child(to.path[depth]);
    var fromStart = isAtStart(from, depth + 1);
    var toEnd = isAtEnd(toNode, to, depth + 1);
    if (fromStart || toEnd || from.path[depth] != to.path[depth] || toNode.isTextblock) {
      var startOffset = depth == from.depth ? from.offset : from.path[depth];
      if (fromStart && startOffset > 0) startOffset--;
      var endOffset = depth == to.depth ? to.offset : to.path[depth] + 1;
      if (toEnd && endOffset < node.length - 1) endOffset++;
      var parsed = (0, _parseDom.fromDOM)(pm.schema, dom, { topNode: node.copy(),
        from: startOffset,
        to: dom.childNodes.length - (node.length - endOffset) });
      parsed = parsed.copy(node.slice(0, startOffset).concat(parsed.children).concat(node.slice(endOffset)));
      for (var i = depth - 1; i >= 0; i--) {
        var wrap = pm.doc.path(from.path.slice(0, i));
        parsed = wrap.splice(from.path[i], from.path[i] + 1, [parsed]);
      }
      return parsed;
    }
    node = toNode;
    dom = (0, _selection.findByPath)(dom, from.path[depth], false);
  }
}

function applyDOMChange(pm) {
  var updated = parseNearSelection(pm);
  var changeStart = (0, _model.findDiffStart)(pm.doc, updated);
  if (changeStart) {
    var changeEnd = findDiffEndConstrained(pm.doc, updated, changeStart);
    // Mark nodes touched by this change as 'to be redrawn'
    pm.markRangeDirty((0, _model.siblingRange)(pm.doc, changeStart.a, changeEnd.a));

    pm.tr.replace(changeStart.a, changeEnd.a, updated, changeStart.b, changeEnd.b).apply();
    return true;
  } else {
    return false;
  }
}

function offsetBy(first, second, pos) {
  var same = (0, _transformTree.samePathDepth)(first, second);
  var firstEnd = same == first.depth,
      secondEnd = same == second.depth;
  var off = (secondEnd ? second.offset : second.path[same]) - (firstEnd ? first.offset : first.path[same]);
  var shorter = firstEnd ? pos.move(off) : pos.shorten(same, off);
  if (secondEnd) return shorter;else return shorter.extend(new _model.Pos(second.path.slice(same), second.offset));
}

function findDiffEndConstrained(a, b, start) {
  var end = (0, _model.findDiffEnd)(a, b);
  if (!end) return end;
  if (end.a.cmp(start.a) < 0) return { a: start.a, b: offsetBy(end.a, start.a, end.b) };
  if (end.b.cmp(start.b) < 0) return { a: offsetBy(end.b, start.b, end.a), b: start.b };
  return end;
}

// Text-only queries for composition events

function textContext(data) {
  var range = getSelection().getRangeAt(0);
  var start = range.startContainer,
      end = range.endContainer;
  if (start == end && start.nodeType == 3) {
    var value = start.nodeValue,
        lead = range.startOffset,
        _end = range.endOffset;
    if (data && _end >= data.length && value.slice(_end - data.length, _end) == data) lead = _end - data.length;
    return { inside: start, lead: lead, trail: value.length - _end };
  }

  var sizeBefore = null,
      sizeAfter = null;
  var before = start.childNodes[range.startOffset - 1] || nodeBefore(start);
  while (before.lastChild) before = before.lastChild;
  if (before && before.nodeType == 3) {
    var value = before.nodeValue;
    sizeBefore = value.length;
    if (data && value.slice(value.length - data.length) == data) sizeBefore -= data.length;
  }
  var after = end.childNodes[range.endOffset] || nodeAfter(end);
  while (after.firstChild) after = after.firstChild;
  if (after && after.nodeType == 3) sizeAfter = after.nodeValue.length;

  return { before: before, sizeBefore: sizeBefore,
    after: after, sizeAfter: sizeAfter };
}

function textInContext(context, deflt) {
  if (context.inside) {
    var _val = context.inside.nodeValue;
    return _val.slice(context.lead, _val.length - context.trail);
  } else {
    var before = context.before,
        after = context.after,
        val = "";
    if (!before) return deflt;
    if (before.nodeType == 3) val = before.nodeValue.slice(context.sizeBefore);
    var scan = scanText(before, after);
    if (scan == null) return deflt;
    val += scan;
    if (after && after.nodeType == 3) {
      var valAfter = after.nodeValue;
      val += valAfter.slice(0, valAfter.length - context.sizeAfter);
    }
    return val;
  }
}

function nodeAfter(node) {
  for (;;) {
    var next = node.nextSibling;
    if (next) {
      while (next.firstChild) next = next.firstChild;
      return next;
    }
    if (!(node = node.parentElement)) return null;
  }
}

function nodeBefore(node) {
  for (;;) {
    var prev = node.previousSibling;
    if (prev) {
      while (prev.lastChild) prev = prev.lastChild;
      return prev;
    }
    if (!(node = node.parentElement)) return null;
  }
}

function scanText(start, end) {
  var text = "",
      cur = nodeAfter(start);
  for (;;) {
    if (cur == end) return text;
    if (!cur) return null;
    if (cur.nodeType == 3) text += cur.nodeValue;
    cur = cur.firstChild || nodeAfter(cur);
  }
}

},{"../model":25,"../parse/dom":31,"../transform/tree":46,"./selection":16}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.draw = draw;
exports.redraw = redraw;

var _model = require("../model");

var _serializeDom = require("../serialize/dom");

var _dom = require("../dom");

var nonEditable = { html_block: true, html_tag: true, horizontal_rule: true };

function options(path, ranges) {
  return {
    onRender: function onRender(node, dom, offset) {
      if (!node.isInline && offset != null) dom.setAttribute("pm-path", offset);
      if (nonEditable.hasOwnProperty(node.type.name)) dom.contentEditable = false;
      return dom;
    },
    renderInlineFlat: function renderInlineFlat(node, dom, offset) {
      ranges.advanceTo(new _model.Pos(path, offset));
      var end = new _model.Pos(path, offset + node.offset);
      var nextCut = ranges.nextChangeBefore(end);

      var inner = dom,
          wrapped = undefined;
      for (var i = 0; i < node.styles.length; i++) {
        inner = inner.firstChild;
      }if (dom.nodeType != 1) {
        dom = (0, _dom.elt)("span", null, dom);
        if (!nextCut) wrapped = dom;
      }
      if (!wrapped && (nextCut || ranges.current.length)) {
        wrapped = inner == dom ? dom = (0, _dom.elt)("span", null, inner) : inner.parentNode.appendChild((0, _dom.elt)("span", null, inner));
      }

      dom.setAttribute("pm-span", offset + "-" + end.offset);
      if (!node.isText) dom.setAttribute("pm-span-atom", "true");

      var inlineOffset = 0;
      while (nextCut) {
        var size = nextCut - offset;
        var split = splitSpan(wrapped, size);
        if (ranges.current.length) split.className = ranges.current.join(" ");
        split.setAttribute("pm-span-offset", inlineOffset);
        inlineOffset += size;
        offset += size;
        ranges.advanceTo(new _model.Pos(path, offset));
        if (!(nextCut = ranges.nextChangeBefore(end))) wrapped.setAttribute("pm-span-offset", inlineOffset);
      }

      if (ranges.current.length) wrapped.className = ranges.current.join(" ");
      return dom;
    },
    document: document,
    path: path
  };
}

function splitSpan(span, at) {
  var textNode = span.firstChild,
      text = textNode.nodeValue;
  var newNode = span.parentNode.insertBefore((0, _dom.elt)("span", null, text.slice(0, at)), span);
  textNode.nodeValue = text.slice(at);
  return newNode;
}

function draw(pm, doc) {
  pm.content.textContent = "";
  pm.content.appendChild((0, _serializeDom.toDOM)(doc, options([], pm.ranges.activeRangeTracker())));
}

function deleteNextNodes(parent, at, amount) {
  for (var i = 0; i < amount; i++) {
    var prev = at;
    at = at.nextSibling;
    parent.removeChild(prev);
  }
  return at;
}

function redraw(pm, dirty, doc, prev) {
  var ranges = pm.ranges.activeRangeTracker();
  var path = [];

  function scan(dom, node, prev) {
    var status = [],
        inPrev = [],
        inNode = [];
    for (var i = 0, _j = 0; i < prev.length && _j < node.width; i++) {
      var cur = prev.child(i),
          dirtyStatus = dirty.get(cur);
      status.push(dirtyStatus);
      var matching = dirtyStatus ? -1 : node.children.indexOf(cur, _j);
      if (matching > -1) {
        inNode[i] = matching;
        inPrev[matching] = i;
        _j = matching + 1;
      }
    }

    if (node.isTextblock) {
      var needsBR = node.length == 0 || node.lastChild.type == node.type.schema.nodes.hard_break;
      var last = dom.lastChild,
          hasBR = last && last.nodeType == 1 && last.hasAttribute("pm-force-br");
      if (needsBR && !hasBR) dom.appendChild((0, _dom.elt)("br", { "pm-force-br": "true" }));else if (!needsBR && hasBR) dom.removeChild(last);
    }

    var domPos = dom.firstChild,
        j = 0;
    var block = node.isTextblock;
    for (var i = 0, offset = 0; i < node.length; i++) {
      var child = node.child(i);
      if (!block) path.push(i);
      var found = inPrev[i];
      var nodeLeft = true;
      if (found != null) {
        domPos = deleteNextNodes(dom, domPos, found - j);
        j = found;
      } else if (!block && j < prev.length && inNode[j] == null && status[j] != 2 && child.sameMarkup(prev.child(j))) {
        scan(domPos, child, prev.child(j));
      } else {
        dom.insertBefore((0, _serializeDom.renderNodeToDOM)(child, options(path, ranges), block ? offset : i), domPos);
        nodeLeft = false;
      }
      if (nodeLeft) {
        if (block) domPos.setAttribute("pm-span", offset + "-" + (offset + child.offset));else domPos.setAttribute("pm-path", i);
        domPos = domPos.nextSibling;
        j++;
      }
      if (block) offset += child.offset;else path.pop();
    }
    deleteNextNodes(dom, domPos, prev.length - j);
  }
  scan(pm.content, doc, prev);
}

},{"../dom":1,"../model":25,"../serialize/dom":34}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.eventMixin = eventMixin;
var methods = {
  on: function on(type, f) {
    var map = this._handlers || (this._handlers = {});
    var arr = map[type] || (map[type] = []);
    arr.push(f);
  },

  off: function off(type, f) {
    var arr = this._handlers && this._handlers[type];
    if (arr) for (var i = 0; i < arr.length; ++i) {
      if (arr[i] == f) {
        arr.splice(i, 1);break;
      }
    }
  },

  signal: function signal(type) {
    var arr = this._handlers && this._handlers[type];

    for (var _len = arguments.length, values = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      values[_key - 1] = arguments[_key];
    }

    if (arr) for (var i = 0; i < arr.length; ++i) {
      arr[i].apply(arr, values);
    }
  },

  signalHandleable: function signalHandleable(type) {
    var arr = this._handlers && this._handlers[type];
    if (arr) {
      for (var _len2 = arguments.length, values = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        values[_key2 - 1] = arguments[_key2];
      }

      for (var i = 0; i < arr.length; ++i) {
        var result = arr[i].apply(arr, values);
        if (result !== false) return result;
      }
    }return false;
  },

  hasHandler: function hasHandler(type) {
    var arr = this._handlers && this._handlers[type];
    return arr && arr.length > 0;
  }
};

// Add event-related methods to a constructor's prototype, to make
// registering events on such objects more convenient.

function eventMixin(ctor) {
  var proto = ctor.prototype;
  for (var prop in methods) if (methods.hasOwnProperty(prop)) proto[prop] = methods[prop];
}

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _transform = require("../transform");

var InvertedStep = function InvertedStep(step, version, id) {
  _classCallCheck(this, InvertedStep);

  this.step = step;
  this.version = version;
  this.id = id;
};

var BranchRemapping = (function () {
  function BranchRemapping(branch) {
    _classCallCheck(this, BranchRemapping);

    this.branch = branch;
    this.remap = new _transform.Remapping();
    this.version = branch.version;
    this.mirrorBuffer = Object.create(null);
  }

  _createClass(BranchRemapping, [{
    key: "moveToVersion",
    value: function moveToVersion(version) {
      while (this.version > version) this.addNextMap();
    }
  }, {
    key: "addNextMap",
    value: function addNextMap() {
      var found = this.branch.mirror[this.version];
      var mapOffset = this.branch.maps.length - (this.branch.version - this.version) - 1;
      var id = this.remap.addToFront(this.branch.maps[mapOffset], this.mirrorBuffer[this.version]);
      --this.version;
      if (found != null) this.mirrorBuffer[found] = id;
      return id;
    }
  }, {
    key: "movePastStep",
    value: function movePastStep(result) {
      var id = this.addNextMap();
      if (result) this.remap.addToBack(result.map, id);
    }
  }]);

  return BranchRemapping;
})();

var workTime = 100,
    pauseTime = 150;

var CompressionWorker = (function () {
  function CompressionWorker(doc, branch, callback) {
    _classCallCheck(this, CompressionWorker);

    this.branch = branch;
    this.callback = callback;
    this.remap = new BranchRemapping(branch);

    this.doc = doc;
    this.events = [];
    this.maps = [];
    this.version = this.startVersion = branch.version;

    this.i = branch.events.length;
    this.timeout = null;
    this.aborted = false;
  }

  _createClass(CompressionWorker, [{
    key: "work",
    value: function work() {
      var _this = this;

      if (this.aborted) return;

      var endTime = Date.now() + workTime;

      for (;;) {
        if (this.i == 0) return this.finish();
        var _event = this.branch.events[--this.i],
            outEvent = [];
        for (var j = _event.length - 1; j >= 0; j--) {
          var _event$j = _event[j];
          var step = _event$j.step;
          var stepVersion = _event$j.version;
          var stepID = _event$j.id;

          this.remap.moveToVersion(stepVersion);

          var mappedStep = (0, _transform.mapStep)(step, this.remap.remap);
          if (mappedStep && isDelStep(step)) {
            var extra = 0,
                start = step.from;
            while (j > 0) {
              var next = _event[j - 1];
              if (next.version != stepVersion - 1 || !isDelStep(next.step) || start.cmp(next.step.to)) break;
              extra += next.step.to.offset - next.step.from.offset;
              start = next.step.from;
              stepVersion--;
              j--;
              this.remap.addNextMap();
            }
            if (extra > 0) {
              var _start = mappedStep.from.move(-extra);
              mappedStep = new _transform.Step("replace", _start, mappedStep.to, _start, { nodes: [], openLeft: 0, openRight: 0 });
            }
          }
          var result = mappedStep && mappedStep.apply(this.doc);
          if (result) {
            this.doc = result.doc;
            this.maps.push(result.map.invert());
            outEvent.push(new InvertedStep(mappedStep, this.version, stepID));
            this.version--;
          }
          this.remap.movePastStep(result);
        }
        if (outEvent.length) {
          outEvent.reverse();
          this.events.push(outEvent);
        }
        if (Date.now() > endTime) {
          this.timeout = window.setTimeout(function () {
            return _this.work();
          }, pauseTime);
          return;
        }
      }
    }
  }, {
    key: "finish",
    value: function finish() {
      if (this.aborted) return;

      this.events.reverse();
      this.maps.reverse();
      this.callback(this.maps.concat(this.branch.maps.slice(this.branch.maps.length - (this.branch.version - this.startVersion))), this.events);
    }
  }, {
    key: "abort",
    value: function abort() {
      this.aborted = true;
      window.clearTimeout(this.timeout);
    }
  }]);

  return CompressionWorker;
})();

function isDelStep(step) {
  return step.name == "replace" && step.from.offset < step.to.offset && _model.Pos.samePath(step.from.path, step.to.path) && step.param.nodes.length == 0;
}

var compressStepCount = 150;

var Branch = (function () {
  function Branch(maxDepth) {
    _classCallCheck(this, Branch);

    this.maxDepth = maxDepth;
    this.version = 0;
    this.nextStepID = 1;

    this.maps = [];
    this.mirror = Object.create(null);
    this.events = [];

    this.stepsSinceCompress = 0;
    this.compressing = null;
    this.compressTimeout = null;
  }

  _createClass(Branch, [{
    key: "clear",
    value: function clear(force) {
      if (force || !this.empty()) {
        this.maps.length = this.events.length = this.stepsSinceCompress = 0;
        this.mirror = Object.create(null);
        this.abortCompression();
      }
    }
  }, {
    key: "newEvent",
    value: function newEvent() {
      this.abortCompression();
      this.events.push([]);
      while (this.events.length > this.maxDepth) this.events.shift();
    }
  }, {
    key: "addMap",
    value: function addMap(map) {
      if (!this.empty()) {
        this.maps.push(map);
        this.version++;
        this.stepsSinceCompress++;
        return true;
      }
    }
  }, {
    key: "empty",
    value: function empty() {
      return this.events.length == 0;
    }
  }, {
    key: "addStep",
    value: function addStep(step, map, id) {
      this.addMap(map);
      if (id == null) id = this.nextStepID++;
      this.events[this.events.length - 1].push(new InvertedStep(step, this.version, id));
    }
  }, {
    key: "addTransform",
    value: function addTransform(transform, ids) {
      this.abortCompression();
      for (var i = 0; i < transform.steps.length; i++) {
        var inverted = transform.steps[i].invert(transform.docs[i], transform.maps[i]);
        this.addStep(inverted, transform.maps[i], ids && ids[i]);
      }
    }
  }, {
    key: "popEvent",
    value: function popEvent(doc, allowCollapsing) {
      this.abortCompression();
      var event = this.events.pop();
      if (!event) return null;

      var remap = new BranchRemapping(this),
          collapsing = allowCollapsing;
      var tr = new _transform.Transform(doc);
      var ids = [];

      for (var i = event.length - 1; i >= 0; i--) {
        var invertedStep = event[i],
            step = invertedStep.step;
        if (!collapsing || invertedStep.version != remap.version) {
          collapsing = false;
          remap.moveToVersion(invertedStep.version);

          step = (0, _transform.mapStep)(step, remap.remap);
          var result = step && tr.step(step);
          if (result) {
            ids.push(invertedStep.id);
            if (this.addMap(result.map)) this.mirror[this.version] = invertedStep.version;
          }

          if (i > 0) remap.movePastStep(result);
        } else {
          this.version--;
          delete this.mirror[this.version];
          this.maps.pop();
          tr.step(step);
          ids.push(invertedStep.id);
          --remap.version;
        }
      }
      if (this.empty()) this.clear(true);
      return { transform: tr, ids: ids };
    }
  }, {
    key: "getVersion",
    value: function getVersion() {
      return { id: this.nextStepID, version: this.version };
    }
  }, {
    key: "findVersion",
    value: function findVersion(version) {
      for (var i = this.events.length - 1; i >= 0; i--) {
        var _event2 = this.events[i];
        for (var j = _event2.length - 1; j >= 0; j--) {
          var step = _event2[j];
          if (step.id == version.id) return { event: i, step: j };else if (step.id < version.id) return { event: i, step: j + 1 };
        }
      }
    }
  }, {
    key: "rebased",
    value: function rebased(newMaps, rebasedTransform, positions) {
      if (this.empty()) return;
      this.abortCompression();

      var startVersion = this.version - positions.length;

      // Update and clean up the events
      out: for (var i = this.events.length - 1; i >= 0; i--) {
        var _event3 = this.events[i];
        for (var j = _event3.length - 1; j >= 0; j--) {
          var step = _event3[j];
          if (step.version <= startVersion) break out;
          var off = positions[step.version - startVersion - 1];
          if (off == -1) {
            _event3.splice(j--, 1);
          } else {
            var inv = rebasedTransform.steps[off].invert(rebasedTransform.docs[off], rebasedTransform.maps[off]);
            _event3[j] = new InvertedStep(inv, startVersion + newMaps.length + off + 1, step.id);
          }
        }
      }

      // Sync the array of maps
      if (this.maps.length > positions.length) this.maps = this.maps.slice(0, this.maps.length - positions.length).concat(newMaps).concat(rebasedTransform.maps);else this.maps = rebasedTransform.maps.slice();

      this.version = startVersion + newMaps.length + rebasedTransform.maps.length;

      this.stepsSinceCompress += newMaps.length + rebasedTransform.steps.length - positions.length;
    }
  }, {
    key: "abortCompression",
    value: function abortCompression() {
      if (this.compressing) {
        this.compressing.abort();
        this.compressing = null;
      }
    }
  }, {
    key: "needsCompression",
    value: function needsCompression() {
      return this.stepsSinceCompress > compressStepCount && !this.compressing;
    }
  }, {
    key: "startCompression",
    value: function startCompression(doc) {
      var _this2 = this;

      this.compressing = new CompressionWorker(doc, this, function (maps, events) {
        _this2.maps = maps;
        _this2.events = events;
        _this2.mirror = Object.create(null);
        _this2.compressing = null;
        _this2.stepsSinceCompress = 0;
      });
      this.compressing.work();
    }
  }]);

  return Branch;
})();

var compressDelay = 750;

var History = (function () {
  function History(pm) {
    var _this3 = this;

    _classCallCheck(this, History);

    this.pm = pm;

    this.done = new Branch(pm.options.historyDepth);
    this.undone = new Branch(pm.options.historyDepth);

    this.lastAddedAt = 0;
    this.ignoreTransform = false;

    this.allowCollapsing = true;

    pm.on("transform", function (transform, options) {
      return _this3.recordTransform(transform, options);
    });
  }

  _createClass(History, [{
    key: "recordTransform",
    value: function recordTransform(transform, options) {
      if (this.ignoreTransform) return;

      if (options.addToHistory == false) {
        for (var i = 0; i < transform.maps.length; i++) {
          var map = transform.maps[i];
          this.done.addMap(map);
          this.undone.addMap(map);
        }
      } else {
        this.undone.clear();
        var now = Date.now();
        if (now > this.lastAddedAt + this.pm.options.historyEventDelay) this.done.newEvent();

        this.done.addTransform(transform);
        this.lastAddedAt = now;
      }
      this.maybeScheduleCompression();
    }
  }, {
    key: "undo",
    value: function undo() {
      return this.shift(this.done, this.undone);
    }
  }, {
    key: "redo",
    value: function redo() {
      return this.shift(this.undone, this.done);
    }
  }, {
    key: "canUndo",
    value: function canUndo() {
      return this.done.events.length > 0;
    }
  }, {
    key: "canRedo",
    value: function canRedo() {
      return this.undone.events.length > 0;
    }
  }, {
    key: "shift",
    value: function shift(from, to) {
      var event = from.popEvent(this.pm.doc, this.allowCollapsing);
      if (!event) return false;
      var transform = event.transform;
      var ids = event.ids;

      this.ignoreTransform = true;
      this.pm.apply(transform);
      this.ignoreTransform = false;

      if (!transform.steps.length) return this.shift(from, to);

      if (to) {
        to.newEvent();
        to.addTransform(transform, ids);
      }
      this.lastAddedAt = 0;

      return true;
    }
  }, {
    key: "getVersion",
    value: function getVersion() {
      return this.done.getVersion();
    }
  }, {
    key: "backToVersion",
    value: function backToVersion(version) {
      var found = this.done.findVersion(version);
      if (!found) return false;
      var event = this.done.events[found.event];
      var combined = this.done.events.slice(found.event + 1).reduce(function (comb, arr) {
        return comb.concat(arr);
      }, event.slice(found.step));
      this.done.events.length = found.event + ((event.length = found.step) ? 1 : 0);
      this.done.events.push(combined);

      this.shift(this.done);
    }
  }, {
    key: "rebased",
    value: function rebased(newMaps, rebasedTransform, positions) {
      this.done.rebased(newMaps, rebasedTransform, positions);
      this.undone.rebased(newMaps, rebasedTransform, positions);
      this.maybeScheduleCompression();
    }
  }, {
    key: "maybeScheduleCompression",
    value: function maybeScheduleCompression() {
      this.maybeScheduleCompressionForBranch(this.done);
      this.maybeScheduleCompressionForBranch(this.undone);
    }
  }, {
    key: "maybeScheduleCompressionForBranch",
    value: function maybeScheduleCompressionForBranch(branch) {
      var _this4 = this;

      window.clearTimeout(branch.compressTimeout);
      if (branch.needsCompression()) branch.compressTimeout = window.setTimeout(function () {
        if (branch.needsCompression()) branch.startCompression(_this4.pm.doc);
      }, compressDelay);
    }
  }]);

  return History;
})();

exports.History = History;

},{"../model":25,"../transform":38}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _main = require("./main");

Object.defineProperty(exports, "ProseMirror", {
  enumerable: true,
  get: function get() {
    return _main.ProseMirror;
  }
});

var _options = require("./options");

Object.defineProperty(exports, "defineOption", {
  enumerable: true,
  get: function get() {
    return _options.defineOption;
  }
});

var _selection = require("./selection");

Object.defineProperty(exports, "Range", {
  enumerable: true,
  get: function get() {
    return _selection.Range;
  }
});

var _event = require("./event");

Object.defineProperty(exports, "eventMixin", {
  enumerable: true,
  get: function get() {
    return _event.eventMixin;
  }
});

var _keys = require("./keys");

Object.defineProperty(exports, "Keymap", {
  enumerable: true,
  get: function get() {
    return _keys.Keymap;
  }
});

var _range = require("./range");

Object.defineProperty(exports, "MarkedRange", {
  enumerable: true,
  get: function get() {
    return _range.MarkedRange;
  }
});

var _commands = require("./commands");

Object.defineProperty(exports, "defineCommand", {
  enumerable: true,
  get: function get() {
    return _commands.defineCommand;
  }
});
Object.defineProperty(exports, "defineParamHandler", {
  enumerable: true,
  get: function get() {
    return _commands.defineParamHandler;
  }
});
Object.defineProperty(exports, "Command", {
  enumerable: true,
  get: function get() {
    return _commands.Command;
  }
});

},{"./commands":4,"./event":8,"./keys":12,"./main":13,"./options":14,"./range":15,"./selection":16}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.dispatchKey = dispatchKey;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _parseDom = require("../parse/dom");

var _dom = require("../dom");

var _serializeDom = require("../serialize/dom");

var _serializeText = require("../serialize/text");

var _parse = require("../parse");

var _keys = require("./keys");

var _capturekeys = require("./capturekeys");

var _domchange = require("./domchange");

var _selection = require("./selection");

var stopSeq = null;

/**
 * A collection of DOM events that occur within the editor, and callback functions
 * to invoke when the event fires.
 */
var handlers = {};

var Input = (function () {
  function Input(pm) {
    var _this = this;

    _classCallCheck(this, Input);

    this.pm = pm;

    this.keySeq = null;

    // When the user is creating a composed character,
    // this is set to a Composing instance.
    this.composing = null;
    this.shiftKey = this.updatingComposition = false;
    this.skipInput = 0;

    this.draggingFrom = false;

    this.keymaps = [];

    this.storedStyles = null;

    this.dropTarget = pm.wrapper.appendChild((0, _dom.elt)("div", { "class": "ProseMirror-drop-target" }));

    var _loop = function _loop(_event) {
      var handler = handlers[_event];
      pm.content.addEventListener(_event, function (e) {
        return handler(pm, e);
      });
    };

    for (var _event in handlers) {
      _loop(_event);
    }

    pm.on("selectionChange", function () {
      return _this.storedStyles = null;
    });
  }

  /**
   * Dispatch a key press to the internal keymaps, which will override the default
   * DOM behavior.
   *
   * @param  {ProseMirror}   pm The editor instance.
   * @param  {string}        name The name of the key pressed.
   * @param  {KeyboardEvent} e
   * @return {string} If the key name has a mapping and the callback is invoked ("handled"),
   *                  if the key name needs to be combined in sequence with the next key ("multi"),
   *                  if there is no mapping ("nothing").
   */

  _createClass(Input, [{
    key: "maybeAbortComposition",
    value: function maybeAbortComposition() {
      if (this.composing && !this.updatingComposition) {
        if (this.composing.finished) {
          finishComposing(this.pm);
        } else {
          // Toggle selection to force end of composition
          this.composing = null;
          this.skipInput++;
          var sel = getSelection();
          if (sel.rangeCount) {
            var range = sel.getRangeAt(0);
            sel.removeAllRanges();
            sel.addRange(range);
          }
        }
        return true;
      }
    }
  }]);

  return Input;
})();

exports.Input = Input;

function dispatchKey(pm, name, e) {
  var seq = pm.input.keySeq;
  // If the previous key should be used in sequence with this one, modify the name accordingly.
  if (seq) {
    if ((0, _keys.isModifierKey)(name)) return true;
    clearTimeout(stopSeq);
    stopSeq = setTimeout(function () {
      if (pm.input.keySeq == seq) pm.input.keySeq = null;
    }, 50);
    name = seq + " " + name;
  }

  var handle = function handle(bound) {
    var result = false;
    if (Array.isArray(bound)) {
      for (var i = 0; result === false && i < bound.length; i++) {
        result = handle(bound[i]);
      }
    } else if (typeof bound == "string") {
      result = pm.execCommand(bound);
    } else {
      result = bound(pm);
    }
    return result !== false;
  };

  var result = undefined;
  for (var i = 0; !result && i < pm.input.keymaps.length; i++) {
    result = (0, _keys.lookupKey)(name, pm.input.keymaps[i].map, handle, pm);
  }if (!result) result = (0, _keys.lookupKey)(name, pm.options.keymap, handle, pm) || (0, _keys.lookupKey)(name, _capturekeys.captureKeys, handle, pm);

  // If the key should be used in sequence with the next key, store the keyname internally.
  if (result == "multi") pm.input.keySeq = name;

  if (result == "handled" || result == "multi") e.preventDefault();

  if (seq && !result && /\'$/.test(name)) {
    e.preventDefault();
    return true;
  }
  return !!result;
}

handlers.keydown = function (pm, e) {
  if (e.keyCode == 16) pm.input.shiftKey = true;
  if (pm.input.composing) return;
  var name = (0, _keys.keyName)(e);
  if (name && dispatchKey(pm, name, e)) return;
  pm.sel.pollForUpdate();
};

handlers.keyup = function (pm, e) {
  if (e.keyCode == 16) pm.input.shiftKey = false;
};

function inputText(pm, range, text) {
  if (range.empty && !text) return false;
  var styles = pm.input.storedStyles || (0, _model.spanStylesAt)(pm.doc, range.from);
  var tr = pm.tr;
  tr.replaceWith(range.from, range.to, pm.schema.text(text, styles)).apply();
  pm.scrollIntoView();
  pm.signal("textInput", text);
}

handlers.keypress = function (pm, e) {
  if (pm.input.composing || !e.charCode || e.ctrlKey && !e.altKey || _dom.browser.mac && e.metaKey) return;
  var ch = String.fromCharCode(e.charCode);
  if (dispatchKey(pm, "'" + ch + "'", e)) return;
  var sel = pm.selection;
  if (sel.node && sel.node.contains == null) {
    pm.tr["delete"](sel.from, sel.to).apply();
    sel = pm.selection;
  }
  inputText(pm, sel, ch);
  e.preventDefault();
};

function selectClickedNode(pm, e) {
  var pos = (0, _selection.selectableNodeAbove)(pm, e.target, { left: e.clientX, top: e.clientY }, true);
  if (!pos) return pm.sel.pollForUpdate();

  var _pm$selection = pm.selection;
  var node = _pm$selection.node;
  var from = _pm$selection.from;

  if (node && pos.depth >= from.depth && pos.shorten(from.depth).cmp(from) == 0) {
    if (from.depth == 0) return pm.sel.pollForUpdate();
    pos = from.shorten();
  }

  pm.setNodeSelection(pos);
  pm.focus();
  e.preventDefault();
}

var lastClick = 0;

handlers.mousedown = function (pm, e) {
  if (e.ctrlKey) return selectClickedNode(pm, e);

  pm.sel.pollForUpdate();

  var now = Date.now(),
      multi = now - lastClick < 500;
  lastClick = now;
  if (pm.input.shiftKey || multi) return;

  var x = e.clientX,
      y = e.clientY;
  var done = function done() {
    removeEventListener("mouseup", up);
    removeEventListener("mousemove", move);
  };
  var up = function up() {
    done();
    var pos = (0, _selection.selectableNodeAbove)(pm, e.target, { left: e.clientX, top: e.clientY });
    if (pos) {
      pm.setNodeSelection(pos);
      pm.focus();
    }
  };
  var move = function move(e) {
    if (Math.abs(x - e.clientX) > 4 || Math.abs(y - e.clientY) > 4) done();
  };
  addEventListener("mouseup", up);
  addEventListener("mousemove", move);
};

handlers.touchdown = function (pm) {
  pm.sel.pollForUpdate();
};

handlers.mousemove = function (pm, e) {
  if (e.which || e.button) pm.sel.pollForUpdate();
};

/**
 * A class to track state while creating a composed character.
 */

var Composing = function Composing(pm, data) {
  _classCallCheck(this, Composing);

  this.finished = false;
  this.context = (0, _domchange.textContext)(data);
  this.data = data;
  this.endData = null;
  var range = pm.selection;
  if (data) {
    var path = range.head.path,
        line = pm.doc.path(path).textContent;
    var found = line.indexOf(data, range.head.offset - data.length);
    if (found > -1 && found <= range.head.offset + data.length) range = new _selection.TextSelection(new _model.Pos(path, found), new _model.Pos(path, found + data.length));
  }
  this.range = range;
};

handlers.compositionstart = function (pm, e) {
  if (pm.input.maybeAbortComposition()) return;

  pm.flush();
  pm.input.composing = new Composing(pm, e.data);
  var above = pm.selection.head.shorten();
  pm.markRangeDirty({ from: above, to: above.move(1) });
};

handlers.compositionupdate = function (pm, e) {
  var info = pm.input.composing;
  if (info && info.data != e.data) {
    info.data = e.data;
    pm.input.updatingComposition = true;
    inputText(pm, info.range, info.data);
    pm.input.updatingComposition = false;
    info.range = new _selection.TextSelection(info.range.from, info.range.from.move(info.data.length));
  }
};

handlers.compositionend = function (pm, e) {
  var info = pm.input.composing;
  if (info) {
    pm.input.composing.finished = true;
    pm.input.composing.endData = e.data;
    setTimeout(function () {
      if (pm.input.composing == info) finishComposing(pm);
    }, 20);
  }
};

function finishComposing(pm) {
  var info = pm.input.composing;
  var text = (0, _domchange.textInContext)(info.context, info.endData);
  var range = (0, _selection.rangeFromDOMLoose)(pm);
  pm.ensureOperation();
  pm.input.composing = null;
  if (text != info.data) inputText(pm, info.range, text);
  if (range && !range.eq(pm.sel.range)) pm.setSelection(range);
}

handlers.input = function (pm) {
  if (pm.input.skipInput) return --pm.input.skipInput;

  if (pm.input.composing) {
    if (pm.input.composing.finished) finishComposing(pm);
    return;
  }

  (0, _domchange.applyDOMChange)(pm);
  pm.scrollIntoView();
};

var lastCopied = null;

handlers.copy = handlers.cut = function (pm, e) {
  var _pm$selection2 = pm.selection;
  var from = _pm$selection2.from;
  var to = _pm$selection2.to;
  var empty = _pm$selection2.empty;

  if (empty) return;
  var fragment = pm.selectedDoc;
  lastCopied = { doc: pm.doc, from: from, to: to,
    html: (0, _serializeDom.toHTML)(fragment),
    text: (0, _serializeText.toText)(fragment) };

  if (e.clipboardData) {
    e.preventDefault();
    e.clipboardData.clearData();
    e.clipboardData.setData("text/html", lastCopied.html);
    e.clipboardData.setData("text/plain", lastCopied.text);
    if (e.type == "cut" && !empty) pm.tr["delete"](from, to).apply();
  }
};

function docSide(doc, side) {
  var path = [];
  for (var node = doc; node; node = side == "end" ? node.lastChild : node.firstChild) {
    if (node.isTextblock) return new _model.Pos(path, side == "end" ? node.maxOffset : 0);
    if (node.type.contains == null && node.type.selectable) return _model.Pos.from(path);
    path.push(side == "end" ? node.maxOffset - 1 : 0);
  }
}

handlers.paste = function (pm, e) {
  if (!e.clipboardData) return;
  var sel = pm.selection;
  var txt = e.clipboardData.getData("text/plain");
  var html = e.clipboardData.getData("text/html");
  if (html || txt) {
    e.preventDefault();
    var doc = undefined,
        from = undefined,
        to = undefined;
    if (pm.input.shiftKey && txt) {
      (function () {
        var paragraphs = txt.split(/[\r\n]+/);
        var styles = (0, _model.spanStylesAt)(pm.doc, sel.from);
        doc = pm.schema.node("doc", null, paragraphs.map(function (s) {
          return pm.schema.node("paragraph", null, [pm.schema.text(s, styles)]);
        }));
      })();
    } else if (lastCopied && (lastCopied.html == html || lastCopied.text == txt)) {
      ;var _lastCopied = lastCopied;
      doc = _lastCopied.doc;
      from = _lastCopied.from;
      to = _lastCopied.to;
    } else if (html) {
      doc = (0, _parseDom.fromHTML)(pm.schema, html);
    } else {
      doc = (0, _parse.convertFrom)(pm.schema, txt, (0, _parse.knownSource)("markdown") ? "markdown" : "text");
    }
    pm.tr.replace(sel.from, sel.to, doc, from || docSide(doc, "start"), to || docSide(doc, "end")).apply();
    pm.scrollIntoView();
  }
};

handlers.dragstart = function (pm, e) {
  if (!e.dataTransfer) return;

  var fragment = pm.selectedDoc;

  e.dataTransfer.setData("text/html", (0, _serializeDom.toHTML)(fragment));
  e.dataTransfer.setData("text/plain", (0, _serializeText.toText)(fragment));
  pm.input.draggingFrom = true;
};

handlers.dragend = function (pm) {
  return window.setTimeout(function () {
    return pm.input.dragginFrom = false;
  }, 50);
};

handlers.dragover = handlers.dragenter = function (pm, e) {
  e.preventDefault();
  var cursorPos = pm.posAtCoords({ left: e.clientX, top: e.clientY });
  if (!cursorPos) return;
  var coords = (0, _selection.coordsAtPos)(pm, cursorPos);
  var rect = pm.wrapper.getBoundingClientRect();
  coords.top -= rect.top;
  coords.right -= rect.left;
  coords.bottom -= rect.top;
  coords.left -= rect.left;
  var target = pm.input.dropTarget;
  target.style.display = "block";
  target.style.left = coords.left - 1 + "px";
  target.style.top = coords.top + "px";
  target.style.height = coords.bottom - coords.top + "px";
};

handlers.dragleave = function (pm) {
  return pm.input.dropTarget.style.display = "";
};

handlers.drop = function (pm, e) {
  pm.input.dropTarget.style.display = "";

  if (!e.dataTransfer) return;

  var html = undefined,
      txt = undefined,
      doc = undefined;
  if (html = e.dataTransfer.getData("text/html")) doc = (0, _parseDom.fromHTML)(pm.schema, html, { document: document });else if (txt = e.dataTransfer.getData("text/plain")) doc = (0, _parse.convertFrom)(pm.schema, txt, (0, _parse.knownSource)("markdown") ? "markdown" : "text");

  if (doc) {
    e.preventDefault();
    var insertPos = pm.posAtCoords({ left: e.clientX, top: e.clientY });
    if (!insertPos) return;
    var tr = pm.tr;
    if (pm.input.draggingFrom && !e.ctrlKey) {
      tr.deleteSelection();
      insertPos = tr.map(insertPos).pos;
    }
    tr.replace(insertPos, insertPos, doc, docSide(doc, "start"), docSide(doc, "end")).apply();
    pm.setSelection(insertPos, tr.map(insertPos).pos);
    pm.focus();
  }
};

handlers.focus = function (pm) {
  (0, _dom.addClass)(pm.wrapper, "ProseMirror-focused");
  pm.signal("focus");
};

handlers.blur = function (pm) {
  (0, _dom.rmClass)(pm.wrapper, "ProseMirror-focused");
  pm.signal("blur");
};

},{"../dom":1,"../model":25,"../parse":32,"../parse/dom":31,"../serialize/dom":34,"../serialize/text":36,"./capturekeys":2,"./domchange":6,"./keys":12,"./selection":16}],12:[function(require,module,exports){
// From CodeMirror, should be factored into its own NPM module

// declare_global: navigator
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.keyName = keyName;
exports.isModifierKey = isModifierKey;
exports.normalizeKeyName = normalizeKeyName;
exports.lookupKey = lookupKey;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var mac = typeof navigator != "undefined" ? /Mac/.test(navigator.platform) : false;

/**
 * A map of KeyboardEvent keycodes to key names.
 *
 * @type {Array}
 */
var names = {
  3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
  19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
  36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
  46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod",
  106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 127: "Delete",
  173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
  221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
  63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"
};

exports.names = names;
// Number keys
for (var i = 0; i < 10; i++) {
  names[i + 48] = names[i + 96] = String(i);
} // Alphabetic keys
for (var i = 65; i <= 90; i++) {
  names[i] = String.fromCharCode(i);
} // Function keys
for (var i = 1; i <= 12; i++) {
  names[i + 111] = names[i + 63235] = "F" + i;
} /**
   * Given a keypress event, get the key name.
   *
   * @param  {KeyboardEvent} event   The keypress event.
   * @param  {Boolean}       noShift
   * @return {string}                The key name.
   */

function keyName(event, noShift) {
  var base = names[event.keyCode],
      name = base;
  if (name == null || event.altGraphKey) return false;

  if (event.altKey && base != "Alt") name = "Alt-" + name;
  if (event.ctrlKey && base != "Ctrl") name = "Ctrl-" + name;
  if (event.metaKey && base != "Cmd") name = "Cmd-" + name;
  if (!noShift && event.shiftKey && base != "Shift") name = "Shift-" + name;
  return name;
}

function isModifierKey(value) {
  var name = typeof value == "string" ? value : names[value.keyCode];
  return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod";
}

function normalizeKeyName(fullName) {
  var parts = fullName.split(/-(?!'?$)/),
      name = parts[parts.length - 1];
  var alt = undefined,
      ctrl = undefined,
      shift = undefined,
      cmd = undefined;
  for (var i = 0; i < parts.length - 1; i++) {
    var mod = parts[i];
    if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;else if (/^a(lt)?$/i.test(mod)) alt = true;else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;else if (/^s(hift)$/i.test(mod)) shift = true;else if (/^mod$/i.test(mod)) {
      if (mac) cmd = true;else ctrl = true;
    } else throw new Error("Unrecognized modifier name: " + mod);
  }
  if (alt) name = "Alt-" + name;
  if (ctrl) name = "Ctrl-" + name;
  if (cmd) name = "Cmd-" + name;
  if (shift) name = "Shift-" + name;
  return name;
}

/**
 * A group of bindings of key names and editor commands,
 * which override the default key press event behavior in the editor's DOM.
 */

var Keymap = (function () {
  function Keymap(keys, options) {
    _classCallCheck(this, Keymap);

    this.options = options || {};
    this.bindings = Object.create(null);
    if (keys) for (var keyname in keys) {
      if (Object.prototype.hasOwnProperty.call(keys, keyname)) this.addBinding(keyname, keys[keyname]);
    }
  }

  /**
   * Lookup a key name in a KeyMap, and pass the mapped value to a handler.
   *
   * @param {string}   key     The key name.
   * @param {Keymap}   map     The key map. If the keymap has an options.call method,
   *                           that will be invoked to get the mapped value.
   * @param {Function} handle  Callback
   * @param {Object}   context
   * @return {string} If the key name has a mapping and the callback is invoked ("handled"),
   *                  if the key name needs to be combined in sequence with the next key ("multi"),
   *                  if there is no mapping ("nothing").
   */

  _createClass(Keymap, [{
    key: "addBinding",
    value: function addBinding(keyname, value) {
      var keys = keyname.split(" ").map(normalizeKeyName);
      for (var i = 0; i < keys.length; i++) {
        var _name = keys.slice(0, i + 1).join(" ");
        var val = i == keys.length - 1 ? value : "...";
        var prev = this.bindings[_name];
        if (!prev) this.bindings[_name] = val;else if (prev != val) throw new Error("Inconsistent bindings for " + _name);
      }
    }
  }, {
    key: "removeBinding",
    value: function removeBinding(keyname) {
      var keys = keyname.split(" ").map(normalizeKeyName);
      for (var i = keys.length - 1; i >= 0; i--) {
        var _name2 = keys.slice(0, i).join(" ");
        var val = this.bindings[_name2];
        if (val == "..." && !this.unusedMulti(_name2)) break;else if (val) delete this.bindings[_name2];
      }
    }
  }, {
    key: "unusedMulti",
    value: function unusedMulti(name) {
      for (var binding in this.bindings) {
        if (binding.length > name && binding.indexOf(name) == 0 && binding.charAt(name.length) == " ") return false;
      }return true;
    }
  }]);

  return Keymap;
})();

exports.Keymap = Keymap;

function lookupKey(_x, _x2, _x3, _x4) {
  var _again = true;

  _function: while (_again) {
    var key = _x,
        map = _x2,
        handle = _x3,
        context = _x4;
    _again = false;

    var found = map.options.call ? map.options.call(key, context) : map.bindings[key];
    if (found === false) return "nothing";
    if (found === "...") return "multi";
    if (found != null && handle(found)) return "handled";

    var fall = map.options.fallthrough;
    if (fall) {
      if (!Array.isArray(fall)) {
        _x = key;
        _x2 = fall;
        _x3 = handle;
        _x4 = context;
        _again = true;
        found = fall = undefined;
        continue _function;
      }
      for (var i = 0; i < fall.length; i++) {
        var result = lookupKey(key, fall[i], handle, context);
        if (result) return result;
      }
    }
  }
}

},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _get = function get(_x4, _x5, _x6) {
  var _again = true;_function: while (_again) {
    var object = _x4,
        property = _x5,
        receiver = _x6;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x4 = parent;_x5 = property;_x6 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { "default": obj };
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

require("./css");

var _model = require("../model");

var _transform = require("../transform");

var _utilSortedinsert = require("../util/sortedinsert");

var _utilSortedinsert2 = _interopRequireDefault(_utilSortedinsert);

var _utilMap = require("../util/map");

var _options = require("./options");

var _selection2 = require("./selection");

var _dom = require("../dom");

var _draw = require("./draw");

var _input = require("./input");

var _history = require("./history");

var _event = require("./event");

var _serializeText = require("../serialize/text");

require("../parse/text");

var _parse = require("../parse");

var _serialize = require("../serialize");

var _commands = require("./commands");

var _range = require("./range");

var _keys = require("./keys");

/**
 * ProseMirror editor class.
 * @class
 */

var ProseMirror = (function () {
  /**
   * @param {Object} opts        Instance options hash.
   * @param {Object} opts.schema The document model schema for the editor instance.
   * @param {Object} opts.doc    The document model for the instance. Optional.
   */

  function ProseMirror(opts) {
    _classCallCheck(this, ProseMirror);

    opts = this.options = (0, _options.parseOptions)(opts);
    this.schema = opts.schema;
    if (opts.doc == null) opts.doc = this.schema.node("doc", null, [this.schema.node("paragraph")]);
    this.content = (0, _dom.elt)("div", { "class": "ProseMirror-content" });
    this.wrapper = (0, _dom.elt)("div", { "class": "ProseMirror" }, this.content);
    this.wrapper.ProseMirror = this;

    if (opts.place && opts.place.appendChild) opts.place.appendChild(this.wrapper);else if (opts.place) opts.place(this.wrapper);

    this.setDocInner(opts.docFormat ? (0, _parse.convertFrom)(this.schema, opts.doc, opts.docFormat, { document: document }) : opts.doc);
    (0, _draw.draw)(this, this.doc);
    this.content.contentEditable = true;
    if (opts.label) this.content.setAttribute('aria-label', opts.label);

    this.mod = Object.create(null);
    this.operation = null;
    this.dirtyNodes = new _utilMap.Map(); // Maps node object to 1 (re-scan content) or 2 (redraw entirely)
    this.flushScheduled = false;

    this.sel = new _selection2.SelectionState(this);
    this.input = new _input.Input(this);

    this.commands = (0, _commands.initCommands)(this.schema);
    this.commandKeys = Object.create(null);

    (0, _options.initOptions)(this);
  }

  /**
   * @return {Range} The instance of the editor's selection range.
   */

  _createClass(ProseMirror, [{
    key: "apply",

    /**
     * Apply a transform on the editor.
     */
    value: function apply(transform) {
      var options = arguments.length <= 1 || arguments[1] === undefined ? nullOptions : arguments[1];

      if (transform.doc == this.doc) return false;
      if (transform.docs[0] != this.doc && (0, _model.findDiffStart)(transform.docs[0], this.doc)) throw new Error("Applying a transform that does not start with the current document");

      this.updateDoc(transform.doc, transform, options.selection);
      this.signal("transform", transform, options);
      if (options.scrollIntoView) this.scrollIntoView();
      return transform;
    }

    /**
     * @return {Transform} A new transform object.
     */
  }, {
    key: "setContent",
    value: function setContent(value, format) {
      if (format) value = (0, _parse.convertFrom)(this.schema, value, format);
      this.setDoc(value);
    }
  }, {
    key: "getContent",
    value: function getContent(format) {
      return format ? (0, _serialize.convertTo)(this.doc, format) : this.doc;
    }
  }, {
    key: "setDocInner",
    value: function setDocInner(doc) {
      if (doc.type != this.schema.nodes.doc) throw new Error("Trying to set a document with a different schema");
      this.doc = doc;
      this.ranges = new _range.RangeStore(this);
      this.history = new _history.History(this);
    }
  }, {
    key: "setDoc",
    value: function setDoc(doc, sel) {
      if (!sel) sel = (0, _selection2.findSelectionAtStart)(doc);
      this.signal("beforeSetDoc", doc, sel);
      this.ensureOperation();
      this.setDocInner(doc);
      this.sel.set(sel, true);
      this.signal("setDoc", doc, sel);
    }
  }, {
    key: "updateDoc",
    value: function updateDoc(doc, mapping, selection) {
      this.ensureOperation();
      this.input.maybeAbortComposition();
      this.ranges.transform(mapping);
      this.doc = doc;
      this.sel.setAndSignal(selection || this.sel.range.map(doc, mapping));
      this.signal("change");
    }
  }, {
    key: "checkPos",
    value: function checkPos(pos, block) {
      if (!this.doc.isValidPos(pos, block)) throw new Error("Position " + pos + " is not valid in current document");
    }
  }, {
    key: "setSelection",
    value: function setSelection(rangeOrAnchor, head) {
      var range = rangeOrAnchor;
      if (!(range instanceof _selection2.Selection)) range = new _selection2.TextSelection(rangeOrAnchor, head);
      if (range instanceof _selection2.TextSelection) {
        this.checkPos(range.head, true);
        this.checkPos(range.anchor, true);
      } else {
        this.checkPos(range.from, false);
        this.checkPos(range.to, false);
      }
      this.ensureOperation();
      this.input.maybeAbortComposition();
      if (!range.eq(this.sel.range)) this.sel.setAndSignal(range);
    }
  }, {
    key: "setNodeSelection",
    value: function setNodeSelection(pos) {
      this.checkPos(pos, false);
      var parent = this.doc.path(pos.path);
      if (pos.offset >= parent.maxOffset) throw new Error("Trying to set a node selection at the end of a node");
      var node = parent.isTextblock ? parent.childAfter(pos.offset).node : parent.child(pos.offset);
      this.input.maybeAbortComposition();
      this.sel.setAndSignal(new _selection2.NodeSelection(pos, pos.move(1), node));
    }
  }, {
    key: "ensureOperation",
    value: function ensureOperation() {
      return this.operation || this.startOperation();
    }
  }, {
    key: "startOperation",
    value: function startOperation() {
      var _this = this;

      this.sel.beforeStartOp();
      this.operation = new Operation(this);
      if (!this.flushScheduled) {
        (0, _dom.requestAnimationFrame)(function () {
          _this.flushScheduled = false;
          _this.flush();
        });
        this.flushScheduled = true;
      }
      return this.operation;
    }
  }, {
    key: "flush",
    value: function flush() {
      var op = this.operation;
      if (!op || !document.body.contains(this.wrapper)) return;
      this.operation = null;

      var docChanged = op.doc != this.doc || this.dirtyNodes.size,
          redrawn = false;
      if (!this.input.composing && (docChanged || op.composingAtStart)) {
        (0, _draw.redraw)(this, this.dirtyNodes, this.doc, op.doc);
        this.dirtyNodes.clear();
        redrawn = true;
      }

      if ((redrawn || !op.sel.eq(this.sel.range)) && !this.input.composing) this.sel.toDOM(op.focus);

      if (op.scrollIntoView !== false) (0, _selection2.scrollIntoView)(this, op.scrollIntoView);
      if (docChanged) this.signal("draw");
      this.signal("flush");
    }
  }, {
    key: "setOption",
    value: function setOption(name, value) {
      (0, _options.setOption)(this, name, value);
    }
  }, {
    key: "getOption",
    value: function getOption(name) {
      return this.options[name];
    }
  }, {
    key: "addKeymap",
    value: function addKeymap(map) {
      var rank = arguments.length <= 1 || arguments[1] === undefined ? 50 : arguments[1];

      (0, _utilSortedinsert2["default"])(this.input.keymaps, { map: map, rank: rank }, function (a, b) {
        return a.rank - b.rank;
      });
    }
  }, {
    key: "removeKeymap",
    value: function removeKeymap(map) {
      var maps = this.input.keymaps;
      for (var i = 0; i < maps.length; ++i) {
        if (maps[i].map == map || maps[i].map.options.name == map) {
          maps.splice(i, 1);
          return true;
        }
      }
    }
  }, {
    key: "markRange",
    value: function markRange(from, to, options) {
      this.checkPos(from);
      this.checkPos(to);
      var range = new _range.MarkedRange(from, to, options);
      this.ranges.addRange(range);
      return range;
    }
  }, {
    key: "removeRange",
    value: function removeRange(range) {
      this.ranges.removeRange(range);
    }
  }, {
    key: "setStyle",
    value: function setStyle(type, to, attrs) {
      var sel = this.selection;
      if (sel.empty) {
        var styles = this.activeStyles();
        if (to == null) to = !(0, _model.containsStyle)(styles, type);
        if (to && !this.doc.path(sel.head.path).type.canContainStyle(type)) return;
        this.input.storedStyles = to ? type.create(attrs).addToSet(styles) : (0, _model.removeStyle)(styles, type);
        this.signal("activeStyleChange");
      } else {
        if (to != null ? to : !(0, _model.rangeHasStyle)(this.doc, sel.from, sel.to, type)) this.apply(this.tr.addStyle(sel.from, sel.to, type.create(attrs)));else this.apply(this.tr.removeStyle(sel.from, sel.to, type));
      }
    }
  }, {
    key: "activeStyles",
    value: function activeStyles() {
      return this.input.storedStyles || (0, _model.spanStylesAt)(this.doc, this.selection.head);
    }
  }, {
    key: "focus",
    value: function focus() {
      if (this.operation) this.operation.focus = true;else this.sel.toDOM(true);
    }
  }, {
    key: "hasFocus",
    value: function hasFocus() {
      if (this.sel.range instanceof _selection2.NodeSelection) return document.activeElement == this.content;else return (0, _selection2.hasFocus)(this);
    }
  }, {
    key: "posAtCoords",
    value: function posAtCoords(coords) {
      return (0, _selection2.posAtCoords)(this, coords);
    }
  }, {
    key: "coordsAtPos",
    value: function coordsAtPos(pos) {
      this.checkPos(pos);
      return (0, _selection2.coordsAtPos)(this, pos);
    }
  }, {
    key: "scrollIntoView",
    value: function scrollIntoView() {
      var pos = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];

      if (pos) this.checkPos(pos);
      this.ensureOperation();
      this.operation.scrollIntoView = pos;
    }
  }, {
    key: "execCommand",
    value: function execCommand(name, params) {
      var cmd = this.commands[name];
      return !!(cmd && cmd.exec(this, params) !== false);
    }
  }, {
    key: "keyForCommand",
    value: function keyForCommand(name) {
      var cached = this.commandKeys[name];
      if (cached !== undefined) return cached;

      var cmd = this.commands[name];
      if (!cmd) return this.commandKeys[name] = null;
      var key = cmd.info.key || (_dom.browser.mac ? cmd.info.macKey : cmd.info.pcKey);
      if (key) {
        key = (0, _keys.normalizeKeyName)(Array.isArray(key) ? key[0] : key);
        var deflt = this.options.keymap.bindings[key];
        if (Array.isArray(deflt) ? deflt.indexOf(name) > -1 : deflt == name) return this.commandKeys[name] = key;
      }
      for (var _key in this.options.keymap.bindings) {
        var bound = this.options.keymap.bindings[_key];
        if (Array.isArray(bound) ? bound.indexOf(name) > -1 : bound == name) return this.commandKeys[name] = _key;
      }
      return this.commandKeys[name] = null;
    }
  }, {
    key: "markRangeDirty",
    value: function markRangeDirty(range) {
      this.ensureOperation();
      var dirty = this.dirtyNodes;
      var from = range.from,
          to = range.to;
      for (var depth = 0, node = this.doc;; depth++) {
        var fromEnd = depth == from.depth,
            toEnd = depth == to.depth;
        if (!fromEnd && !toEnd && from.path[depth] == to.path[depth]) {
          var child = node.child(from.path[depth]);
          if (!dirty.has(child)) dirty.set(child, 1);
          node = child;
        } else {
          var start = fromEnd ? from.offset : from.path[depth];
          var end = toEnd ? to.offset : to.path[depth] + 1;
          if (node.isTextblock) {
            for (var offset = 0, i = 0; offset < end; i++) {
              var child = node.child(i);
              offset += child.offset;
              if (offset > start) dirty.set(child, 2);
            }
          } else {
            for (var i = start; i < end; i++) {
              dirty.set(node.child(i), 2);
            }
          }
          break;
        }
      }
    }
  }, {
    key: "selection",
    get: function get() {
      this.ensureOperation();
      return this.sel.range;
    }
  }, {
    key: "selectedDoc",
    get: function get() {
      var sel = this.selection;
      return (0, _model.sliceBetween)(this.doc, sel.from, sel.to);
    }
  }, {
    key: "selectedText",
    get: function get() {
      return (0, _serializeText.toText)(this.selectedDoc);
    }
  }, {
    key: "tr",
    get: function get() {
      return new EditorTransform(this);
    }
  }]);

  return ProseMirror;
})();

exports.ProseMirror = ProseMirror;

var nullOptions = {};

(0, _event.eventMixin)(ProseMirror);

var Operation = function Operation(pm) {
  _classCallCheck(this, Operation);

  this.doc = pm.doc;
  this.sel = pm.sel.range;
  this.scrollIntoView = false;
  this.focus = false;
  this.composingAtStart = !!pm.input.composing;
};

var EditorTransform = (function (_Transform) {
  _inherits(EditorTransform, _Transform);

  function EditorTransform(pm) {
    _classCallCheck(this, EditorTransform);

    _get(Object.getPrototypeOf(EditorTransform.prototype), "constructor", this).call(this, pm.doc);
    this.pm = pm;
  }

  _createClass(EditorTransform, [{
    key: "apply",
    value: function apply(options) {
      return this.pm.apply(this, options);
    }
  }, {
    key: "replaceSelection",
    value: function replaceSelection(node, inheritStyles) {
      var _selection = this.selection;
      var empty = _selection.empty;
      var from = _selection.from;
      var to = _selection.to;
      var selNode = _selection.node;var parent = undefined;
      if (node && node.isInline && inheritStyles !== false) {
        var styles = empty ? this.pm.input.storedStyles : (0, _model.spanStylesAt)(this.doc, from);
        node = node.type.create(node.attrs, node.text, styles);
      }

      if (selNode && selNode.isTextblock && node && node.isInline) {
        // Putting inline stuff onto a selected textblock puts it inside
        from = new _model.Pos(from.toPath(), 0);
        to = new _model.Pos(from.path, selNode.maxOffset);
      } else if (selNode) {
        // This node can not simply be removed/replaced. Remove its parent as well
        while (from.depth && from.offset == 0 && (parent = this.doc.path(from.path)) && from.offset == parent.maxOffset - 1 && !parent.type.canBeEmpty && !(node && parent.type.canContain(node))) {
          from = from.shorten();
          to = to.shorten(null, 1);
        }
      } else if (node && node.isBlock && this.doc.path(from.path.slice(0, from.depth - 1)).type.canContain(node)) {
        // Inserting a block node into a textblock. Try to insert it above by splitting the textblock
        this["delete"](from, to);
        var _parent = this.doc.path(from.path);
        if (from.offset && from.offset != _parent.maxOffset) this.split(from);
        return this.insert(from.shorten(null, from.offset ? 1 : 0), node);
      }

      if (node) return this.replaceWith(from, to, node);else return this["delete"](from, to);
    }
  }, {
    key: "deleteSelection",
    value: function deleteSelection() {
      return this.replaceSelection();
    }
  }, {
    key: "typeText",
    value: function typeText(text) {
      return this.replaceSelection(this.pm.schema.text(text), true);
    }
  }, {
    key: "selection",
    get: function get() {
      return this.steps.length ? this.pm.selection.map(this) : this.pm.selection;
    }
  }]);

  return EditorTransform;
})(_transform.Transform);

},{"../dom":1,"../model":25,"../parse":32,"../parse/text":33,"../serialize":35,"../serialize/text":36,"../transform":38,"../util/map":49,"../util/sortedinsert":50,"./commands":4,"./css":5,"./draw":7,"./event":8,"./history":9,"./input":11,"./keys":12,"./options":14,"./range":15,"./selection":16}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defineOption = defineOption;
exports.parseOptions = parseOptions;
exports.initOptions = initOptions;
exports.setOption = setOption;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _commands = require("./commands");

var Option = function Option(defaultValue, update, updateOnInit) {
  _classCallCheck(this, Option);

  this.defaultValue = defaultValue;
  this.update = update;
  this.updateOnInit = updateOnInit !== false;
};

var options = {
  __proto__: null,

  schema: new Option(_model.defaultSchema, false, false),

  doc: new Option(null, function (pm, value) {
    pm.setDoc(value);
  }, false),

  docFormat: new Option(null),

  place: new Option(null),

  keymap: new Option(null, function (pm, value) {
    if (!value) pm.options.keymap = (0, _commands.defaultKeymap)(pm);
  }),

  historyDepth: new Option(50),

  historyEventDelay: new Option(500),

  commandParamHandler: new Option("default"),

  label: new Option(null)
};

function defineOption(name, defaultValue, update, updateOnInit) {
  options[name] = new Option(defaultValue, update, updateOnInit);
}

function parseOptions(obj) {
  var result = Object.create(null);
  var given = obj ? [obj].concat(obj.use || []) : [];
  outer: for (var opt in options) {
    for (var i = 0; i < given.length; i++) {
      if (opt in given[i]) {
        result[opt] = given[i][opt];
        continue outer;
      }
    }
    result[opt] = options[opt].defaultValue;
  }
  return result;
}

function initOptions(pm) {
  for (var opt in options) {
    var desc = options[opt];
    if (desc.update && desc.updateOnInit) desc.update(pm, pm.options[opt], null, true);
  }
}

function setOption(pm, name, value) {
  var desc = options[name];
  if (desc.update === false) throw new Error("Option '" + name + "' can not be changed");
  var old = pm.options[name];
  pm.options[name] = value;
  if (desc.update) desc.update(pm, value, old, false);
}

},{"../model":25,"./commands":4}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _event = require("./event");

var MarkedRange = (function () {
  function MarkedRange(from, to, options) {
    _classCallCheck(this, MarkedRange);

    this.options = options || {};
    this.from = from;
    this.to = to;
  }

  _createClass(MarkedRange, [{
    key: "clear",
    value: function clear() {
      this.signal("removed", this.from);
      this.from = this.to = null;
    }
  }]);

  return MarkedRange;
})();

exports.MarkedRange = MarkedRange;

(0, _event.eventMixin)(MarkedRange);

var RangeSorter = (function () {
  function RangeSorter() {
    _classCallCheck(this, RangeSorter);

    this.sorted = [];
  }

  _createClass(RangeSorter, [{
    key: "find",
    value: function find(at) {
      var min = 0,
          max = this.sorted.length;
      for (;;) {
        if (max < min + 10) {
          for (var i = min; i < max; i++) {
            if (this.sorted[i].at.cmp(at) >= 0) return i;
          }return max;
        }
        var mid = min + max >> 1;
        if (this.sorted[mid].at.cmp(at) > 0) max = mid;else min = mid;
      }
    }
  }, {
    key: "insert",
    value: function insert(obj) {
      this.sorted.splice(this.find(obj.at), 0, obj);
    }
  }, {
    key: "remove",
    value: function remove(at, range) {
      var pos = this.find(at);
      for (var dist = 0;; dist++) {
        var leftPos = pos - dist - 1,
            rightPos = pos + dist;
        if (leftPos >= 0 && this.sorted[leftPos].range == range) {
          this.sorted.splice(leftPos, 1);
          return;
        } else if (rightPos < this.sorted.length && this.sorted[rightPos].range == range) {
          this.sorted.splice(rightPos, 1);
          return;
        }
      }
    }
  }, {
    key: "resort",
    value: function resort() {
      for (var i = 0; i < this.sorted.length; i++) {
        var cur = this.sorted[i];
        var at = cur.at = cur.type == "open" ? cur.range.from : cur.range.to;
        var pos = i;
        while (pos > 0 && this.sorted[pos - 1].at.cmp(at) > 0) {
          this.sorted[pos] = this.sorted[pos - 1];
          this.sorted[--pos] = cur;
        }
      }
    }
  }]);

  return RangeSorter;
})();

var RangeStore = (function () {
  function RangeStore(pm) {
    _classCallCheck(this, RangeStore);

    this.pm = pm;
    this.ranges = [];
    this.sorted = new RangeSorter();
  }

  _createClass(RangeStore, [{
    key: "addRange",
    value: function addRange(range) {
      this.ranges.push(range);
      this.sorted.insert({ type: "open", at: range.from, range: range });
      this.sorted.insert({ type: "close", at: range.to, range: range });
      this.pm.markRangeDirty(range);
    }
  }, {
    key: "removeRange",
    value: function removeRange(range) {
      var found = this.ranges.indexOf(range);
      if (found > -1) {
        this.ranges.splice(found, 1);
        this.sorted.remove(range.from, range);
        this.sorted.remove(range.to, range);
        this.pm.markRangeDirty(range);
        range.clear();
      }
    }
  }, {
    key: "transform",
    value: function transform(mapping) {
      for (var i = 0; i < this.ranges.length; i++) {
        var range = this.ranges[i];
        range.from = mapping.map(range.from, range.options.inclusiveLeft ? -1 : 1).pos;
        range.to = mapping.map(range.to, range.options.inclusiveRight ? 1 : -1).pos;
        var diff = range.from.cmp(range.to);
        if (range.options.clearWhenEmpty !== false && diff >= 0) {
          this.removeRange(range);
          i--;
        } else if (diff > 0) {
          range.to = range.from;
        }
      }
      this.sorted.resort();
    }
  }, {
    key: "activeRangeTracker",
    value: function activeRangeTracker() {
      return new RangeTracker(this.sorted.sorted);
    }
  }]);

  return RangeStore;
})();

exports.RangeStore = RangeStore;

var RangeTracker = (function () {
  function RangeTracker(sorted) {
    _classCallCheck(this, RangeTracker);

    this.sorted = sorted;
    this.pos = 0;
    this.current = [];
  }

  _createClass(RangeTracker, [{
    key: "advanceTo",
    value: function advanceTo(pos) {
      var next = undefined;
      while (this.pos < this.sorted.length && (next = this.sorted[this.pos]).at.cmp(pos) <= 0) {
        var className = next.range.options.className;
        if (!className) continue;
        if (next.type == "open") this.current.push(className);else this.current.splice(this.current.indexOf(className), 1);
        this.pos++;
      }
    }
  }, {
    key: "nextChangeBefore",
    value: function nextChangeBefore(pos) {
      for (;;) {
        if (this.pos == this.sorted.length) return null;
        var next = this.sorted[this.pos];
        if (!next.range.options.className) this.pos++;else if (next.at.cmp(pos) >= 0) return null;else return next.at.offset;
      }
    }
  }]);

  return RangeTracker;
})();

},{"./event":8}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
})();

var _get = function get(_x, _x2, _x3) {
  var _again = true;_function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.posFromDOM = posFromDOM;
exports.rangeFromDOMLoose = rangeFromDOMLoose;
exports.findByPath = findByPath;
exports.resolvePath = resolvePath;
exports.hasFocus = hasFocus;
exports.posAtCoords = posAtCoords;
exports.coordsAtPos = coordsAtPos;
exports.scrollIntoView = scrollIntoView;
exports.findSelectionFrom = findSelectionFrom;
exports.findSelectionNear = findSelectionNear;
exports.findSelectionAtStart = findSelectionAtStart;
exports.findSelectionAtEnd = findSelectionAtEnd;
exports.selectableNodeAbove = selectableNodeAbove;
exports.verticalMotionLeavesTextblock = verticalMotionLeavesTextblock;
exports.setDOMSelectionToPos = setDOMSelectionToPos;

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _dom = require("../dom");

var SelectionState = (function () {
  function SelectionState(pm) {
    var _this = this;

    _classCallCheck(this, SelectionState);

    this.pm = pm;

    this.range = findSelectionAtStart(pm.doc);
    this.lastNonNodePos = null;

    this.pollState = null;
    this.pollTimeout = null;
    this.lastAnchorNode = this.lastHeadNode = this.lastAnchorOffset = this.lastHeadOffset = null;
    this.lastNode = null;

    pm.content.addEventListener("focus", function () {
      return _this.receivedFocus();
    });
  }

  _createClass(SelectionState, [{
    key: "setAndSignal",
    value: function setAndSignal(range, clearLast) {
      this.set(range, clearLast);
      this.pm.signal("selectionChange");
    }
  }, {
    key: "set",
    value: function set(range, clearLast) {
      this.range = range;
      if (!range.node) this.lastNonNodePos = null;
      if (clearLast !== false) this.lastAnchorNode = null;
    }
  }, {
    key: "setNodeAndSignal",
    value: function setNodeAndSignal(pos) {
      this.setNode(pos);
      this.pm.signal("selectionChange");
    }
  }, {
    key: "pollForUpdate",
    value: function pollForUpdate() {
      var _this2 = this;

      if (this.pm.input.composing) return;
      clearTimeout(this.pollTimeout);
      this.pollState = "update";
      var n = 0,
          check = function check() {
        if (_this2.pm.input.composing) {
          // Abort
        } else if (_this2.pm.operation) {
            _this2.pollTimeout = setTimeout(check, 20);
          } else if (!_this2.readUpdate() && ++n == 1) {
            _this2.pollTimeout = setTimeout(check, 50);
          } else {
            _this2.pollState = null;
            _this2.pollToSync();
          }
      };
      this.pollTimeout = setTimeout(check, 20);
    }
  }, {
    key: "domChanged",
    value: function domChanged() {
      var sel = getSelection();
      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastHeadNode || sel.focusOffset != this.lastHeadOffset;
    }
  }, {
    key: "storeDOMState",
    value: function storeDOMState() {
      var sel = getSelection();
      this.lastAnchorNode = sel.anchorNode;this.lastAnchorOffset = sel.anchorOffset;
      this.lastHeadNode = sel.focusNode;this.lastHeadOffset = sel.focusOffset;
    }
  }, {
    key: "readUpdate",
    value: function readUpdate() {
      if (this.pm.input.composing || !hasFocus(this.pm) || !this.domChanged()) return false;

      var sel = getSelection(),
          doc = this.pm.doc;
      var anchor = posFromDOMInner(this.pm, sel.anchorNode, sel.anchorOffset);
      var head = posFromDOMInner(this.pm, sel.focusNode, sel.focusOffset);
      var newSel = findSelectionNear(doc, head, this.range.head && this.range.head.cmp(head) < 0 ? -1 : 1);
      if (newSel instanceof TextSelection && doc.path(anchor.path).isTextblock) newSel = new TextSelection(anchor, newSel.head);
      this.setAndSignal(newSel);
      if (newSel instanceof NodeSelection || newSel.head.cmp(head) || newSel.anchor.cmp(anchor)) {
        this.toDOM();
      } else {
        this.clearNode();
        this.storeDOMState();
      }
      return true;
    }
  }, {
    key: "pollToSync",
    value: function pollToSync() {
      var _this3 = this;

      if (this.pollState) return;
      this.pollState = "sync";
      var sync = function sync() {
        if (document.activeElement != _this3.pm.content) {
          _this3.pollState = null;
        } else {
          if (!_this3.pm.operation && !_this3.pm.input.composing) _this3.syncDOM();
          _this3.pollTimeout = setTimeout(sync, 200);
        }
      };
      this.pollTimeout = setTimeout(sync, 200);
    }
  }, {
    key: "syncDOM",
    value: function syncDOM() {
      if (!this.pm.input.composing && hasFocus(this.pm) && this.domChanged()) this.toDOM();
    }
  }, {
    key: "toDOM",
    value: function toDOM(takeFocus) {
      if (this.range instanceof NodeSelection) this.nodeToDOM(takeFocus);else this.rangeToDOM(takeFocus);
    }
  }, {
    key: "nodeToDOM",
    value: function nodeToDOM(takeFocus) {
      window.getSelection().removeAllRanges();
      if (takeFocus) this.pm.content.focus();
      var pos = this.range.from,
          node = this.range.node,
          dom = undefined;
      if (node.isInline) dom = findByOffset(resolvePath(this.pm.content, pos.path), pos.offset, true).node;else dom = resolvePath(this.pm.content, pos.toPath());
      if (dom == this.lastNode) return;
      this.clearNode();
      addNodeSelection(node, dom);
      this.lastNode = dom;
    }
  }, {
    key: "clearNode",
    value: function clearNode() {
      if (this.lastNode) {
        clearNodeSelection(this.lastNode);
        this.lastNode = null;
        return true;
      }
    }
  }, {
    key: "rangeToDOM",
    value: function rangeToDOM(takeFocus) {
      var sel = window.getSelection();
      if (!this.clearNode() && !hasFocus(this.pm)) {
        if (!takeFocus) return;
        // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444
        else if (_dom.browser.gecko) this.pm.content.focus();
      }
      if (!this.domChanged()) return;

      var range = document.createRange();
      var content = this.pm.content;
      var anchor = DOMFromPos(content, this.range.anchor);
      var head = DOMFromPos(content, this.range.head);

      if (sel.extend) {
        range.setEnd(anchor.node, anchor.offset);
        range.collapse(false);
      } else {
        if (this.range.anchor.cmp(this.range.head) > 0) {
          var tmp = anchor;anchor = head;head = tmp;
        }
        range.setEnd(head.node, head.offset);
        range.setStart(anchor.node, anchor.offset);
      }
      sel.removeAllRanges();
      sel.addRange(range);
      if (sel.extend) sel.extend(head.node, head.offset);
      this.storeDOMState();
    }
  }, {
    key: "receivedFocus",
    value: function receivedFocus() {
      if (!this.pollState) this.pollToSync();
    }
  }, {
    key: "beforeStartOp",
    value: function beforeStartOp() {
      if (this.pollState == "update" && this.readUpdate()) {
        clearTimeout(this.pollTimeout);
        this.pollState = null;
        this.pollToSync();
      } else {
        this.syncDOM();
      }
    }
  }]);

  return SelectionState;
})();

exports.SelectionState = SelectionState;

function clearNodeSelection(dom) {
  dom.classList.remove("ProseMirror-selectednode");
}

function addNodeSelection(_node, dom) {
  dom.classList.add("ProseMirror-selectednode");
}

function windowRect() {
  return { left: 0, right: window.innerWidth,
    top: 0, bottom: window.innerHeight };
}

var Selection = function Selection() {
  _classCallCheck(this, Selection);
};

exports.Selection = Selection;

var NodeSelection = (function (_Selection) {
  _inherits(NodeSelection, _Selection);

  function NodeSelection(from, to, node) {
    _classCallCheck(this, NodeSelection);

    _get(Object.getPrototypeOf(NodeSelection.prototype), "constructor", this).call(this);
    this.from = from;
    this.to = to;
    this.node = node;
  }

  /**
   * Text selection range class.
   *
   * A range consists of a head (the active location of the cursor)
   * and an anchor (the start location of the selection).
   */

  _createClass(NodeSelection, [{
    key: "eq",
    value: function eq(other) {
      return other instanceof NodeSelection && !this.from.cmp(other.from);
    }
  }, {
    key: "map",
    value: function map(doc, mapping) {
      var from = mapping.map(this.from, 1).pos;
      var to = mapping.map(this.to, -1).pos;
      if (_model.Pos.samePath(from.path, to.path) && from.offset == to.offset - 1) {
        var _parent = doc.path(from.path);
        var node = _parent.isTextblock ? _parent.childAfter(from.offset).node : _parent.child(from.offset);
        if (node.type.selectable) return new NodeSelection(from, to, node);
      }
      return findSelectionNear(doc, from);
    }
  }, {
    key: "empty",
    get: function get() {
      return false;
    }
  }]);

  return NodeSelection;
})(Selection);

exports.NodeSelection = NodeSelection;

var TextSelection = (function (_Selection2) {
  _inherits(TextSelection, _Selection2);

  function TextSelection(anchor, head) {
    _classCallCheck(this, TextSelection);

    _get(Object.getPrototypeOf(TextSelection.prototype), "constructor", this).call(this);
    this.anchor = anchor;
    this.head = head || anchor;
  }

  _createClass(TextSelection, [{
    key: "eq",
    value: function eq(other) {
      return other instanceof TextSelection && !other.head.cmp(this.head) && !other.anchor.cmp(this.anchor);
    }
  }, {
    key: "map",
    value: function map(doc, mapping) {
      var head = mapping.map(this.head).pos;
      if (!doc.path(head.path).isTextblock) return findSelectionNear(doc, head);
      var anchor = mapping.map(this.anchor).pos;
      return new TextSelection(doc.path(anchor.path).isTextblock ? anchor : head, head);
    }
  }, {
    key: "inverted",
    get: function get() {
      return this.anchor.cmp(this.head) > 0;
    }
  }, {
    key: "from",
    get: function get() {
      return this.inverted ? this.head : this.anchor;
    }
  }, {
    key: "to",
    get: function get() {
      return this.inverted ? this.anchor : this.head;
    }
  }, {
    key: "empty",
    get: function get() {
      return this.anchor.cmp(this.head) == 0;
    }
  }]);

  return TextSelection;
})(Selection);

exports.TextSelection = TextSelection;

function pathFromNode(node) {
  var path = [];
  for (;;) {
    var attr = node.getAttribute("pm-path");
    if (!attr) return path;
    path.unshift(+attr);
    node = node.parentNode;
  }
}

function posFromDOMInner(pm, node, domOffset, loose) {
  if (!loose && pm.operation && pm.doc != pm.operation.doc) throw new Error("Fetching a position from an outdated DOM structure");

  var extraOffset = 0,
      tag = undefined;
  for (;;) {
    if (node.nodeType == 3) extraOffset += domOffset;else if (node.hasAttribute("pm-path") || node == pm.content) break;else if (tag = node.getAttribute("pm-span-offset")) extraOffset += +tag;

    var _parent2 = node.parentNode;
    domOffset = Array.prototype.indexOf.call(_parent2.childNodes, node) + (node.nodeType != 3 && domOffset == node.childNodes.length ? 1 : 0);
    node = _parent2;
  }

  var offset = 0;
  for (var i = domOffset - 1; i >= 0; i--) {
    var child = node.childNodes[i];
    if (child.nodeType == 3) {
      if (loose) extraOffset += child.nodeValue.length;
    } else if (tag = child.getAttribute("pm-span")) {
      offset = parseSpan(tag).to;
      break;
    } else if (tag = child.getAttribute("pm-path")) {
      offset = +tag + 1;
      extraOffset = 0;
      break;
    } else if (loose) {
      extraOffset += child.textContent.length;
    }
  }
  return new _model.Pos(pathFromNode(node), offset + extraOffset);
}

function posFromDOM(pm, node, offset) {
  if (offset == null) {
    offset = Array.prototype.indexOf.call(node.parentNode.childNodes, node);
    node = node.parentNode;
  }
  return posFromDOMInner(pm, node, offset);
}

function rangeFromDOMLoose(pm) {
  if (!hasFocus(pm)) return null;
  var sel = getSelection();
  return new TextSelection(posFromDOMInner(pm, sel.anchorNode, sel.anchorOffset, true), posFromDOMInner(pm, sel.focusNode, sel.focusOffset, true));
}

function findByPath(node, n, fromEnd) {
  for (var ch = fromEnd ? node.lastChild : node.firstChild; ch; ch = fromEnd ? ch.previousSibling : ch.nextSibling) {
    if (ch.nodeType != 1) continue;
    var path = ch.getAttribute("pm-path");
    if (!path) {
      var found = findByPath(ch, n);
      if (found) return found;
    } else if (+path == n) {
      return ch;
    }
  }
}

function resolvePath(parent, path) {
  var node = parent;
  for (var i = 0; i < path.length; i++) {
    node = findByPath(node, path[i]);
    if (!node) throw new Error("Failed to resolve path " + path.join("/"));
  }
  return node;
}

function parseSpan(span) {
  var _dD$$exec = /^(\d+)-(\d+)$/.exec(span);

  var _dD$$exec2 = _slicedToArray(_dD$$exec, 3);

  var _ = _dD$$exec2[0];
  var from = _dD$$exec2[1];
  var to = _dD$$exec2[2];

  return { from: +from, to: +to };
}

function findByOffset(node, offset, after) {
  function search(node) {
    for (var ch = node.firstChild, i = 0, attr = undefined; ch; ch = ch.nextSibling, i++) {
      if (ch.nodeType != 1) continue;
      if (attr = ch.getAttribute("pm-span")) {
        var _parseSpan = parseSpan(attr);

        var from = _parseSpan.from;
        var to = _parseSpan.to;

        if (after ? from == offset : to >= offset) return { node: ch, offset: i, innerOffset: offset - from };
      } else if (attr = ch.getAttribute("pm-path")) {
        var diff = offset - +attr;
        if (diff == 0 || after && diff == 1) return { node: ch, offset: i, innerOffset: diff };
      } else {
        var result = search(ch);
        if (result) return result;
      }
    }
  }
  return search(node);
}

function leafAt(node, offset) {
  for (;;) {
    var child = node.firstChild;
    if (!child) return { node: node, offset: offset };
    if (child.nodeType != 1) return { node: child, offset: offset };
    if (child.hasAttribute("pm-span-offset")) {
      var nodeOffset = 0;
      for (;;) {
        var nextSib = child.nextSibling,
            nextOffset = undefined;
        if (!nextSib || (nextOffset = +nextSib.getAttribute("pm-span-offset")) >= offset) break;
        child = nextSib;
        nodeOffset = nextOffset;
      }
      offset -= nodeOffset;
    }
    node = child;
  }
}

/**
 * Get a DOM element at a given position in the document.
 *
 * @param {Node} parent The parent DOM node.
 * @param {Pos} pos     The position in the document.
 * @return {Object}     The DOM node and character offset inside the node.
 */
function DOMFromPos(parent, pos) {
  var node = resolvePath(parent, pos.path);
  var found = findByOffset(node, pos.offset),
      inner = undefined;
  if (!found) return { node: node, offset: 0 };
  if (found.node.hasAttribute("pm-span-atom") || !(inner = leafAt(found.node, found.innerOffset))) return { node: found.node.parentNode, offset: found.offset + (found.innerOffset ? 1 : 0) };else return inner;
}

function hasFocus(pm) {
  var sel = window.getSelection();
  return sel.rangeCount && (0, _dom.contains)(pm.content, sel.anchorNode);
}

/**
 * Given an x,y position on the editor, get the position in the document.
 *
 * @param  {ProseMirror} pm     Editor instance.
 * @param  {Object}      coords The x, y coordinates.
 * @return {Pos}
 */
// FIXME fails on the space between lines
// FIXME reformulate as selectionAtCoords? So that it can't return null

function posAtCoords(pm, coords) {
  var element = document.elementFromPoint(coords.left, coords.top + 1);
  if (!(0, _dom.contains)(pm.content, element)) return null;

  var offset = undefined;
  if (element.childNodes.length == 1 && element.firstChild.nodeType == 3) {
    element = element.firstChild;
    offset = offsetInTextNode(element, coords);
  } else {
    offset = offsetInElement(element, coords);
  }

  return posFromDOM(pm, element, offset);
}

function textRect(node, from, to) {
  var range = document.createRange();
  range.setEnd(node, to);
  range.setStart(node, from);
  return range.getBoundingClientRect();
}

/**
 * Given a position in the document model, get a bounding box of the character at
 * that position, relative to the window.
 *
 * @param  {ProseMirror} pm The editor instance.
 * @param  {Pos}         pos
 * @return {Object} The bounding box.
 */

function coordsAtPos(pm, pos) {
  var _DOMFromPos = DOMFromPos(pm.content, pos);

  var node = _DOMFromPos.node;
  var offset = _DOMFromPos.offset;

  var side = undefined,
      rect = undefined;
  if (node.nodeType == 3) {
    if (offset < node.nodeValue.length) {
      rect = textRect(node, offset, offset + 1);
      side = "left";
    }
    if ((!rect || rect.left == rect.right) && offset) {
      rect = textRect(node, offset - 1, offset);
      side = "right";
    }
  } else if (node.firstChild) {
    if (offset < node.childNodes.length) {
      var child = node.childNodes[offset];
      rect = child.nodeType == 3 ? textRect(child, 0, child.nodeValue.length) : child.getBoundingClientRect();
      side = "left";
    }
    if ((!rect || rect.left == rect.right) && offset) {
      var child = node.childNodes[offset - 1];
      rect = child.nodeType == 3 ? textRect(child, 0, child.nodeValue.length) : child.getBoundingClientRect();
      side = "right";
    }
  } else {
    rect = node.getBoundingClientRect();
    side = "left";
  }
  var x = rect[side];
  return { top: rect.top, bottom: rect.bottom, left: x, right: x };
}

var scrollMargin = 5;

function scrollIntoView(pm, pos) {
  if (!pos) pos = pm.sel.range.head || pm.sel.range.from;
  var coords = coordsAtPos(pm, pos);
  for (var _parent3 = pm.content;; _parent3 = _parent3.parentNode) {
    var atBody = _parent3 == document.body;
    var rect = atBody ? windowRect() : _parent3.getBoundingClientRect();
    var moveX = 0,
        moveY = 0;
    if (coords.top < rect.top) moveY = -(rect.top - coords.top + scrollMargin);else if (coords.bottom > rect.bottom) moveY = coords.bottom - rect.bottom + scrollMargin;
    if (coords.left < rect.left) moveX = -(rect.left - coords.left + scrollMargin);else if (coords.right > rect.right) moveX = coords.right - rect.right + scrollMargin;
    if (moveX || moveY) {
      if (atBody) window.scrollBy(moveX, moveY);
    } else {
      if (moveY) _parent3.scrollTop += moveY;
      if (moveX) _parent3.scrollLeft += moveX;
    }
    if (atBody) break;
  }
}

function offsetInRects(coords, rects, strict) {
  var y = coords.top;
  var x = coords.left;

  var minY = 1e8,
      minX = 1e8,
      offset = 0;
  for (var i = 0; i < rects.length; i++) {
    var rect = rects[i];
    if (!rect || rect.top == rect.bottom) continue;
    var dX = x < rect.left ? rect.left - x : x > rect.right ? x - rect.right : 0;
    if (dX > minX) continue;
    if (dX < minX) {
      minX = dX;minY = 1e8;
    }
    var dY = y < rect.top ? rect.top - y : y > rect.bottom ? y - rect.bottom : 0;
    if (dY < minY) {
      minY = dY;
      offset = x < (rect.left + rect.right) / 2 ? i : i + 1;
    }
  }
  if (strict && (minX || minY)) return null;
  return offset;
}

function offsetInTextNode(text, coords, strict) {
  var len = text.nodeValue.length;
  var range = document.createRange();
  var rects = [];
  for (var i = 0; i < len; i++) {
    range.setEnd(text, i + 1);
    range.setStart(text, i);
    rects.push(range.getBoundingClientRect());
  }
  return offsetInRects(coords, rects, strict);
}

function offsetInElement(element, coords) {
  var rects = [];
  for (var child = element.firstChild; child; child = child.nextSibling) {
    if (child.getBoundingClientRect) rects.push(child.getBoundingClientRect());else rects.push(null);
  }
  return offsetInRects(coords, rects);
}

function findSelectionIn(doc, path, offset, dir, text) {
  var node = doc.path(path);
  if (node.isTextblock) return new TextSelection(new _model.Pos(path, offset));

  for (var i = offset + (dir > 0 ? 0 : -1); dir > 0 ? i < node.maxOffset : i >= 0; i += dir) {
    var child = node.child(i);
    if (!text && child.type.contains == null && child.type.selectable) return new NodeSelection(new _model.Pos(path, i), new _model.Pos(path, i + 1), child);
    path.push(i);
    var inside = findSelectionIn(doc, path, dir < 0 ? child.maxOffset : 0, dir, text);
    if (inside) return inside;
    path.pop();
  }
}

// FIXME we'll need some awareness of bidi motion when determining block start and end

function findSelectionFrom(doc, pos, dir, text) {
  for (var path = pos.path.slice(), offset = pos.offset;;) {
    var found = findSelectionIn(doc, path, offset, dir, text);
    if (found) return found;
    if (!path.length) break;
    offset = path.pop() + (dir > 0 ? 1 : 0);
  }
}

function findSelectionNear(doc, pos, bias, text) {
  if (bias === undefined) bias = 1;

  var result = findSelectionFrom(doc, pos, bias, text) || findSelectionFrom(doc, pos, -bias, text);
  if (!result) throw new Error("Searching for selection in invalid document " + doc);
  return result;
}

function findSelectionAtStart(node, path, text) {
  if (path === undefined) path = [];

  return findSelectionIn(node, path.slice(), 0, 1, text);
}

function findSelectionAtEnd(node, path, text) {
  if (path === undefined) path = [];

  return findSelectionIn(node, path.slice(), node.maxOffset, -1, text);
}

function selectableNodeAbove(pm, dom, coords, liberal) {
  for (; dom && dom != pm.content; dom = dom.parentNode) {
    if (dom.hasAttribute("pm-path")) {
      var path = pathFromNode(dom);
      var node = pm.doc.path(path);
      // Leaf nodes are implicitly clickable
      if (node.type.clicked) {
        var result = node.type.clicked(node, path, dom, coords);
        if (result) return result;
      }
      if ((liberal || node.type.contains == null) && node.type.selectable) return _model.Pos.from(path);
      return null;
    } else if (dom.hasAttribute("pm-span-atom")) {
      var path = pathFromNode(dom.parentNode);
      var _parent4 = pm.doc.path(path),
          span = parseSpan(dom.getAttribute("pm-span"));
      var node = _parent4.childAfter(span.from).node;
      return node.type.selectable ? new _model.Pos(path, span.from) : null;
    }
  }
}

function verticalMotionLeavesTextblock(pm, pos, dir) {
  var dom = resolvePath(pm.content, pos.path);
  var coords = coordsAtPos(pm, pos);
  for (var child = dom.firstChild; child; child = child.nextSibling) {
    var boxes = child.getClientRects();
    for (var i = 0; i < boxes.length; i++) {
      var box = boxes[i];
      if (dir < 0 ? box.bottom < coords.top : box.top > coords.bottom) return false;
    }
  }
  return true;
}

function setDOMSelectionToPos(pm, pos) {
  var _DOMFromPos2 = DOMFromPos(pm.content, pos);

  var node = _DOMFromPos2.node;
  var offset = _DOMFromPos2.offset;

  var range = document.createRange();
  range.setEnd(node, offset);
  range.setStart(node, offset);
  var sel = getSelection();
  sel.removeAllRanges();
  sel.addRange(range);
}

},{"../dom":1,"../model":25}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _model = require("../model");

var _edit = require("../edit");

var _inputrules = require("./inputrules");

(0, _edit.defineOption)("autoInput", false, function (pm, val, old) {
  if (val && !old) (0, _inputrules.addInputRules)(pm, rules);else if (!val && old) (0, _inputrules.removeInputRules)(pm, rules);
});

var rules = [new _inputrules.Rule("-", /--$/, ""), new _inputrules.Rule('"', /\s(")$/, ""), new _inputrules.Rule('"', /"$/, ""), new _inputrules.Rule("'", /\s(')$/, ""), new _inputrules.Rule("'", /'$/, ""), new _inputrules.Rule(" ", /^\s*> $/, function (pm, _, pos) {
  wrapAndJoin(pm, pos, "blockquote");
}), new _inputrules.Rule(" ", /^(\d+)\. $/, function (pm, match, pos) {
  var order = +match[1];
  wrapAndJoin(pm, pos, "ordered_list", { order: order || null, tight: true }, function (node) {
    return node.length + (node.attrs.order || 1) == order;
  });
}), new _inputrules.Rule(" ", /^\s*([-+*]) $/, function (pm, match, pos) {
  var bullet = match[1];
  wrapAndJoin(pm, pos, "bullet_list", { bullet: bullet, tight: true }, function (node) {
    return node.attrs.bullet == bullet;
  });
}), new _inputrules.Rule("`", /^```$/, function (pm, _, pos) {
  setAs(pm, pos, "code_block", { params: "" });
}), new _inputrules.Rule(" ", /^(#{1,6}) $/, function (pm, match, pos) {
  setAs(pm, pos, "heading", { level: match[1].length });
})];

exports.rules = rules;
function wrapAndJoin(pm, pos, type) {
  var attrs = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];
  var predicate = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

  var before = pos.shorten();
  var sibling = before.offset > 0 && pm.doc.path(before.path).child(before.offset - 1);
  var join = sibling && sibling.type.name == type && (!predicate || predicate(sibling));
  var tr = pm.tr.wrap(pos, pos, pm.schema.node(type, attrs));
  var delPos = tr.map(pos).pos;
  tr["delete"](new _model.Pos(delPos.path, 0), delPos);
  if (join) tr.join(before);
  tr.apply();
}

function setAs(pm, pos, type, attrs) {
  pm.tr.setBlockType(pos, pos, pm.schema.node(type, attrs))["delete"](new _model.Pos(pos.path, 0), pos).apply();
}

},{"../edit":10,"../model":25,"./inputrules":18}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.addInputRules = addInputRules;
exports.removeInputRules = removeInputRules;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _edit = require("../edit");

function addInputRules(pm, rules) {
  if (!pm.mod.interpretInput) pm.mod.interpretInput = new InputRules(pm);
  pm.mod.interpretInput.addRules(rules);
}

function removeInputRules(pm, rules) {
  var ii = pm.mod.interpretInput;
  if (!ii) return;
  ii.removeRules(rules);
  if (ii.rules.length == 0) {
    ii.unregister();
    pm.mod.interpretInput = null;
  }
}

var Rule = function Rule(lastChar, match, handler) {
  _classCallCheck(this, Rule);

  this.lastChar = lastChar;
  this.match = match;
  this.handler = handler;
};

exports.Rule = Rule;

var InputRules = (function () {
  function InputRules(pm) {
    var _this = this;

    _classCallCheck(this, InputRules);

    this.pm = pm;
    this.rules = [];
    this.cancelVersion = null;

    pm.on("selectionChange", this.onSelChange = function () {
      return _this.cancelVersion = null;
    });
    pm.on("textInput", this.onTextInput = this.onTextInput.bind(this));
    pm.addKeymap(new _edit.Keymap({ Backspace: function Backspace(pm) {
        return _this.backspace(pm);
      } }, { name: "inputRules" }), 20);
  }

  _createClass(InputRules, [{
    key: "unregister",
    value: function unregister() {
      this.pm.off("selectionChange", this.onSelChange);
      this.pm.off("textInput", this.onTextInput);
      this.pm.removeKeymap("inputRules");
    }
  }, {
    key: "addRules",
    value: function addRules(rules) {
      this.rules = this.rules.concat(rules);
    }
  }, {
    key: "removeRules",
    value: function removeRules(rules) {
      for (var i = 0; i < rules.length; i++) {
        var found = this.rules.indexOf(rules[i]);
        if (found > -1) this.rules.splice(found, 1);
      }
    }
  }, {
    key: "onTextInput",
    value: function onTextInput(text) {
      var pos = this.pm.selection.head;
      if (!pos) return;

      var textBefore = undefined,
          isCode = undefined;
      var lastCh = text[text.length - 1];

      for (var i = 0; i < this.rules.length; i++) {
        var rule = this.rules[i],
            match = undefined;
        if (rule.lastChar && rule.lastChar != lastCh) continue;
        if (textBefore == null) {
          ;
          var _getContext = getContext(this.pm.doc, pos);

          textBefore = _getContext.textBefore;
          isCode = _getContext.isCode;

          if (isCode) return;
        }
        if (match = rule.match.exec(textBefore)) {
          var startVersion = this.pm.history.getVersion();
          if (typeof rule.handler == "string") {
            var offset = pos.offset - (match[1] || match[0]).length;
            var start = new _model.Pos(pos.path, offset);
            var styles = (0, _model.spanStylesAt)(this.pm.doc, pos);
            this.pm.tr["delete"](start, pos).insert(start, this.pm.schema.text(rule.handler, styles)).apply();
          } else {
            rule.handler(this.pm, match, pos);
          }
          this.cancelVersion = startVersion;
          return;
        }
      }
    }
  }, {
    key: "backspace",
    value: function backspace() {
      if (this.cancelVersion) {
        this.pm.history.backToVersion(this.cancelVersion);
        this.cancelVersion = null;
      } else {
        return false;
      }
    }
  }]);

  return InputRules;
})();

function getContext(doc, pos) {
  var parent = doc.path(pos.path);
  var isCode = parent.type.isCode;
  var textBefore = "";
  for (var offset = 0, i = 0; offset < pos.offset;) {
    var child = parent.child(i++),
        size = child.offset;
    textBefore += offset + size > pos.offset ? child.text.slice(0, pos.offset - offset) : child.text;
    if (offset + size >= pos.offset) {
      if (child.styles.some(function (st) {
        return st.type.isCode;
      })) isCode = true;
      break;
    }
    offset += size;
  }
  return { textBefore: textBefore, isCode: isCode };
}

},{"../edit":10,"../model":25}],19:[function(require,module,exports){
"use strict";

var _dom = require("../dom");

(0, _dom.insertCSS)("\n\n.ProseMirror-icon-lift:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-joinUp:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-insertImage:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-strong:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-em:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-link:after, .ProseMirror-icon-unlink:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-code:after {\n  font-family: ProseMirror-icons;\n  font-size: 110%;\n  content: \"\";\n}\n.ProseMirror-icon-wrapOrderedList:after {\n  font-family: ProseMirror-icons;\n  font-size: 110%;\n  content: \"\";\n}\n.ProseMirror-icon-wrapBulletList:after {\n  font-family: ProseMirror-icons;\n  font-size: 110%;\n  content: \"\";\n}\n.ProseMirror-icon-wrapBlockQuote:after {\n  font-family: ProseMirror-icons;\n  font-size: 110%;\n  content: \"\";\n}\n.ProseMirror-icon-insertHorizontalRule:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-undo:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n.ProseMirror-icon-redo:after {\n  font-family: ProseMirror-icons;\n  content: \"\";\n}\n\n.ProseMirror-icon-selectParentBlock:after {\n  content: \"\";\n  font-weight: bold;\n  vertical-align: 20%;\n}\n\n@font-face {\n  font-family: ProseMirror-icons;\n  src: url(data:application/x-font-woff;base64,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) format('woff');\n  font-weight: normal;\n  font-style: normal;\n}\n\n");

},{"../dom":1}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.showSelectMenu = showSelectMenu;
exports.readParams = readParams;
exports.commandGroups = commandGroups;
exports.forceFontLoad = forceFontLoad;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { "default": obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _tooltip = require("./tooltip");

var _dom = require("../dom");

var _edit = require("../edit");

var _utilSortedinsert = require("../util/sortedinsert");

var _utilSortedinsert2 = _interopRequireDefault(_utilSortedinsert);

var Menu = (function () {
  function Menu(pm, display) {
    _classCallCheck(this, Menu);

    this.display = display;
    this.stack = [];
    this.pm = pm;
  }

  _createClass(Menu, [{
    key: "show",
    value: function show(content, displayInfo) {
      this.stack.length = 0;
      this.enter(content, displayInfo);
    }
  }, {
    key: "reset",
    value: function reset() {
      this.stack.length = 0;
      this.display.reset();
    }
  }, {
    key: "enter",
    value: function enter(content, displayInfo) {
      var _this = this;

      var pieces = [],
          explore = function explore(value) {
        if (Array.isArray(value)) {
          for (var i = 0; i < value.length; i++) {
            explore(value[i]);
          }pieces.push(separator);
        } else if (!value.select || value.select(_this.pm)) {
          pieces.push(value);
        }
      };
      explore(content);
      // Remove superfluous separators
      for (var i = 0; i < pieces.length; i++) {
        if (pieces[i] == separator && (i == 0 || i == pieces.length - 1 || pieces[i + 1] == separator)) pieces.splice(i--, 1);
      }if (!pieces.length) return this.display.clear();

      this.stack.push(pieces);
      this.draw(displayInfo);
    }
  }, {
    key: "draw",
    value: function draw(displayInfo) {
      var _this2 = this;

      var cur = this.stack[this.stack.length - 1];
      var rendered = (0, _dom.elt)("div", { "class": "ProseMirror-menu" }, cur.map(function (item) {
        return renderItem(item, _this2);
      }));
      if (this.stack.length > 1) this.display.enter(rendered, function () {
        return _this2.leave();
      }, displayInfo);else this.display.show(rendered, displayInfo);
    }
  }, {
    key: "leave",
    value: function leave() {
      this.stack.pop();
      if (this.stack.length) this.draw();else this.display.reset();
    }
  }, {
    key: "active",
    get: function get() {
      return this.stack.length > 1;
    }
  }]);

  return Menu;
})();

exports.Menu = Menu;

var TooltipDisplay = (function () {
  function TooltipDisplay(tooltip, resetFunc) {
    _classCallCheck(this, TooltipDisplay);

    this.tooltip = tooltip;
    this.resetFunc = resetFunc;
  }

  _createClass(TooltipDisplay, [{
    key: "clear",
    value: function clear() {
      this.tooltip.close();
    }
  }, {
    key: "reset",
    value: function reset() {
      if (this.resetFunc) this.resetFunc();else this.clear();
    }
  }, {
    key: "show",
    value: function show(dom, info) {
      this.tooltip.open(dom, info);
    }
  }, {
    key: "enter",
    value: function enter(dom, back, info) {
      var button = (0, _dom.elt)("div", { "class": "ProseMirror-tooltip-back", title: "Back" });
      button.addEventListener("mousedown", function (e) {
        e.preventDefault();e.stopPropagation();
        back();
      });
      this.show((0, _dom.elt)("div", { "class": "ProseMirror-tooltip-back-wrapper" }, dom, button), info);
    }
  }]);

  return TooltipDisplay;
})();

exports.TooltipDisplay = TooltipDisplay;

function title(pm, command) {
  var key = pm.keyForCommand(command.name);
  return key ? command.label + " (" + key + ")" : command.label;
}

function renderIcon(command, menu) {
  var iconClass = "ProseMirror-menuicon";
  if (command.active(menu.pm)) iconClass += " ProseMirror-menuicon-active";

  var dom = (0, _dom.elt)("div", { "class": iconClass, title: title(menu.pm, command) }, (0, _dom.elt)("span", { "class": "ProseMirror-menuicon ProseMirror-icon-" + command.name }));
  dom.addEventListener("mousedown", function (e) {
    e.preventDefault();e.stopPropagation();
    if (!command.params.length) {
      command.exec(menu.pm);
      menu.reset();
    } else if (command.params.length == 1 && command.params[0].type == "select") {
      showSelectMenu(menu.pm, command, dom);
    } else {
      menu.enter(readParams(command));
    }
  });
  return dom;
}

function renderSelect(item, menu) {
  var param = item.params[0];
  var value = !param["default"] ? null : param["default"].call ? param["default"](menu.pm) : param["default"];

  var dom = (0, _dom.elt)("div", { "class": "ProseMirror-select ProseMirror-select-command-" + item.name, title: item.label }, !value ? param.defaultLabel || "Select..." : value.display ? value.display(value) : value.label);
  dom.addEventListener("mousedown", function (e) {
    e.preventDefault();e.stopPropagation();
    showSelectMenu(menu.pm, item, dom);
  });
  return dom;
}

function showSelectMenu(pm, item, dom) {
  var param = item.params[0];
  var options = param.options.call ? param.options(pm) : param.options;
  var menu = (0, _dom.elt)("div", { "class": "ProseMirror-select-menu" }, options.map(function (o) {
    var dom = (0, _dom.elt)("div", null, o.display ? o.display(o) : o.label);
    dom.addEventListener("mousedown", function (e) {
      e.preventDefault();
      item.exec(pm, [o.value]);
      finish();
    });
    return dom;
  }));
  var pos = dom.getBoundingClientRect(),
      box = pm.wrapper.getBoundingClientRect();
  menu.style.left = pos.left - box.left - 2 + "px";
  menu.style.top = pos.top - box.top - 2 + "px";

  var done = false;
  function finish() {
    if (done) return;
    done = true;
    document.body.removeEventListener("mousedown", finish);
    document.body.removeEventListener("keydown", finish);
    pm.wrapper.removeChild(menu);
  }
  document.body.addEventListener("mousedown", finish);
  document.body.addEventListener("keydown", finish);
  pm.wrapper.appendChild(menu);
}

function renderItem(item, menu) {
  if (item.display == "icon") return renderIcon(item, menu);else if (item.display == "select") return renderSelect(item, menu);else if (!item.display) throw new Error("Command " + item.name + " can not be shown in a menu");else return item.display(menu);
}

function buildParamForm(pm, command) {
  var prefill = command.info.prefillParams && command.info.prefillParams(pm);
  var fields = command.params.map(function (param, i) {
    var field = undefined,
        name = "field_" + i;
    var val = prefill ? prefill[i] : param["default"] || "";
    if (param.type == "text") field = (0, _dom.elt)("input", { name: name, type: "text",
      placeholder: param.name,
      value: val,
      autocomplete: "off" });else if (param.type == "select") field = (0, _dom.elt)("select", { name: name }, (param.options.call ? param.options(pm) : param.options).map(function (o) {
      return (0, _dom.elt)("option", { value: o.value, selected: o == val }, o.label);
    }));else // FIXME more types
      throw new Error("Unsupported parameter type: " + param.type);
    return (0, _dom.elt)("div", null, field);
  });
  return (0, _dom.elt)("form", null, fields);
}

function gatherParams(pm, command, form) {
  var bad = false;
  var params = command.params.map(function (param, i) {
    var val = form.elements["field_" + i].value;
    if (val) return val;
    if (param["default"] == null) bad = true;else return param["default"].call ? param["default"](pm) : param["default"];
  });
  return bad ? null : params;
}

function paramForm(pm, command, callback) {
  var form = buildParamForm(pm, command),
      done = false;

  var finish = function finish(result) {
    if (!done) {
      done = true;
      callback(result);
    }
  };

  var submit = function submit() {
    // FIXME error messages
    finish(gatherParams(pm, command, form));
  };
  form.addEventListener("submit", function (e) {
    e.preventDefault();
    submit();
  });
  form.addEventListener("keydown", function (e) {
    if (e.keyCode == 27) {
      finish(null);
    } else if (e.keyCode == 13 && !(e.ctrlKey || e.metaKey || e.shiftKey)) {
      e.preventDefault();
      submit();
    }
  });
  // FIXME too hacky?
  setTimeout(function () {
    var input = form.querySelector("input, textarea");
    if (input) input.focus();
  }, 20);

  return form;
}

function readParams(command) {
  return { display: function display(menu) {
      return paramForm(menu.pm, command, function (params) {
        menu.pm.focus();
        if (params) {
          command.exec(menu.pm, params);
          menu.reset();
        } else {
          menu.leave();
        }
      });
    } };
}

var separator = {
  display: function display() {
    return (0, _dom.elt)("div", { "class": "ProseMirror-menuseparator" });
  }
};

function commandGroups(pm) {
  for (var _len = arguments.length, names = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    names[_key - 1] = arguments[_key];
  }

  return names.map(function (group) {
    var found = [];
    for (var _name in pm.commands) {
      var cmd = pm.commands[_name];
      if (cmd.info.menuGroup && cmd.info.menuGroup == group) (0, _utilSortedinsert2["default"])(found, cmd, function (a, b) {
        return (a.info.menuRank || 50) - (b.info.menuRank || 50);
      });
    }
    return found;
  });
}

// Awkward hack to force Chrome to initialize the font and not return
// incorrect size information the first time it is used.

var forced = false;

function forceFontLoad(pm) {
  if (forced) return;
  forced = true;

  var node = pm.wrapper.appendChild((0, _dom.elt)("div", { "class": "ProseMirror-menuicon ProseMirror-icon-strong",
    style: "visibility: hidden; position: absolute" }));
  window.setTimeout(function () {
    return pm.wrapper.removeChild(node);
  }, 20);
}

function tooltipParamHandler(pm, command, callback) {
  var tooltip = new _tooltip.Tooltip(pm, "center");
  tooltip.open(paramForm(pm, command, function (params) {
    pm.focus();
    tooltip.close();
    callback(params);
  }));
}

(0, _edit.defineParamHandler)("default", tooltipParamHandler);
(0, _edit.defineParamHandler)("tooltip", tooltipParamHandler);

// FIXME check for obsolete styles
(0, _dom.insertCSS)("\n\n.ProseMirror-menu {\n  margin: 0 -4px;\n  line-height: 1;\n  white-space: pre;\n}\n.ProseMirror-tooltip .ProseMirror-menu {\n  width: -webkit-fit-content;\n  width: fit-content;\n}\n\n.ProseMirror-tooltip-back-wrapper {\n  padding-left: 12px;\n}\n.ProseMirror-tooltip-back {\n  position: absolute;\n  top: 5px; left: 5px;\n  cursor: pointer;\n}\n.ProseMirror-tooltip-back:after {\n  content: \"\";\n}\n\n.ProseMirror-menuicon {\n  display: inline-block;\n  padding: 1px 4px;\n  margin: 0 2px;\n  cursor: pointer;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.ProseMirror-menuicon-active {\n  background: #666;\n  border-radius: 4px;\n}\n\n.ProseMirror-menuseparator {\n  display: inline-block;\n}\n.ProseMirror-menuseparator:after {\n  content: \"\";\n  opacity: 0.5;\n  padding: 0 4px;\n  vertical-align: middle;\n}\n\n.ProseMirror-select, .ProseMirror-select-menu {\n  border: 1px solid #777;\n  border-radius: 3px;\n  font-size: 90%;\n}\n\n.ProseMirror-select {\n  padding: 1px 12px 1px 4px;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  cursor: pointer;\n  margin: 0 4px;\n}\n\n.ProseMirror-select-command-textblockType {\n  min-width: 3.2em;\n}\n\n.ProseMirror-select:after {\n  content: \"\";\n  color: #777;\n  position: absolute;\n  right: 4px;\n}\n\n.ProseMirror-select-menu {\n  position: absolute;\n  background: #444;\n  color: white;\n  padding: 2px 2px;\n  z-index: 15;\n}\n.ProseMirror-select-menu div {\n  cursor: pointer;\n  padding: 0 1em 0 2px;\n}\n.ProseMirror-select-menu div:hover {\n  background: #777;\n}\n\n");

},{"../dom":1,"../edit":10,"../util/sortedinsert":50,"./tooltip":22}],21:[function(require,module,exports){
"use strict";

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _edit = require("../edit");

var _dom = require("../dom");

var _utilDebounce = require("../util/debounce");

var _menu = require("./menu");

require("./icons");

(0, _edit.defineOption)("menuBar", false, function (pm, value) {
  if (pm.mod.menuBar) pm.mod.menuBar.detach();
  pm.mod.menuBar = value ? new MenuBar(pm, value) : null;
});

var BarDisplay = (function () {
  function BarDisplay(container, resetFunc) {
    _classCallCheck(this, BarDisplay);

    this.container = container;
    this.resetFunc = resetFunc;
  }

  _createClass(BarDisplay, [{
    key: "clear",
    value: function clear() {
      this.container.textContent = "";
    }
  }, {
    key: "reset",
    value: function reset() {
      this.resetFunc();
    }
  }, {
    key: "show",
    value: function show(dom) {
      this.clear();
      this.container.appendChild(dom);
    }
  }, {
    key: "enter",
    value: function enter(dom, back) {
      var current = this.container.firstChild;
      if (current) {
        current.style.position = "absolute";
        current.style.opacity = "0.5";
      }
      var backButton = (0, _dom.elt)("div", { "class": "ProseMirror-menubar-back" });
      backButton.addEventListener("mousedown", function (e) {
        e.preventDefault();e.stopPropagation();
        back();
      });
      var added = (0, _dom.elt)("div", { "class": "ProseMirror-menubar-sliding" }, backButton, dom);
      this.container.appendChild(added);
      added.getBoundingClientRect(); // Force layout for transition
      added.style.left = "0";
      added.addEventListener("transitionend", function () {
        if (current && current.parentNode) current.parentNode.removeChild(current);
      });
    }
  }]);

  return BarDisplay;
})();

var MenuBar = (function () {
  function MenuBar(pm, config) {
    var _this = this;

    _classCallCheck(this, MenuBar);

    this.pm = pm;

    this.menuElt = (0, _dom.elt)("div", { "class": "ProseMirror-menubar-inner" });
    this.wrapper = (0, _dom.elt)("div", { "class": "ProseMirror-menubar" },
    // Height-forcing placeholder
    (0, _dom.elt)("div", { "class": "ProseMirror-menu", style: "visibility: hidden" }, (0, _dom.elt)("div", { "class": "ProseMirror-menuicon" }, (0, _dom.elt)("span", { "class": "ProseMirror-menuicon ProseMirror-icon-strong" }))), this.menuElt);
    pm.wrapper.insertBefore(this.wrapper, pm.wrapper.firstChild);

    this.menu = new _menu.Menu(pm, new BarDisplay(this.menuElt, function () {
      return _this.resetMenu();
    }));
    this.debounced = new _utilDebounce.Debounced(pm, 100, function () {
      return _this.update();
    });
    pm.on("selectionChange", this.updateFunc = function () {
      return _this.debounced.trigger();
    });
    pm.on("change", this.updateFunc);
    pm.on("activeStyleChange", this.updateFunc);

    this.menuItems = config && config.items || (0, _menu.commandGroups)(pm, "inline", "block", "history");
    this.update();

    this.floating = false;
    if (config && config.float) {
      this.updateFloat();
      this.scrollFunc = function () {
        if (!document.body.contains(_this.pm.wrapper)) window.removeEventListener("scroll", _this.scrollFunc);else _this.updateFloat();
      };
      window.addEventListener("scroll", this.scrollFunc);
    }
  }

  _createClass(MenuBar, [{
    key: "detach",
    value: function detach() {
      this.debounced.clear();
      this.wrapper.parentNode.removeChild(this.wrapper);

      this.pm.off("selectionChange", this.updateFunc);
      this.pm.off("change", this.updateFunc);
      this.pm.off("activeStyleChange", this.updateFunc);
      if (this.scrollFunc) window.removeEventListener("scroll", this.scrollFunc);
    }
  }, {
    key: "update",
    value: function update() {
      if (!this.menu.active) this.resetMenu();
      if (this.floating) this.scrollCursorIfNeeded();
    }
  }, {
    key: "resetMenu",
    value: function resetMenu() {
      this.menu.show(this.menuItems);
    }
  }, {
    key: "updateFloat",
    value: function updateFloat() {
      var editorRect = this.pm.wrapper.getBoundingClientRect();
      if (this.floating) {
        if (editorRect.top >= 0 || editorRect.bottom < this.menuElt.offsetHeight + 10) {
          this.floating = false;
          this.menuElt.style.position = this.menuElt.style.left = this.menuElt.style.width = "";
          this.menuElt.style.display = "";
        } else {
          var border = (this.pm.wrapper.offsetWidth - this.pm.wrapper.clientWidth) / 2;
          this.menuElt.style.left = editorRect.left + border + "px";
          this.menuElt.style.display = editorRect.top > window.innerHeight ? "none" : "";
        }
      } else {
        if (editorRect.top < 0 && editorRect.bottom >= this.menuElt.offsetHeight + 10) {
          this.floating = true;
          var menuRect = this.menuElt.getBoundingClientRect();
          this.menuElt.style.left = menuRect.left + "px";
          this.menuElt.style.width = menuRect.width + "px";
          this.menuElt.style.position = "fixed";
        }
      }
    }
  }, {
    key: "scrollCursorIfNeeded",
    value: function scrollCursorIfNeeded() {
      var head = this.pm.selection.head;
      if (!head) return;
      var cursorPos = this.pm.coordsAtPos(head);
      var menuRect = this.menuElt.getBoundingClientRect();
      if (cursorPos.top < menuRect.bottom && cursorPos.bottom > menuRect.top) {
        var scrollable = findWrappingScrollable(this.pm.wrapper);
        if (scrollable) scrollable.scrollTop -= menuRect.bottom - cursorPos.top;
      }
    }
  }]);

  return MenuBar;
})();

function findWrappingScrollable(node) {
  for (var cur = node.parentNode; cur; cur = cur.parentNode) {
    if (cur.scrollHeight > cur.clientHeight) return cur;
  }
}

(0, _dom.insertCSS)("\n.ProseMirror-menubar {\n  padding: 1px 4px;\n  position: relative;\n  margin-bottom: 3px;\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n}\n\n.ProseMirror-menubar-inner {\n  color: #666;\n  padding: 1px 4px;\n  top: 0; left: 0; right: 0;\n  position: absolute;\n  border-bottom: 1px solid silver;\n  background: white;\n  z-index: 10;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n}\n\n.ProseMirror-menubar .ProseMirror-menuicon-active {\n  background: #eee;\n}\n\n.ProseMirror-menubar input[type=\"text\"],\n.ProseMirror-menubar textarea {\n  background: #eee;\n  color: black;\n  border: none;\n  outline: none;\n  width: 100%;\n  box-sizing: -moz-border-box;\n  box-sizing: border-box;\n}\n\n.ProseMirror-menubar input[type=\"text\"] {\n  padding: 0 4px;\n}\n\n.ProseMirror-menubar form {\n  position: relative;\n  padding: 2px 4px;\n}\n\n.ProseMirror-menubar .ProseMirror-blocktype {\n  border: 1px solid #ccc;\n  min-width: 4em;\n}\n.ProseMirror-menubar .ProseMirror-blocktype:after {\n  color: #ccc;\n}\n\n.ProseMirror-menubar-sliding {\n  -webkit-transition: left 0.2s ease-out;\n  -moz-transition: left 0.2s ease-out;\n  transition: left 0.2s ease-out;\n  position: relative;\n  left: 100%;\n  width: 100%;\n  box-sizing: -moz-border-box;\n  box-sizing: border-box;\n  padding-left: 16px;\n  background: white;\n}\n\n.ProseMirror-menubar-back {\n  position: absolute;\n  height: 100%;\n  margin-top: -1px;\n  padding-bottom: 2px;\n  width: 10px;\n  left: 0;\n  border-right: 1px solid silver;\n  cursor: pointer;\n}\n.ProseMirror-menubar-back:after {\n  content: \"\";\n}\n\n");

},{"../dom":1,"../edit":10,"../util/debounce":47,"./icons":19,"./menu":20}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _dom = require("../dom");

var prefix = "ProseMirror-tooltip";

var Tooltip = (function () {
  function Tooltip(pm, dir) {
    var _this = this;

    _classCallCheck(this, Tooltip);

    this.pm = pm;
    this.dir = dir || "above";
    this.pointer = pm.wrapper.appendChild((0, _dom.elt)("div", { "class": prefix + "-pointer-" + this.dir + " " + prefix + "-pointer" }));
    this.pointerWidth = this.pointerHeight = null;
    this.dom = pm.wrapper.appendChild((0, _dom.elt)("div", { "class": prefix }));
    this.dom.addEventListener("transitionend", function () {
      if (_this.dom.style.opacity == "0") _this.dom.style.display = _this.pointer.style.display = "";
    });

    this.isOpen = false;
    this.lastLeft = this.lastRight = null;
  }

  _createClass(Tooltip, [{
    key: "detach",
    value: function detach() {
      this.dom.parentNode.removeChild(this.dom);
      this.pointer.parentNode.removeChild(this.pointer);
    }
  }, {
    key: "getSize",
    value: function getSize(node) {
      var wrap = this.pm.wrapper.appendChild((0, _dom.elt)("div", {
        "class": prefix,
        style: "display: block; position: absolute"
      }, node));
      var size = { width: wrap.offsetWidth, height: wrap.offsetHeight };
      wrap.parentNode.removeChild(wrap);
      return size;
    }
  }, {
    key: "open",
    value: function open(node, pos) {
      var left = this.lastLeft = pos ? pos.left : this.lastLeft;
      var top = this.lastTop = pos ? pos.top : this.lastTop;

      var size = this.getSize(node);

      var around = this.pm.wrapper.getBoundingClientRect();

      for (var child = this.dom.firstChild, next = undefined; child; child = next) {
        next = child.nextSibling;
        if (child != this.pointer) this.dom.removeChild(child);
      }
      this.dom.appendChild(node);

      this.dom.style.display = this.pointer.style.display = "block";

      if (this.pointerWidth == null) {
        this.pointerWidth = this.pointer.offsetWidth - 1;
        this.pointerHeight = this.pointer.offsetHeight - 1;
      }

      this.dom.style.width = size.width + "px";
      this.dom.style.height = size.height + "px";

      var margin = 5;
      if (this.dir == "above" || this.dir == "below") {
        var tipLeft = Math.max(0, Math.min(left - size.width / 2, window.innerWidth - size.width));
        this.dom.style.left = tipLeft - around.left + "px";
        this.pointer.style.left = left - around.left - this.pointerWidth / 2 + "px";
        if (this.dir == "above") {
          var tipTop = top - around.top - margin - this.pointerHeight - size.height;
          this.dom.style.top = tipTop + "px";
          this.pointer.style.top = tipTop + size.height + "px";
        } else {
          // below
          var tipTop = top - around.top + margin;
          this.pointer.style.top = tipTop + "px";
          this.dom.style.top = tipTop + this.pointerHeight + "px";
        }
      } else if (this.dir == "left" || this.dir == "right") {
        this.dom.style.top = top - around.top - size.height / 2 + "px";
        this.pointer.style.top = top - this.pointerHeight / 2 - around.top + "px";
        if (this.dir == "left") {
          var pointerLeft = left - around.left - margin - this.pointerWidth;
          this.dom.style.left = pointerLeft - size.width + "px";
          this.pointer.style.left = pointerLeft + "px";
        } else {
          // right
          var pointerLeft = left - around.left + margin;
          this.dom.style.left = pointerLeft + this.pointerWidth + "px";
          this.pointer.style.left = pointerLeft + "px";
        }
      } else if (this.dir == "center") {
        var _top = Math.max(around.top, 0),
            bottom = Math.min(around.bottom, window.innerHeight);
        var fromTop = (bottom - _top - size.height) / 2;
        this.dom.style.left = (around.width - size.width) / 2 + "px";
        this.dom.style.top = _top - around.top + fromTop + "px";
      }

      getComputedStyle(this.dom).opacity;
      getComputedStyle(this.pointer).opacity;
      this.dom.style.opacity = this.pointer.style.opacity = 1;
      this.isOpen = true;
    }
  }, {
    key: "close",
    value: function close() {
      if (this.isOpen) {
        this.isOpen = false;
        this.dom.style.opacity = this.pointer.style.opacity = 0;
      }
    }
  }]);

  return Tooltip;
})();

exports.Tooltip = Tooltip;

(0, _dom.insertCSS)("\n\n.ProseMirror-tooltip {\n  position: absolute;\n  display: none;\n  box-sizing: border-box;\n  -moz-box-sizing: border- box;\n  overflow: hidden;\n\n  -webkit-transition: width 0.4s ease-out, height 0.4s ease-out, left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  -moz-transition: width 0.4s ease-out, height 0.4s ease-out, left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  transition: width 0.4s ease-out, height 0.4s ease-out, left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  opacity: 0;\n\n  border-radius: 5px;\n  padding: 3px 7px;\n  margin: 0;\n  background: #444;\n  border-color: #777;\n  color: white;\n\n  z-index: 5;\n}\n\n.ProseMirror-tooltip-pointer {\n  content: \"\";\n  position: absolute;\n  display: none;\n  width: 0; height: 0;\n\n  -webkit-transition: left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  -moz-transition: left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  transition: left 0.4s ease-out, top 0.4s ease-out, opacity 0.2s;\n  opacity: 0;\n\n  z-index: 5;\n}\n\n.ProseMirror-tooltip-pointer-above {\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-top: 6px solid #444;\n}\n\n.ProseMirror-tooltip-pointer-below {\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #444;\n}\n\n.ProseMirror-tooltip-pointer-right {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-right: 6px solid #444;\n}\n\n.ProseMirror-tooltip-pointer-left {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 6px solid #444;\n}\n\n.ProseMirror-tooltip input[type=\"text\"],\n.ProseMirror-tooltip textarea {\n  background: #666;\n  color: white;\n  border: none;\n  outline: none;\n}\n\n.ProseMirror-tooltip input[type=\"text\"] {\n  padding: 0 4px;\n}\n\n");

},{"../dom":1}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

var _get = function get(_x, _x2, _x3) {
  var _again = true;_function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _schema = require("./schema");

var Doc = (function (_Block) {
  _inherits(Doc, _Block);

  function Doc() {
    _classCallCheck(this, Doc);

    _get(Object.getPrototypeOf(Doc.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(Doc, null, [{
    key: "kind",
    get: function get() {
      return ".";
    }
  }]);

  return Doc;
})(_schema.Block);

exports.Doc = Doc;

var BlockQuote = (function (_Block2) {
  _inherits(BlockQuote, _Block2);

  function BlockQuote() {
    _classCallCheck(this, BlockQuote);

    _get(Object.getPrototypeOf(BlockQuote.prototype), "constructor", this).apply(this, arguments);
  }

  return BlockQuote;
})(_schema.Block);

exports.BlockQuote = BlockQuote;

var OrderedList = (function (_Block3) {
  _inherits(OrderedList, _Block3);

  function OrderedList() {
    _classCallCheck(this, OrderedList);

    _get(Object.getPrototypeOf(OrderedList.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(OrderedList, null, [{
    key: "contains",
    get: function get() {
      return "list_item";
    }
  }]);

  return OrderedList;
})(_schema.Block);

exports.OrderedList = OrderedList;

OrderedList.attributes = { order: new _schema.Attribute({ "default": "1" }) };

var BulletList = (function (_Block4) {
  _inherits(BulletList, _Block4);

  function BulletList() {
    _classCallCheck(this, BulletList);

    _get(Object.getPrototypeOf(BulletList.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(BulletList, null, [{
    key: "contains",
    get: function get() {
      return "list_item";
    }
  }]);

  return BulletList;
})(_schema.Block);

exports.BulletList = BulletList;

var ListItem = (function (_Block5) {
  _inherits(ListItem, _Block5);

  function ListItem() {
    _classCallCheck(this, ListItem);

    _get(Object.getPrototypeOf(ListItem.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(ListItem, null, [{
    key: "kind",
    get: function get() {
      return ".";
    }
  }]);

  return ListItem;
})(_schema.Block);

exports.ListItem = ListItem;

var HorizontalRule = (function (_Block6) {
  _inherits(HorizontalRule, _Block6);

  function HorizontalRule() {
    _classCallCheck(this, HorizontalRule);

    _get(Object.getPrototypeOf(HorizontalRule.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(HorizontalRule, null, [{
    key: "contains",
    get: function get() {
      return null;
    }
  }]);

  return HorizontalRule;
})(_schema.Block);

exports.HorizontalRule = HorizontalRule;

var Heading = (function (_Textblock) {
  _inherits(Heading, _Textblock);

  function Heading() {
    _classCallCheck(this, Heading);

    _get(Object.getPrototypeOf(Heading.prototype), "constructor", this).apply(this, arguments);
  }

  return Heading;
})(_schema.Textblock);

exports.Heading = Heading;

Heading.attributes = { level: new _schema.Attribute({ "default": "1" }) };

var CodeBlock = (function (_Textblock2) {
  _inherits(CodeBlock, _Textblock2);

  function CodeBlock() {
    _classCallCheck(this, CodeBlock);

    _get(Object.getPrototypeOf(CodeBlock.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(CodeBlock, [{
    key: "containsStyles",
    get: function get() {
      return false;
    }
  }, {
    key: "isCode",
    get: function get() {
      return true;
    }
  }], [{
    key: "contains",
    get: function get() {
      return "text";
    }
  }]);

  return CodeBlock;
})(_schema.Textblock);

exports.CodeBlock = CodeBlock;

var Paragraph = (function (_Textblock3) {
  _inherits(Paragraph, _Textblock3);

  function Paragraph() {
    _classCallCheck(this, Paragraph);

    _get(Object.getPrototypeOf(Paragraph.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(Paragraph, [{
    key: "defaultTextblock",
    get: function get() {
      return true;
    }
  }]);

  return Paragraph;
})(_schema.Textblock);

exports.Paragraph = Paragraph;

var Image = (function (_Inline) {
  _inherits(Image, _Inline);

  function Image() {
    _classCallCheck(this, Image);

    _get(Object.getPrototypeOf(Image.prototype), "constructor", this).apply(this, arguments);
  }

  return Image;
})(_schema.Inline);

exports.Image = Image;

Image.attributes = {
  src: new _schema.Attribute(),
  alt: new _schema.Attribute({ "default": "" }),
  title: new _schema.Attribute({ "default": "" })
};

var HardBreak = (function (_Inline2) {
  _inherits(HardBreak, _Inline2);

  function HardBreak() {
    _classCallCheck(this, HardBreak);

    _get(Object.getPrototypeOf(HardBreak.prototype), "constructor", this).apply(this, arguments);
  }

  // Style types

  _createClass(HardBreak, [{
    key: "selectable",
    get: function get() {
      return false;
    }
  }]);

  return HardBreak;
})(_schema.Inline);

exports.HardBreak = HardBreak;

var EmStyle = (function (_StyleType) {
  _inherits(EmStyle, _StyleType);

  function EmStyle() {
    _classCallCheck(this, EmStyle);

    _get(Object.getPrototypeOf(EmStyle.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(EmStyle, null, [{
    key: "rank",
    get: function get() {
      return 51;
    }
  }]);

  return EmStyle;
})(_schema.StyleType);

exports.EmStyle = EmStyle;

var StrongStyle = (function (_StyleType2) {
  _inherits(StrongStyle, _StyleType2);

  function StrongStyle() {
    _classCallCheck(this, StrongStyle);

    _get(Object.getPrototypeOf(StrongStyle.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(StrongStyle, null, [{
    key: "rank",
    get: function get() {
      return 52;
    }
  }]);

  return StrongStyle;
})(_schema.StyleType);

exports.StrongStyle = StrongStyle;

var LinkStyle = (function (_StyleType3) {
  _inherits(LinkStyle, _StyleType3);

  function LinkStyle() {
    _classCallCheck(this, LinkStyle);

    _get(Object.getPrototypeOf(LinkStyle.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(LinkStyle, null, [{
    key: "rank",
    get: function get() {
      return 53;
    }
  }]);

  return LinkStyle;
})(_schema.StyleType);

exports.LinkStyle = LinkStyle;

LinkStyle.attributes = {
  href: new _schema.Attribute(),
  title: new _schema.Attribute({ "default": "" })
};

var CodeStyle = (function (_StyleType4) {
  _inherits(CodeStyle, _StyleType4);

  function CodeStyle() {
    _classCallCheck(this, CodeStyle);

    _get(Object.getPrototypeOf(CodeStyle.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(CodeStyle, [{
    key: "isCode",
    get: function get() {
      return true;
    }
  }], [{
    key: "rank",
    get: function get() {
      return 101;
    }
  }]);

  return CodeStyle;
})(_schema.StyleType);

exports.CodeStyle = CodeStyle;

var defaultSpec = new _schema.SchemaSpec({
  doc: Doc,
  blockquote: BlockQuote,
  ordered_list: OrderedList,
  bullet_list: BulletList,
  list_item: ListItem,
  horizontal_rule: HorizontalRule,

  paragraph: Paragraph,
  heading: Heading,
  code_block: CodeBlock,

  text: _schema.Text,
  image: Image,
  hard_break: HardBreak
}, {
  em: EmStyle,
  strong: StrongStyle,
  link: LinkStyle,
  code: CodeStyle
});

var defaultSchema = new _schema.Schema(defaultSpec);
exports.defaultSchema = defaultSchema;

},{"./schema":28}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.findDiffStart = findDiffStart;
exports.findDiffEnd = findDiffEnd;

var _pos = require("./pos");

var _style = require("./style");

function findDiffStart(a, b) {
  var pathA = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
  var pathB = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];

  var offset = 0;
  for (var i = 0;; i++) {
    if (i == a.length || i == b.length) {
      if (a.length == b.length) return null;
      break;
    }
    var childA = a.child(i),
        childB = b.child(i);
    if (childA == childB) {
      offset += a.isTextblock ? childA.offset : 1;
      continue;
    }

    if (!childA.sameMarkup(childB)) break;

    if (a.isTextblock) {
      if (!(0, _style.sameStyles)(childA.styles, childB.styles)) break;
      if (childA.isText && childA.text != childB.text) {
        for (var j = 0; childA.text[j] == childB.text[j]; j++) {
          offset++;
        }break;
      }
      offset += childA.offset;
    } else {
      var inner = findDiffStart(childA, childB, pathA.concat(i), pathB.concat(i));
      if (inner) return inner;
      offset++;
    }
  }
  return { a: new _pos.Pos(pathA, offset), b: new _pos.Pos(pathB, offset) };
}

function findDiffEnd(a, b) {
  var pathA = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
  var pathB = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];

  var iA = a.length,
      iB = b.length;
  var offset = 0;

  for (;; iA--, iB--) {
    if (iA == 0 || iB == 0) {
      if (iA == iB) return null;
      break;
    }
    var childA = a.child(iA - 1),
        childB = b.child(iB - 1);
    if (childA == childB) {
      offset += a.isTextblock ? childA.offset : 1;
      continue;
    }

    if (!childA.sameMarkup(childB)) break;

    if (a.isTextblock) {
      if (!(0, _style.sameStyles)(childA.styles, childB.styles)) break;

      if (childA.isText && childA.text != childB.text) {
        var same = 0,
            minSize = Math.min(childA.text.length, childB.text.length);
        while (same < minSize && childA.text[childA.text.length - same - 1] == childB.text[childB.text.length - same - 1]) {
          same++;
          offset++;
        }
        break;
      }
      offset += childA.offset;
    } else {
      var inner = findDiffEnd(childA, childB, pathA.concat(iA - 1), pathB.concat(iB - 1));
      if (inner) return inner;
      offset++;
    }
  }
  return { a: new _pos.Pos(pathA, a.maxOffset - offset),
    b: new _pos.Pos(pathB, b.maxOffset - offset) };
}

},{"./pos":27,"./style":30}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
        value: true
});

var _node = require("./node");

Object.defineProperty(exports, "compareMarkup", {
        enumerable: true,
        get: function get() {
                return _node.compareMarkup;
        }
});

var _style = require("./style");

Object.defineProperty(exports, "removeStyle", {
        enumerable: true,
        get: function get() {
                return _style.removeStyle;
        }
});
Object.defineProperty(exports, "sameStyles", {
        enumerable: true,
        get: function get() {
                return _style.sameStyles;
        }
});
Object.defineProperty(exports, "containsStyle", {
        enumerable: true,
        get: function get() {
                return _style.containsStyle;
        }
});
Object.defineProperty(exports, "spanStylesAt", {
        enumerable: true,
        get: function get() {
                return _style.spanStylesAt;
        }
});
Object.defineProperty(exports, "rangeHasStyle", {
        enumerable: true,
        get: function get() {
                return _style.rangeHasStyle;
        }
});

var _schema = require("./schema");

Object.defineProperty(exports, "SchemaSpec", {
        enumerable: true,
        get: function get() {
                return _schema.SchemaSpec;
        }
});
Object.defineProperty(exports, "Schema", {
        enumerable: true,
        get: function get() {
                return _schema.Schema;
        }
});
Object.defineProperty(exports, "SchemaError", {
        enumerable: true,
        get: function get() {
                return _schema.SchemaError;
        }
});
Object.defineProperty(exports, "NodeType", {
        enumerable: true,
        get: function get() {
                return _schema.NodeType;
        }
});
Object.defineProperty(exports, "Block", {
        enumerable: true,
        get: function get() {
                return _schema.Block;
        }
});
Object.defineProperty(exports, "Textblock", {
        enumerable: true,
        get: function get() {
                return _schema.Textblock;
        }
});
Object.defineProperty(exports, "Inline", {
        enumerable: true,
        get: function get() {
                return _schema.Inline;
        }
});
Object.defineProperty(exports, "Text", {
        enumerable: true,
        get: function get() {
                return _schema.Text;
        }
});
Object.defineProperty(exports, "StyleType", {
        enumerable: true,
        get: function get() {
                return _schema.StyleType;
        }
});
Object.defineProperty(exports, "Attribute", {
        enumerable: true,
        get: function get() {
                return _schema.Attribute;
        }
});

var _defaultschema = require("./defaultschema");

Object.defineProperty(exports, "defaultSchema", {
        enumerable: true,
        get: function get() {
                return _defaultschema.defaultSchema;
        }
});
Object.defineProperty(exports, "Doc", {
        enumerable: true,
        get: function get() {
                return _defaultschema.Doc;
        }
});
Object.defineProperty(exports, "BlockQuote", {
        enumerable: true,
        get: function get() {
                return _defaultschema.BlockQuote;
        }
});
Object.defineProperty(exports, "OrderedList", {
        enumerable: true,
        get: function get() {
                return _defaultschema.OrderedList;
        }
});
Object.defineProperty(exports, "BulletList", {
        enumerable: true,
        get: function get() {
                return _defaultschema.BulletList;
        }
});
Object.defineProperty(exports, "ListItem", {
        enumerable: true,
        get: function get() {
                return _defaultschema.ListItem;
        }
});
Object.defineProperty(exports, "HorizontalRule", {
        enumerable: true,
        get: function get() {
                return _defaultschema.HorizontalRule;
        }
});
Object.defineProperty(exports, "Paragraph", {
        enumerable: true,
        get: function get() {
                return _defaultschema.Paragraph;
        }
});
Object.defineProperty(exports, "Heading", {
        enumerable: true,
        get: function get() {
                return _defaultschema.Heading;
        }
});
Object.defineProperty(exports, "CodeBlock", {
        enumerable: true,
        get: function get() {
                return _defaultschema.CodeBlock;
        }
});
Object.defineProperty(exports, "Image", {
        enumerable: true,
        get: function get() {
                return _defaultschema.Image;
        }
});
Object.defineProperty(exports, "HardBreak", {
        enumerable: true,
        get: function get() {
                return _defaultschema.HardBreak;
        }
});
Object.defineProperty(exports, "CodeStyle", {
        enumerable: true,
        get: function get() {
                return _defaultschema.CodeStyle;
        }
});
Object.defineProperty(exports, "EmStyle", {
        enumerable: true,
        get: function get() {
                return _defaultschema.EmStyle;
        }
});
Object.defineProperty(exports, "StrongStyle", {
        enumerable: true,
        get: function get() {
                return _defaultschema.StrongStyle;
        }
});
Object.defineProperty(exports, "LinkStyle", {
        enumerable: true,
        get: function get() {
                return _defaultschema.LinkStyle;
        }
});

var _pos = require("./pos");

Object.defineProperty(exports, "Pos", {
        enumerable: true,
        get: function get() {
                return _pos.Pos;
        }
});

var _slice = require("./slice");

Object.defineProperty(exports, "sliceBefore", {
        enumerable: true,
        get: function get() {
                return _slice.sliceBefore;
        }
});
Object.defineProperty(exports, "sliceAfter", {
        enumerable: true,
        get: function get() {
                return _slice.sliceAfter;
        }
});
Object.defineProperty(exports, "sliceBetween", {
        enumerable: true,
        get: function get() {
                return _slice.sliceBetween;
        }
});
Object.defineProperty(exports, "childrenBefore", {
        enumerable: true,
        get: function get() {
                return _slice.childrenBefore;
        }
});
Object.defineProperty(exports, "childrenAfter", {
        enumerable: true,
        get: function get() {
                return _slice.childrenAfter;
        }
});
Object.defineProperty(exports, "childrenBetween", {
        enumerable: true,
        get: function get() {
                return _slice.childrenBetween;
        }
});
Object.defineProperty(exports, "siblingRange", {
        enumerable: true,
        get: function get() {
                return _slice.siblingRange;
        }
});

var _diff = require("./diff");

Object.defineProperty(exports, "findDiffStart", {
        enumerable: true,
        get: function get() {
                return _diff.findDiffStart;
        }
});
Object.defineProperty(exports, "findDiffEnd", {
        enumerable: true,
        get: function get() {
                return _diff.findDiffEnd;
        }
});

},{"./defaultschema":23,"./diff":24,"./node":26,"./pos":27,"./schema":28,"./slice":29,"./style":30}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _get = function get(_x10, _x11, _x12) {
  var _again = true;_function: while (_again) {
    var object = _x10,
        property = _x11,
        receiver = _x12;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x10 = parent;_x11 = property;_x12 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.compareMarkup = compareMarkup;

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _style = require("./style");

var emptyArray = [];

/**
 * Document node class
 */

var Node = (function () {
  function Node(type, attrs) {
    _classCallCheck(this, Node);

    this.type = type;
    this.attrs = attrs;
  }

  _createClass(Node, [{
    key: "sameMarkup",
    value: function sameMarkup(other) {
      return compareMarkup(this.type, other.type, this.attrs, other.attrs);
    }
  }, {
    key: "child",
    value: function child(_) {
      throw new Error("Trying to index non-block node " + this);
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      var obj = { type: this.type.name };
      for (var _ in this.attrs) {
        obj.attrs = this.attrs;
        return obj;
      }
      return obj;
    }
  }, {
    key: "length",
    get: function get() {
      return 0;
    }
  }, {
    key: "isBlock",
    get: function get() {
      return false;
    }
  }, {
    key: "isTextblock",
    get: function get() {
      return false;
    }
  }, {
    key: "isInline",
    get: function get() {
      return false;
    }
  }, {
    key: "isText",
    get: function get() {
      return false;
    }
  }]);

  return Node;
})();

exports.Node = Node;

var BlockNode = (function (_Node) {
  _inherits(BlockNode, _Node);

  function BlockNode(type, attrs, content, styles) {
    _classCallCheck(this, BlockNode);

    if (styles) throw new Error("Constructing a block node with styles");
    _get(Object.getPrototypeOf(BlockNode.prototype), "constructor", this).call(this, type, attrs);
    this.content = content || emptyArray;
  }

  _createClass(BlockNode, [{
    key: "toString",
    value: function toString() {
      return this.type.name + "(" + this.content.join(", ") + ")";
    }
  }, {
    key: "copy",
    value: function copy() {
      var content = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];

      return new this.constructor(this.type, this.attrs, content);
    }
  }, {
    key: "slice",
    value: function slice(from) {
      var to = arguments.length <= 1 || arguments[1] === undefined ? this.length : arguments[1];

      return this.content.slice(from, to);
    }

    // FIXME maybe slice and splice returning different things is going to confuse
  }, {
    key: "splice",
    value: function splice(from, to, replace) {
      return new this.constructor(this.type, this.attrs, this.content.slice(0, from).concat(replace).concat(this.content.slice(to)));
    }
  }, {
    key: "replace",
    value: function replace(pos, node) {
      var content = this.content.slice();
      content[pos] = node;
      return this.copy(content);
    }
  }, {
    key: "replaceDeep",
    value: function replaceDeep(path, node) {
      var depth = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

      if (depth == path.length) return node;
      var pos = path[depth];
      return this.replace(pos, this.child(pos).replaceDeep(path, node, depth + 1));
    }
  }, {
    key: "append",
    value: function append(nodes) {
      var joinLeft = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];
      var joinRight = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

      if (!nodes.length) return this;
      if (!this.length) return this.copy(nodes);

      var last = this.length - 1,
          content = this.content.slice(0, last);
      var before = this.content[last],
          after = nodes[0];
      if (joinLeft > 0 && joinRight > 0 && before.sameMarkup(after)) content.push(before.append(after.content, joinLeft - 1, joinRight - 1));else content.push(before.close(joinLeft - 1, "end"), after.close(joinRight - 1, "start"));
      for (var i = 1; i < nodes.length; i++) {
        content.push(nodes[i]);
      }return this.copy(content);
    }
  }, {
    key: "close",
    value: function close(depth, side) {
      if (depth == 0 && this.length == 0 && !this.type.canBeEmpty) return this.copy(this.type.defaultContent());
      if (depth < 0) return this;
      var off = side == "start" ? 0 : this.maxOffset - 1,
          child = this.child(off);
      var closed = child.close(depth - 1, side);
      if (closed == child) return this;
      return this.replace(off, closed);
    }
  }, {
    key: "child",

    /**
     * Get the child node at a given index.
     */
    value: function child(i) {
      if (i < 0 || i >= this.length) throw new Error("Index " + i + " out of range in " + this);
      return this.content[i];
    }
  }, {
    key: "path",

    /**
     * Get a child node given a path.
     *
     * @param  {array} path
     * @return {Node}
     */
    value: function path(_path) {
      for (var i = 0, node = this; i < _path.length; node = node.content[_path[i]], i++) {}
      return node;
    }
  }, {
    key: "isValidPos",
    value: function isValidPos(pos, requireInBlock) {
      for (var i = 0, node = this;; i++) {
        if (i == pos.path.length) {
          if (requireInBlock && !node.isTextblock) return false;
          return pos.offset <= node.maxOffset;
        } else {
          var n = pos.path[i];
          if (n >= node.length || node.isTextblock) return false;
          node = node.child(n);
        }
      }
    }
  }, {
    key: "pathNodes",
    value: function pathNodes(path) {
      var nodes = [];
      for (var i = 0, node = this;; i++) {
        nodes.push(node);
        if (i == path.length) break;
        node = node.child(path[i]);
      }
      return nodes;
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      var obj = _get(Object.getPrototypeOf(BlockNode.prototype), "toJSON", this).call(this);
      obj.content = this.content.map(function (n) {
        return n.toJSON();
      });
      return obj;
    }
  }, {
    key: "nodesBetween",
    value: function nodesBetween(from, to, f) {
      var path = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];
      var parent = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

      if (f(this, path, from, to, parent) === false) return;

      var start = undefined,
          endPartial = to && to.depth > path.length;
      var end = endPartial ? to.path[path.length] : to ? to.offset : this.length;
      if (!from) {
        start = 0;
      } else if (from.depth == path.length) {
        start = from.offset;
      } else {
        start = from.path[path.length] + 1;
        var passTo = null;
        if (endPartial && end == start - 1) {
          passTo = to;
          endPartial = false;
        }
        this.enterNode(start - 1, from, passTo, path, f);
      }
      for (var i = start; i < end; i++) {
        this.enterNode(i, null, null, path, f);
      }if (endPartial) this.enterNode(end, null, to, path, f);
    }
  }, {
    key: "enterNode",
    value: function enterNode(index, from, to, path, f) {
      path.push(index);
      this.child(index).nodesBetween(from, to, f, path, this);
      path.pop();
    }
  }, {
    key: "inlineNodesBetween",
    value: function inlineNodesBetween(from, to, f) {
      this.nodesBetween(from, to, function (node, path, from, to, parent, offset) {
        if (node.isInline) f(node, from ? from.offset : offset, to ? to.offset : offset + node.offset, path, parent);
      });
    }
  }, {
    key: "maxOffset",
    get: function get() {
      return this.length;
    }
  }, {
    key: "textContent",
    get: function get() {
      var text = "";
      for (var i = 0; i < this.length; i++) {
        text += this.child(i).textContent;
      }return text;
    }
  }, {
    key: "firstChild",
    get: function get() {
      return this.content[0] || null;
    }
  }, {
    key: "lastChild",
    get: function get() {
      return this.content[this.length - 1] || null;
    }
  }, {
    key: "length",
    get: function get() {
      return this.content.length;
    }
  }, {
    key: "children",
    get: function get() {
      return this.content;
    }
  }, {
    key: "isBlock",
    get: function get() {
      return true;
    }
  }]);

  return BlockNode;
})(Node);

exports.BlockNode = BlockNode;

var TextblockNode = (function (_BlockNode) {
  _inherits(TextblockNode, _BlockNode);

  function TextblockNode(type, attrs, content) {
    _classCallCheck(this, TextblockNode);

    _get(Object.getPrototypeOf(TextblockNode.prototype), "constructor", this).call(this, type, attrs, content);
    var maxOffset = 0;
    for (var i = 0; i < this.content.length; i++) {
      maxOffset += this.content[i].offset;
    }this._maxOffset = maxOffset;
  }

  _createClass(TextblockNode, [{
    key: "slice",
    value: function slice(from) {
      var to = arguments.length <= 1 || arguments[1] === undefined ? this.maxOffset : arguments[1];

      var result = [];
      if (from == to) return result;
      for (var i = 0, offset = 0;; i++) {
        var child = this.child(i),
            size = child.offset,
            end = offset + size;
        if (offset + size > from) result.push(offset >= from && end <= to ? child : child.slice(Math.max(0, from - offset), Math.min(size, to - offset)));
        if (end >= to) return result;
        offset = end;
      }
    }
  }, {
    key: "append",
    value: function append(nodes) {
      if (!nodes.length) return this;
      if (!this.length) return this.copy(nodes);

      var content = this.content.concat(nodes),
          last = this.length - 1,
          merged = undefined;
      if (merged = content[last].maybeMerge(content[last + 1])) content.splice(last, 2, merged);
      return this.copy(content);
    }
  }, {
    key: "close",
    value: function close() {
      return this;
    }
  }, {
    key: "nodesBetween",
    value: function nodesBetween(from, to, f, path, parent) {
      if (f(this, path, from, to, parent) === false) return;
      var start = from ? from.offset : 0,
          end = to ? to.offset : this.maxOffset;
      if (start == end) return;
      for (var offset = 0, i = 0; i < this.length; i++) {
        var child = this.child(i),
            endOffset = offset + child.offset;
        if (endOffset >= start) f(child, path, offset < start ? from : null, endOffset > end ? to : null, this, offset);
        if (endOffset >= end) break;
        offset = endOffset;
      }
    }
  }, {
    key: "childBefore",
    value: function childBefore(offset) {
      if (offset == 0) return { node: null, index: 0, innerOffset: 0 };
      for (var i = 0; i < this.length; i++) {
        var child = this.child(i);
        offset -= child.offset;
        if (offset <= 0) return { node: child, index: i, innerOffset: offset + child.offset };
      }
    }
  }, {
    key: "childAfter",
    value: function childAfter(offset) {
      for (var i = 0; i < this.length; i++) {
        var child = this.child(i),
            size = child.offset;
        if (offset < size) return { node: child, index: i, innerOffset: offset };
        offset -= size;
      }
      return { node: null, index: 0, innerOffset: 0 };
    }
  }, {
    key: "isTextblock",
    get: function get() {
      return true;
    }
  }, {
    key: "maxOffset",
    get: function get() {
      return this._maxOffset;
    }
  }]);

  return TextblockNode;
})(BlockNode);

exports.TextblockNode = TextblockNode;

var InlineNode = (function (_Node2) {
  _inherits(InlineNode, _Node2);

  function InlineNode(type, attrs, content, styles) {
    _classCallCheck(this, InlineNode);

    if (content) throw new Error("Can't create a span node with content");
    _get(Object.getPrototypeOf(InlineNode.prototype), "constructor", this).call(this, type, attrs);
    this.styles = styles || emptyArray;
  }

  _createClass(InlineNode, [{
    key: "styled",
    value: function styled(styles) {
      return new this.constructor(this.type, this.attrs, this.text, styles);
    }
  }, {
    key: "maybeMerge",
    value: function maybeMerge(_) {
      return null;
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      var obj = _get(Object.getPrototypeOf(InlineNode.prototype), "toJSON", this).call(this);
      if (this.styles.length) obj.styles = this.styles.map(function (s) {
        return s.toJSON();
      });
      return obj;
    }
  }, {
    key: "toString",
    value: function toString() {
      return this.type.name;
    }
  }, {
    key: "offset",
    get: function get() {
      return 1;
    }
  }, {
    key: "textContent",
    get: function get() {
      return "";
    }
  }, {
    key: "isInline",
    get: function get() {
      return true;
    }
  }]);

  return InlineNode;
})(Node);

exports.InlineNode = InlineNode;

var TextNode = (function (_InlineNode) {
  _inherits(TextNode, _InlineNode);

  function TextNode(type, attrs, content, styles) {
    _classCallCheck(this, TextNode);

    if (typeof content != "string" || !content) throw new Error("Text node content must be a non-empty string");
    _get(Object.getPrototypeOf(TextNode.prototype), "constructor", this).call(this, type, attrs, null, styles);
    this.text = content;
  }

  _createClass(TextNode, [{
    key: "maybeMerge",
    value: function maybeMerge(other) {
      if (other.type == this.type && (0, _style.sameStyles)(this.styles, other.styles)) return new TextNode(this.type, this.attrs, this.text + other.text, this.styles);
    }
  }, {
    key: "slice",
    value: function slice(from) {
      var to = arguments.length <= 1 || arguments[1] === undefined ? this.offset : arguments[1];

      return new TextNode(this.type, this.attrs, this.text.slice(from, to), this.styles);
    }
  }, {
    key: "toString",
    value: function toString() {
      var text = JSON.stringify(this.text);
      for (var i = 0; i < this.styles.length; i++) {
        text = this.styles[i].type.name + "(" + text + ")";
      }return text;
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      var obj = _get(Object.getPrototypeOf(TextNode.prototype), "toJSON", this).call(this);
      obj.text = this.text;
      return obj;
    }
  }, {
    key: "offset",
    get: function get() {
      return this.text.length;
    }
  }, {
    key: "textContent",
    get: function get() {
      return this.text;
    }
  }, {
    key: "isText",
    get: function get() {
      return true;
    }
  }]);

  return TextNode;
})(InlineNode);

exports.TextNode = TextNode;

function compareMarkup(typeA, typeB, attrsA, attrsB) {
  if (typeA != typeB) return false;
  for (var prop in attrsA) if (attrsB[prop] !== attrsA[prop]) return false;
  return true;
}

},{"./style":30}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Pos = (function () {
  function Pos(path, offset) {
    _classCallCheck(this, Pos);

    this.path = path;
    this.offset = offset;
  }

  _createClass(Pos, [{
    key: "toString",
    value: function toString() {
      return this.path.join("/") + ":" + this.offset;
    }
  }, {
    key: "cmp",
    value: function cmp(other) {
      if (other == this) return 0;
      return Pos.cmp(this.path, this.offset, other.path, other.offset);
    }
  }, {
    key: "shorten",
    value: function shorten() {
      var to = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];
      var offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];

      if (to >= this.depth) return this;
      return Pos.shorten(this.path, to, offset);
    }
  }, {
    key: "move",
    value: function move(by) {
      return new Pos(this.path, this.offset + by);
    }
  }, {
    key: "toPath",
    value: function toPath() {
      var offset = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];

      return this.path.concat(this.offset + offset);
    }
  }, {
    key: "extend",
    value: function extend(pos) {
      var path = this.path.slice(),
          add = this.offset;
      for (var i = 0; i < pos.path.length; i++) {
        path.push(pos.path[i] + add);
        add = 0;
      }
      return new Pos(path, pos.offset + add);
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      return this;
    }
  }, {
    key: "depth",
    get: function get() {
      return this.path.length;
    }
  }], [{
    key: "cmp",
    value: function cmp(pathA, offsetA, pathB, offsetB) {
      var lenA = pathA.length,
          lenB = pathB.length;
      for (var i = 0, end = Math.min(lenA, lenB); i < end; i++) {
        var diff = pathA[i] - pathB[i];
        if (diff != 0) return diff;
      }
      if (lenA > lenB) return offsetB <= pathA[i] ? 1 : -1;else if (lenB > lenA) return offsetA <= pathB[i] ? -1 : 1;else return offsetA - offsetB;
    }
  }, {
    key: "samePath",
    value: function samePath(pathA, pathB) {
      if (pathA.length != pathB.length) return false;
      for (var i = 0; i < pathA.length; i++) {
        if (pathA[i] !== pathB[i]) return false;
      }return true;
    }
  }, {
    key: "shorten",
    value: function shorten(path) {
      var to = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];
      var offset = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

      if (to == null) to = path.length - 1;
      return new Pos(path.slice(0, to), path[to] + offset);
    }
  }, {
    key: "from",
    value: function from(array) {
      var extraOffset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];

      if (!array.length) throw new Error("Can't create a pos from an empty array");
      return new Pos(array.slice(0, array.length - 1), array[array.length - 1] + extraOffset);
    }
  }, {
    key: "fromJSON",
    value: function fromJSON(json) {
      return new Pos(json.path, json.offset);
    }
  }]);

  return Pos;
})();

exports.Pos = Pos;

},{}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = (function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
})();

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

var _get = function get(_x2, _x3, _x4) {
  var _again = true;_function: while (_again) {
    var object = _x2,
        property = _x3,
        receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var _node = require("./node");

var _style = require("./style");

var _utilError = require("../util/error");

var SchemaError = (function (_ProseMirrorError) {
  _inherits(SchemaError, _ProseMirrorError);

  function SchemaError() {
    _classCallCheck(this, SchemaError);

    _get(Object.getPrototypeOf(SchemaError.prototype), "constructor", this).apply(this, arguments);
  }

  return SchemaError;
})(_utilError.ProseMirrorError);

exports.SchemaError = SchemaError;

function findKinds(type, name, schema, override) {
  function set(sub, sup) {
    if (sub in schema.kinds) {
      if (schema.kinds[sub] == sup) return;
      SchemaError.raise("Inconsistent superkinds for kind " + sub + ": " + sup + " and " + schema.kinds[sub]);
    }
    if (schema.subKind(sub, sup)) SchemaError.raise("Conflicting kind hierarchy through " + sub + " and " + sup);
    schema.kinds[sub] = sup;
  }

  for (var cur = type;; cur = Object.getPrototypeOf(cur)) {
    var curKind = override != null && cur == type ? override : cur.kind;
    if (curKind != null) {
      var _$$exec = /^(.*?)(\.)?$/.exec(curKind);

      var _$$exec2 = _slicedToArray(_$$exec, 3);

      var _ = _$$exec2[0];
      var kind = _$$exec2[1];
      var end = _$$exec2[2];

      if (kind) {
        set(name, kind);
        name = kind;
      }
      if (end) {
        set(name, null);
        return;
      }
    }
  }
}

var NodeType = (function () {
  function NodeType(name, contains, attrs, schema) {
    _classCallCheck(this, NodeType);

    this.name = name;
    this.contains = contains;
    this.attrs = attrs;
    this.schema = schema;
    this.defaultAttrs = null;
  }

  _createClass(NodeType, [{
    key: "canContain",
    value: function canContain(node) {
      return this.canContainType(node.type);
    }
  }, {
    key: "canContainType",
    value: function canContainType(type) {
      return this.schema.subKind(type.name, this.contains);
    }
  }, {
    key: "canContainChildren",
    value: function canContainChildren(node, liberal) {
      if (!liberal && !this.schema.subKind(node.type.contains, this.contains)) return false;
      for (var i = 0; i < node.length; i++) {
        if (!this.canContain(node.child(i))) return false;
      }return true;
    }
  }, {
    key: "findConnection",
    value: function findConnection(other) {
      if (this.canContainType(other)) return [];

      var seen = Object.create(null);
      var active = [{ from: this, via: [] }];
      while (active.length) {
        var current = active.shift();
        for (var _name in this.schema.nodes) {
          var type = this.schema.nodeType(_name);
          if (!(type.contains in seen) && current.from.canContainType(type)) {
            var via = current.via.concat(type);
            if (type.canContainType(other)) return via;
            active.push({ from: type, via: via });
            seen[type.contains] = true;
          }
        }
      }
    }
  }, {
    key: "buildAttrs",
    value: function buildAttrs(attrs, content) {
      if (!attrs && this.defaultAttrs) return this.defaultAttrs;else return _buildAttrs(this.attrs, attrs, this, content);
    }
  }, {
    key: "create",
    value: function create(attrs, content, styles) {
      return new this.instance(this, this.buildAttrs(attrs, content), content, styles);
    }
  }, {
    key: "createAutoFill",
    value: function createAutoFill(attrs, content, styles) {
      if ((!content || content.length == 0) && !this.canBeEmpty) content = this.defaultContent();
      return this.create(attrs, content, styles);
    }
  }, {
    key: "locked",
    get: function get() {
      return false;
    }
  }, {
    key: "isTextblock",
    get: function get() {
      return false;
    }
  }, {
    key: "selectable",
    get: function get() {
      return true;
    }
  }, {
    key: "canBeEmpty",
    get: function get() {
      return true;
    }
  }], [{
    key: "compile",
    value: function compile(types, schema) {
      var result = Object.create(null);
      for (var _name2 in types) {
        var info = types[_name2];
        var type = info.type || SchemaError.raise("Missing node type for " + _name2);
        findKinds(type, _name2, schema, info.kind);
        var contains = "contains" in info ? info.contains : type.contains;
        result[_name2] = new type(_name2, contains, info.attributes || type.attributes, schema);
      }
      for (var _name3 in result) {
        var contains = result[_name3].contains;
        if (contains && !(contains in schema.kinds)) SchemaError.raise("Node type " + _name3 + " is specified to contain non-existing kind " + contains);
      }
      if (!result.doc) SchemaError.raise("Every schema needs a 'doc' type");
      if (!result.text) SchemaError.raise("Every schema needs a 'text' type");

      for (var _name4 in types) {
        types[_name4].defaultAttrs = getDefaultAttrs(types[_name4].attrs);
      }return result;
    }
  }, {
    key: "register",
    value: function register(prop, value) {
      ;(this.prototype[prop] || (this.prototype[prop] = [])).push(value);
    }
  }, {
    key: "kind",
    get: function get() {
      return ".";
    }
  }]);

  return NodeType;
})();

exports.NodeType = NodeType;

NodeType.attributes = {};

var Block = (function (_NodeType) {
  _inherits(Block, _NodeType);

  function Block() {
    _classCallCheck(this, Block);

    _get(Object.getPrototypeOf(Block.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(Block, [{
    key: "defaultContent",
    value: function defaultContent() {
      var inner = this.schema.defaultTextblockType().create();
      var conn = this.findConnection(inner.type);
      if (!conn) SchemaError.raise("Can't create default content for " + this.name);
      for (var i = conn.length - 1; i >= 0; i--) {
        inner = conn[i].create(null, [inner]);
      }return [inner];
    }
  }, {
    key: "instance",
    get: function get() {
      return _node.BlockNode;
    }
  }, {
    key: "isBlock",
    get: function get() {
      return true;
    }
  }, {
    key: "canBeEmpty",
    get: function get() {
      return this.contains == null;
    }
  }], [{
    key: "contains",
    get: function get() {
      return "block";
    }
  }, {
    key: "kind",
    get: function get() {
      return "block.";
    }
  }]);

  return Block;
})(NodeType);

exports.Block = Block;

var Textblock = (function (_Block) {
  _inherits(Textblock, _Block);

  function Textblock() {
    _classCallCheck(this, Textblock);

    _get(Object.getPrototypeOf(Textblock.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(Textblock, [{
    key: "canContain",
    value: function canContain(node) {
      var _this = this;

      return _get(Object.getPrototypeOf(Textblock.prototype), "canContain", this).call(this, node) && node.styles.every(function (s) {
        return _this.canContainStyle(s);
      });
    }
  }, {
    key: "canContainStyle",
    value: function canContainStyle(type) {
      var contains = this.containsStyles;
      if (contains === true) return true;
      if (contains) for (var i = 0; i < contains.length; i++) {
        if (contains[i] == type.name) return true;
      }return false;
    }
  }, {
    key: "instance",
    get: function get() {
      return _node.TextblockNode;
    }
  }, {
    key: "containsStyles",
    get: function get() {
      return true;
    }
  }, {
    key: "isTextblock",
    get: function get() {
      return true;
    }
  }, {
    key: "canBeEmpty",
    get: function get() {
      return true;
    }
  }], [{
    key: "contains",
    get: function get() {
      return "inline";
    }
  }]);

  return Textblock;
})(Block);

exports.Textblock = Textblock;

var Inline = (function (_NodeType2) {
  _inherits(Inline, _NodeType2);

  function Inline() {
    _classCallCheck(this, Inline);

    _get(Object.getPrototypeOf(Inline.prototype), "constructor", this).apply(this, arguments);
  }

  _createClass(Inline, [{
    key: "instance",
    get: function get() {
      return _node.InlineNode;
    }
  }], [{
    key: "contains",
    get: function get() {
      return null;
    }
  }, {
    key: "kind",
    get: function get() {
      return "inline.";
    }
  }]);

  return Inline;
})(NodeType);

exports.Inline = Inline;

var Text = (function (_Inline) {
  _inherits(Text, _Inline);

  function Text() {
    _classCallCheck(this, Text);

    _get(Object.getPrototypeOf(Text.prototype), "constructor", this).apply(this, arguments);
  }

  // Attribute descriptors

  _createClass(Text, [{
    key: "instance",
    get: function get() {
      return _node.TextNode;
    }
  }, {
    key: "selectable",
    get: function get() {
      return false;
    }
  }]);

  return Text;
})(Inline);

exports.Text = Text;

var Attribute = function Attribute() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  _classCallCheck(this, Attribute);

  this["default"] = options["default"];
  this.compute = options.compute;
}

// Styles

;

exports.Attribute = Attribute;

var StyleType = (function () {
  function StyleType(name, attrs, rank, schema) {
    _classCallCheck(this, StyleType);

    this.name = name;
    this.attrs = attrs;
    this.rank = rank;
    this.schema = schema;
    var defaults = getDefaultAttrs(this.attrs);
    this.instance = defaults && new _style.StyleMarker(this, defaults);
  }

  _createClass(StyleType, [{
    key: "create",
    value: function create(attrs) {
      if (!attrs && this.instance) return this.instance;
      return new _style.StyleMarker(this, _buildAttrs(this.attrs, attrs, this));
    }
  }], [{
    key: "getOrder",
    value: function getOrder(styles) {
      var sorted = [];
      for (var _name5 in styles) {
        sorted.push({ name: _name5, rank: styles[_name5].type.rank });
      }sorted.sort(function (a, b) {
        return a.rank - b.rank;
      });
      var ranks = Object.create(null);
      for (var i = 0; i < sorted.length; i++) {
        ranks[sorted[i].name] = i;
      }return ranks;
    }
  }, {
    key: "compile",
    value: function compile(styles, schema) {
      var order = this.getOrder(styles);
      var result = Object.create(null);
      for (var _name6 in styles) {
        var info = styles[_name6];
        var attrs = info.attributes || info.type.attributes;
        result[_name6] = new info.type(_name6, attrs, order[_name6], schema);
      }
      return result;
    }
  }, {
    key: "register",
    value: function register(prop, value) {
      ;(this.prototype[prop] || (this.prototype[prop] = [])).push(value);
    }
  }, {
    key: "rank",
    get: function get() {
      return 50;
    }
  }]);

  return StyleType;
})();

exports.StyleType = StyleType;

StyleType.attributes = {};

// Schema specifications are data structures that specify a schema --
// a set of node types, their names, attributes, and nesting behavior.

function copyObj(obj, f) {
  var result = Object.create(null);
  for (var prop in obj) {
    result[prop] = f ? f(obj[prop]) : obj[prop];
  }return result;
}

function ensureWrapped(obj) {
  return obj instanceof Function ? { type: obj } : obj;
}

function overlayObj(obj, overlay) {
  var copy = copyObj(obj);
  for (var _name7 in overlay) {
    var info = ensureWrapped(overlay[_name7]);
    if (info == null) {
      delete copy[_name7];
    } else if (info.type) {
      copy[_name7] = info;
    } else {
      var existing = copy[_name7] = copyObj(copy[_name7]);
      for (var prop in info) {
        existing[prop] = info[prop];
      }
    }
  }
  return copy;
}

var SchemaSpec = (function () {
  function SchemaSpec(nodes, styles) {
    _classCallCheck(this, SchemaSpec);

    this.nodes = nodes ? copyObj(nodes, ensureWrapped) : Object.create(null);
    this.styles = styles ? copyObj(styles, ensureWrapped) : Object.create(null);
  }

  // For node types where all attrs have a default value (or which don't
  // have any attributes), build up a single reusable default attribute
  // object, and use it for all nodes that don't specify specific
  // attributes.

  _createClass(SchemaSpec, [{
    key: "updateNodes",
    value: function updateNodes(nodes) {
      return new SchemaSpec(overlayObj(this.nodes, nodes), this.styles);
    }
  }, {
    key: "addAttribute",
    value: function addAttribute(filter, attrName, attrInfo) {
      var copy = copyObj(this.nodes);
      for (var _name8 in copy) {
        if (typeof filter == "string" ? filter == _name8 : typeof filter == "function" ? filter(_name8, copy[_name8]) : filter ? filter == copy[_name8] : true) {
          var info = copy[_name8] = copyObj(copy[_name8]);
          if (!info.attributes) info.attributes = copyObj(info.type.attributes);
          info.attributes[attrName] = attrInfo;
        }
      }
      return new SchemaSpec(copy, this.styles);
    }
  }, {
    key: "updateStyles",
    value: function updateStyles(styles) {
      return new SchemaSpec(this.nodes, overlayObj(this.styles, styles));
    }
  }]);

  return SchemaSpec;
})();

exports.SchemaSpec = SchemaSpec;
function getDefaultAttrs(attrs) {
  var defaults = Object.create(null);
  for (var attrName in attrs) {
    var attr = attrs[attrName];
    if (attr["default"] == null) return null;
    defaults[attrName] = attr["default"];
  }
  return defaults;
}

function _buildAttrs(attrSpec, attrs, arg1, arg2) {
  var built = Object.create(null);
  for (var _name9 in attrSpec) {
    var value = attrs && attrs[_name9];
    if (value == null) {
      var attr = attrSpec[_name9];
      if (attr["default"] != null) value = attr["default"];else if (attr.compute) value = attr.compute(arg1, arg2);else SchemaError.raise("No value supplied for attribute " + _name9);
    }
    built[_name9] = value;
  }
  return built;
}

/**
 * Document schema class.
 */

var Schema = (function () {
  function Schema(spec, styles) {
    _classCallCheck(this, Schema);

    if (!(spec instanceof SchemaSpec)) spec = new SchemaSpec(spec, styles);
    this.spec = spec;
    this.kinds = Object.create(null);
    this.nodes = NodeType.compile(spec.nodes, this);
    this.styles = StyleType.compile(spec.styles, this);
    this.cached = Object.create(null);

    this.node = this.node.bind(this);
    this.text = this.text.bind(this);
    this.nodeFromJSON = this.nodeFromJSON.bind(this);
    this.styleFromJSON = this.styleFromJSON.bind(this);
  }

  _createClass(Schema, [{
    key: "node",
    value: function node(type, attrs, content, styles) {
      if (typeof type == "string") type = this.nodeType(type);else if (!(type instanceof NodeType)) SchemaError.raise("Invalid node type: " + type);else if (type.schema != this) SchemaError.raise("Node type from different schema used (" + type.name + ")");

      return type.create(attrs, content, styles);
    }
  }, {
    key: "text",
    value: function text(_text, styles) {
      return this.nodes.text.create(null, _text, styles);
    }
  }, {
    key: "defaultTextblockType",
    value: function defaultTextblockType() {
      var cached = this.cached.defaultTextblockType;
      if (cached !== undefined) return cached;
      for (var _name10 in this.nodes) {
        if (this.nodes[_name10].defaultTextblock) return this.cached.defaultTextblockType = this.nodes[_name10];
      }
      return this.cached.defaultTextblockType = null;
    }
  }, {
    key: "style",
    value: function style(name, attrs) {
      var spec = this.styles[name] || SchemaError.raise("No style named " + name);
      return spec.create(attrs);
    }
  }, {
    key: "nodeFromJSON",
    value: function nodeFromJSON(json) {
      var type = this.nodeType(json.type);
      return type.create(json.attrs, json.text || json.content && json.content.map(this.nodeFromJSON), json.styles && json.styles.map(this.styleFromJSON));
    }
  }, {
    key: "styleFromJSON",
    value: function styleFromJSON(json) {
      if (typeof json == "string") return this.style(json);
      return this.style(json._, json);
    }
  }, {
    key: "nodeType",
    value: function nodeType(name) {
      return this.nodes[name] || SchemaError.raise("Unknown node type: " + name);
    }
  }, {
    key: "subKind",
    value: function subKind(sub, sup) {
      for (;;) {
        if (sub == sup) return true;
        sub = this.kinds[sub];
        if (!sub) return false;
      }
    }
  }]);

  return Schema;
})();

exports.Schema = Schema;

},{"../util/error":48,"./node":26,"./style":30}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.childrenBefore = childrenBefore;
exports.sliceBefore = sliceBefore;
exports.childrenAfter = childrenAfter;
exports.sliceAfter = sliceAfter;
exports.childrenBetween = childrenBetween;
exports.sliceBetween = sliceBetween;
exports.siblingRange = siblingRange;

var _pos = require("./pos");

// FIXME move to node methods

function childrenBefore(node, pos) {
  var depth = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

  if (depth == pos.depth) return node.slice(0, pos.offset);

  var n = pos.path[depth];
  return node.slice(0, n).concat(sliceBefore(node.child(n), pos, depth + 1));
}

function sliceBefore(node, pos) {
  var depth = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

  return node.copy(childrenBefore(node, pos, depth));
}

function childrenAfter(node, pos) {
  var depth = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

  if (depth == pos.depth) return node.slice(pos.offset);
  var n = pos.path[depth];
  var content = node.slice(n + 1);
  content.unshift(sliceAfter(node.child(n), pos, depth + 1));
  return content;
}

function sliceAfter(node, pos) {
  var depth = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

  return node.copy(childrenAfter(node, pos, depth));
}

function childrenBetween(node, from, to) {
  var depth = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];

  var fromEnd = depth == from.depth,
      toEnd = depth == to.depth;
  if (fromEnd && toEnd) return node.slice(from.offset, to.offset);
  if (!fromEnd && !toEnd && from.path[depth] == to.path[depth]) return [sliceBetween(node.child(from.path[depth]), from, to, false, depth + 1)];

  var content = [],
      start = undefined;
  if (!fromEnd) {
    start = from.path[depth] + 1;
    content.push(sliceAfter(node.child(start - 1), from, depth + 1));
  } else {
    start = from.offset;
  }
  var end = toEnd ? to.offset : to.path[depth];
  var between = node.slice(start, end);
  for (var i = 0; i < between.length; i++) {
    content.push(between[i]);
  }if (!toEnd) content.push(sliceBefore(node.child(end), to, depth + 1));
  return content;
}

function sliceBetween(node, from, to) {
  var collapse = arguments.length <= 3 || arguments[3] === undefined ? true : arguments[3];
  var depth = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];

  if (depth < from.depth && depth < to.depth && from.path[depth] == to.path[depth]) {
    var inner = sliceBetween(node.child(from.path[depth]), from, to, collapse, depth + 1);
    if (!collapse) return node.copy([inner]);
    if (node.type.name != "doc") return inner;
    var conn = node.type.findConnection(inner.type);
    for (var i = conn.length - 1; i >= 0; i--) {
      inner = node.type.schema.node(conn[i], null, [inner]);
    }return node.copy([inner]);
  } else {
    return node.copy(childrenBetween(node, from, to, depth));
  }
}

function siblingRange(doc, from, to) {
  for (var i = 0, node = doc;; i++) {
    if (node.isTextblock) {
      var path = from.path.slice(0, i - 1),
          offset = from.path[i - 1];
      return { from: new _pos.Pos(path, offset), to: new _pos.Pos(path, offset + 1) };
    }
    var fromEnd = i == from.path.length,
        toEnd = i == to.path.length;
    var left = fromEnd ? from.offset : from.path[i];
    var right = toEnd ? to.offset : to.path[i];
    if (fromEnd || toEnd || left != right) {
      var path = from.path.slice(0, i);
      return { from: new _pos.Pos(path, left), to: new _pos.Pos(path, right + (toEnd ? 0 : 1)) };
    }
    node = node.child(left);
  }
}

},{"./pos":27}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.removeStyle = removeStyle;
exports.sameStyles = sameStyles;
exports.containsStyle = containsStyle;
exports.spanStylesAt = spanStylesAt;
exports.rangeHasStyle = rangeHasStyle;

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;
  } else {
    return Array.from(arr);
  }
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var StyleMarker = (function () {
  function StyleMarker(type, attrs) {
    _classCallCheck(this, StyleMarker);

    this.type = type;
    this.attrs = attrs;
  }

  _createClass(StyleMarker, [{
    key: "toJSON",
    value: function toJSON() {
      if (this.type.instance) return this.type.name;
      var obj = { _: this.type.name };
      for (var attr in this.attrs) {
        obj[attr] = this.attrs[attr];
      }return obj;
    }
  }, {
    key: "addToSet",
    value: function addToSet(set) {
      for (var i = 0; i < set.length; i++) {
        var other = set[i];
        if (other.type == this.type) {
          if (this.eq(other)) return set;else return [].concat(_toConsumableArray(set.slice(0, i)), [this], _toConsumableArray(set.slice(i + 1)));
        }
        if (other.type.rank > this.type.rank) return [].concat(_toConsumableArray(set.slice(0, i)), [this], _toConsumableArray(set.slice(i)));
      }
      return set.concat(this);
    }
  }, {
    key: "removeFromSet",
    value: function removeFromSet(set) {
      for (var i = 0; i < set.length; i++) if (this.eq(set[i])) return [].concat(_toConsumableArray(set.slice(0, i)), _toConsumableArray(set.slice(i + 1)));
      return set;
    }
  }, {
    key: "isInSet",
    value: function isInSet(set) {
      for (var i = 0; i < set.length; i++) {
        if (this.eq(set[i])) return true;
      }return false;
    }
  }, {
    key: "eq",
    value: function eq(other) {
      if (this.type != other.type) return false;
      for (var attr in this.attrs) {
        if (other.attrs[attr] != this.attrs[attr]) return false;
      }return true;
    }
  }]);

  return StyleMarker;
})();

exports.StyleMarker = StyleMarker;

function removeStyle(set, type) {
  for (var i = 0; i < set.length; i++) if (set[i].type == type) return [].concat(_toConsumableArray(set.slice(0, i)), _toConsumableArray(set.slice(i + 1)));
  return set;
}

function sameStyles(a, b) {
  if (a.length != b.length) return false;
  for (var i = 0; i < a.length; i++) {
    if (!a[i].eq(b[i])) return false;
  }return true;
}

function containsStyle(set, type) {
  for (var i = 0; i < set.length; i++) {
    if (set[i].type == type) return set[i];
  }return false;
}

var empty = [];

function spanStylesAt(doc, pos) {
  var parent = doc.path(pos.path);
  if (!parent.isTextblock) return empty;
  var node = parent.childBefore(pos.offset).node || parent.firstChild;
  return node ? node.styles : empty;
}

function rangeHasStyle(doc, from, to, type) {
  var found = false;
  doc.inlineNodesBetween(from, to, function (node) {
    if (containsStyle(node.styles, type)) found = true;
  });
  return found;
}

},{}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.fromDOM = fromDOM;
exports.fromHTML = fromHTML;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _index = require("./index");

function fromDOM(schema, dom, options) {
  if (!options) options = {};
  var context = new Context(schema, options.topNode || schema.node("doc"));
  var start = options.from ? dom.childNodes[options.from] : dom.firstChild;
  var end = options.to != null && dom.childNodes[options.to] || null;
  context.addAll(start, end, true);
  var doc = undefined;
  while (context.stack.length) doc = context.leave();
  return doc;
}

(0, _index.defineSource)("dom", fromDOM);

function fromHTML(schema, html, options) {
  var wrap = (options && options.document || window.document).createElement("div");
  wrap.innerHTML = html;
  return fromDOM(schema, wrap, options);
}

(0, _index.defineSource)("html", fromHTML);

var blockElements = {
  address: true, article: true, aside: true, blockquote: true, canvas: true,
  dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true,
  footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true,
  h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true,
  output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true
};

var Context = (function () {
  function Context(schema, topNode) {
    _classCallCheck(this, Context);

    this.schema = schema;
    this.stack = [];
    this.styles = [];
    this.closing = false;
    this.enter(topNode.type, topNode.attrs);
    this.nodeInfo = nodeInfo(schema);
  }

  _createClass(Context, [{
    key: "parseAttrs",
    value: function parseAttrs(dom, type, attrs) {
      for (var attr in type.attrs) {
        var desc = type.attrs[attr];
        if (desc.parseDOM && (!attrs || !Object.prototype.hasOwnProperty.call(attrs, attr))) {
          var value = desc.parseDOM(dom, this.options, desc, type);
          if (value != null) {
            if (!attrs) attrs = {};
            attrs[attr] = value;
          }
        }
      }
      return attrs;
    }
  }, {
    key: "addDOM",
    value: function addDOM(dom) {
      if (dom.nodeType == 3) {
        // FIXME define a coherent strategy for dealing with trailing, leading, and multiple spaces (this isn't one)
        var value = dom.nodeValue;
        var _top = this.top,
            last = undefined;
        if (/\S/.test(value) || _top.type.isTextblock) {
          value = value.replace(/\s+/g, " ");
          if (/^\s/.test(value) && (last = _top.content[_top.content.length - 1]) && last.type.name == "text" && /\s$/.test(last.text)) value = value.slice(1);
          if (value) this.insert(this.schema.text(value, this.styles));
        }
      } else if (dom.nodeType != 1) {
        // Ignore non-text non-element nodes
      } else if (!this.parseNodeType(dom)) {
          this.addAll(dom.firstChild, null);
          var _name = dom.nodeName.toLowerCase();
          if (blockElements.hasOwnProperty(_name) && this.top.type == this.schema.defaultTextblockType()) this.closing = true;
        }
    }
  }, {
    key: "tryParsers",
    value: function tryParsers(parsers, dom) {
      if (parsers) for (var i = 0; i < parsers.length; i++) {
        var parser = parsers[i];
        if (parser.parse(dom, this, parser.type, null, this.options) !== false) return true;
      }
    }
  }, {
    key: "parseNodeType",
    value: function parseNodeType(dom) {
      return this.tryParsers(this.nodeInfo[dom.nodeName.toLowerCase()], dom) || this.tryParsers(this.nodeInfo._, dom);
    }
  }, {
    key: "addAll",
    value: function addAll(from, to, sync) {
      var stack = sync && this.stack.slice();
      for (var dom = from; dom != to; dom = dom.nextSibling) {
        this.addDOM(dom);
        if (sync && blockElements.hasOwnProperty(dom.nodeName.toLowerCase())) this.sync(stack);
      }
    }
  }, {
    key: "doClose",
    value: function doClose() {
      if (!this.closing || this.stack.length < 2) return;
      var left = this.leave();
      this.enter(left.type, left.attrs);
      this.closing = false;
    }
  }, {
    key: "insert",
    value: function insert(node) {
      if (this.top.type.canContain(node)) {
        this.doClose();
      } else {
        for (var i = this.stack.length - 1; i >= 0; i--) {
          var route = this.stack[i].type.findConnection(node.type);
          if (!route) continue;
          if (i == this.stack.length - 1) {
            this.doClose();
          } else {
            while (this.stack.length > i + 1) this.leave();
          }
          for (var j = 0; j < route.length; j++) {
            this.enter(route[j]);
          }if (this.styles.length) this.styles = [];
          break;
        }
      }
      this.top.content.push(node);
      return node;
    }
  }, {
    key: "insertFrom",
    value: function insertFrom(dom, type, attrs, content, styles) {
      return this.insert(type.createAutoFill(this.parseAttrs(dom, type, attrs), content, styles));
    }
  }, {
    key: "enter",
    value: function enter(type, attrs) {
      if (this.styles.length) this.styles = [];
      this.stack.push({ type: type, attrs: attrs, content: [] });
    }
  }, {
    key: "enterFrom",
    value: function enterFrom(dom, type, attrs) {
      this.enter(type, this.parseAttrs(dom, type, attrs));
    }
  }, {
    key: "leave",
    value: function leave() {
      var top = this.stack.pop();
      var node = top.type.createAutoFill(top.attrs, top.content);
      if (this.stack.length) this.insert(node);
      return node;
    }
  }, {
    key: "sync",
    value: function sync(stack) {
      while (this.stack.length > stack.length) this.leave();
      for (;;) {
        var n = this.stack.length - 1,
            one = this.stack[n],
            two = stack[n];
        if ((0, _model.compareMarkup)(one.type, two.type, one.attrs, two.attrs)) break;
        this.leave();
      }
      while (stack.length > this.stack.length) {
        var add = stack[this.stack.length];
        this.enter(add.type, add.attrs);
      }
      if (this.styles.length) this.styles = [];
      this.closing = false;
    }
  }, {
    key: "top",
    get: function get() {
      return this.stack[this.stack.length - 1];
    }
  }]);

  return Context;
})();

function nodeInfo(schema) {
  return schema.cached.parseDOMNodes || (schema.cached.parseDOMNodes = summarizeNodeInfo(schema));
}

function summarizeNodeInfo(schema) {
  var tags = Object.create(null);
  tags._ = [];
  function read(value) {
    var info = value.parseDOM;
    if (!info) return;
    info.forEach(function (info) {
      var tag = info.tag || "_";(tags[tag] || (tags[tag] = [])).push({
        type: value,
        rank: info.rank == null ? 50 : info.rank,
        parse: info.parse
      });
    });
  }

  for (var _name2 in schema.nodes) {
    read(schema.nodes[_name2]);
  }for (var _name3 in schema.styles) {
    read(schema.styles[_name3]);
  }for (var tag in tags) {
    tags[tag].sort(function (a, b) {
      return a.rank - b.rank;
    });
  }return tags;
}

function wrap(dom, context, type, attrs) {
  context.enterFrom(dom, type, attrs);
  context.addAll(dom.firstChild, null, true);
  context.leave();
}

_model.Paragraph.register("parseDOM", { tag: "p", parse: wrap });

_model.BlockQuote.register("parseDOM", { tag: "blockquote", parse: wrap });

var _loop = function _loop(i) {
  _model.Heading.register("parseDOM", {
    tag: "h" + i,
    parse: function parse(dom, context, type) {
      return wrap(dom, context, type, { level: i });
    }
  });
};

for (var i = 1; i <= 6; i++) {
  _loop(i);
}_model.HorizontalRule.register("parseDOM", { tag: "hr", parse: wrap });

_model.CodeBlock.register("parseDOM", { tag: "pre", parse: function parse(dom, context, type) {
    var params = dom.firstChild && /^code$/i.test(dom.firstChild.nodeName) && dom.firstChild.getAttribute("class");
    if (params && /fence/.test(params)) {
      var found = [],
          re = /(?:^|\s)lang-(\S+)/g,
          m = undefined;
      while (m = re.test(params)) found.push(m[1]);
      params = found.join(" ");
    } else {
      params = null;
    }
    context.insertFrom(dom, type, { params: params }, [context.schema.text(dom.textContent)]);
  } });

_model.BulletList.register("parseDOM", { tag: "ul", parse: wrap });

_model.OrderedList.register("parseDOM", { tag: "ol", parse: function parse(dom, context, type) {
    var attrs = { order: dom.getAttribute("start") || 1 };
    wrap(dom, context, type, attrs);
  } });

_model.ListItem.register("parseDOM", { tag: "li", parse: wrap });

_model.HardBreak.register("parseDOM", { tag: "br", parse: function parse(dom, context, type) {
    if (!dom.hasAttribute("pm-force-br")) context.insertFrom(dom, type, null, null, context.styles);
  } });

_model.Image.register("parseDOM", { tag: "img", parse: function parse(dom, context, type) {
    context.insertFrom(dom, type, {
      src: dom.getAttribute("src"),
      title: dom.getAttribute("title") || null,
      alt: dom.getAttribute("alt") || null
    });
  } });

// Inline style tokens

function inline(dom, context, style) {
  var old = context.styles;
  context.styles = (style.instance || style).addToSet(old);
  context.addAll(dom.firstChild, null);
  context.styles = old;
}

_model.LinkStyle.register("parseDOM", { tag: "a", parse: function parse(dom, context, style) {
    var href = dom.getAttribute("href");
    if (!href) return false;
    inline(dom, context, style.create({ href: href, title: dom.getAttribute("title") }));
  } });

_model.EmStyle.register("parseDOM", { tag: "i", parse: inline });
_model.EmStyle.register("parseDOM", { tag: "em", parse: inline });

_model.StrongStyle.register("parseDOM", { tag: "b", parse: inline });
_model.StrongStyle.register("parseDOM", { tag: "strong", parse: inline });

_model.CodeStyle.register("parseDOM", { tag: "code", parse: inline });

},{"../model":25,"./index":32}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.convertFrom = convertFrom;
exports.knownSource = knownSource;
exports.defineSource = defineSource;
var parsers = Object.create(null);

function convertFrom(schema, value, format, arg) {
  var converter = parsers[format];
  if (!converter) throw new Error("Source format " + format + " not defined");
  return converter(schema, value, arg);
}

function knownSource(format) {
  return !!parsers[format];
}

function defineSource(format, func) {
  parsers[format] = func;
}

defineSource("json", function (schema, json) {
  return schema.nodeFromJSON(json);
});

},{}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fromText = fromText;

var _index = require("./index");

// FIXME is it meaningful to try and attach text-parsing information
// to node types?

function fromText(schema, text) {
  var blocks = text.trim().split(/\n{2,}/);
  var nodes = [];
  for (var i = 0; i < blocks.length; i++) {
    var spans = [];
    var parts = blocks[i].split("\n");
    for (var j = 0; j < parts.length; j++) {
      if (j) spans.push(schema.node("hard_break"));
      if (parts[j]) spans.push(schema.text(parts[j]));
    }
    nodes.push(schema.node("paragraph", null, spans));
  }
  if (!nodes.length) nodes.push(schema.node("paragraph"));
  return schema.node("doc", null, nodes);
}

(0, _index.defineSource)("text", fromText);

},{"./index":32}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toDOM = toDOM;
exports.toHTML = toHTML;
exports.renderNodeToDOM = renderNodeToDOM;

var _model = require("../model");

var _index = require("./index");

var _dom = require("../dom");

var doc = null;

// declare_global: window

function toDOM(node) {
  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

  doc = options.document || window.document;
  return renderNodes(node.children, options);
}

(0, _index.defineTarget)("dom", toDOM);

function toHTML(node, options) {
  var wrap = (options && options.document || window.document).createElement("div");
  wrap.appendChild(toDOM(node, options));
  return wrap.innerHTML;
}

(0, _index.defineTarget)("html", toHTML);

function renderNodeToDOM(node, options, offset) {
  var dom = renderNode(node, options, offset);
  if (options.renderInlineFlat && node.isInline) {
    dom = wrapInlineFlat(node, dom, options);
    dom = options.renderInlineFlat(node, dom, offset) || dom;
  }
  return dom;
}

function wrap(node, options, type) {
  var dom = (0, _dom.elt)(type || node.type.name);
  if (!node.isTextblock) renderNodesInto(node.children, dom, options);else if (options.renderInlineFlat) renderInlineContentFlat(node.children, dom, options);else renderInlineContent(node.children, dom, options);
  return dom;
}

function wrapIn(type) {
  return function (node, options) {
    return wrap(node, options, type);
  };
}

function renderNodes(nodes, options) {
  var frag = doc.createDocumentFragment();
  renderNodesInto(nodes, frag, options);
  return frag;
}

function renderNode(node, options, offset) {
  var dom = node.type.serializeDOM(node, options);
  for (var attr in node.type.attrs) {
    var desc = node.type.attrs[attr];
    if (desc.serializeDOM) desc.serializeDOM(dom, node.attrs[attr], options, node);
  }
  if (options.onRender && node.isBlock) dom = options.onRender(node, dom, offset) || dom;
  return dom;
}

function renderNodesInto(nodes, where, options) {
  for (var i = 0; i < nodes.length; i++) {
    if (options.path) options.path.push(i);
    where.appendChild(renderNode(nodes[i], options, i));
    if (options.path) options.path.pop();
  }
}

function renderInlineContent(nodes, where, options) {
  var top = where;
  var active = [];
  for (var i = 0; i < nodes.length; i++) {
    var node = nodes[i],
        styles = node.styles;
    var keep = 0;
    for (; keep < Math.min(active.length, styles.length); ++keep) if (!styles[keep].eq(active[keep])) break;
    while (keep < active.length) {
      active.pop();
      top = top.parentNode;
    }
    while (active.length < styles.length) {
      var add = styles[active.length];
      active.push(add);
      top = top.appendChild(renderStyle(add, options));
    }
    top.appendChild(renderNode(node, options, i));
  }
}

function renderStyle(marker, options) {
  var dom = marker.type.serializeDOM(marker, options);
  for (var attr in marker.type.attrs) {
    var desc = marker.type.attrs[attr];
    if (desc.serializeDOM) desc.serializeDOM(dom, marker.attrs[attr], options);
  }
  return dom;
}

function wrapInlineFlat(node, dom, options) {
  var styles = node.styles;
  for (var i = styles.length - 1; i >= 0; i--) {
    var _wrap = renderStyle(styles[i], options);
    _wrap.appendChild(dom);
    dom = _wrap;
  }
  return dom;
}

function renderInlineContentFlat(nodes, where, options) {
  var offset = 0;
  for (var i = 0; i < nodes.length; i++) {
    var node = nodes[i];
    var dom = wrapInlineFlat(node, renderNode(node, options, i), options);
    dom = options.renderInlineFlat(node, dom, offset) || dom;
    where.appendChild(dom);
    offset += node.offset;
  }

  if (!nodes.length || nodes[nodes.length - 1].type.name == "hard_break") where.appendChild((0, _dom.elt)("br")).setAttribute("pm-force-br", "true");else if (where.lastChild.contentEditable == "false") where.appendChild(doc.createTextNode(""));
}

// Block nodes

function def(cls, method) {
  cls.prototype.serializeDOM = method;
}

def(_model.BlockQuote, wrapIn("blockquote"));

_model.BlockQuote.prototype.clicked = function (_, path, dom, coords) {
  var childBox = dom.firstChild.getBoundingClientRect();
  if (coords.left < childBox.left - 2) return _model.Pos.from(path);
};

def(_model.BulletList, wrapIn("ul"));

def(_model.OrderedList, function (node, options) {
  var dom = wrap(node, options, "ol");
  if (node.attrs.order > 1) dom.setAttribute("start", node.attrs.order);
  return dom;
});

_model.OrderedList.prototype.clicked = _model.BulletList.prototype.clicked = function (_, path, dom, coords) {
  for (var i = 0; i < dom.childNodes.length; i++) {
    var child = dom.childNodes[i];
    if (!child.hasAttribute("pm-path")) continue;
    var childBox = child.getBoundingClientRect();
    if (coords.left > childBox.left - 2) return null;
    if (childBox.top <= coords.top && childBox.bottom >= coords.top) return new _model.Pos(path, i);
  }
};

def(_model.ListItem, wrapIn("li"));

def(_model.HorizontalRule, function () {
  return (0, _dom.elt)("hr");
});

def(_model.Paragraph, wrapIn("p"));

def(_model.Heading, function (node, options) {
  return wrap(node, options, "h" + node.attrs.level);
});

def(_model.CodeBlock, function (node, options) {
  var code = wrap(node, options, "code");
  if (node.attrs.params != null) code.className = "fence " + node.attrs.params.replace(/(^|\s+)/g, "$&lang-");
  return (0, _dom.elt)("pre", null, code);
});

// Inline content

def(_model.Text, function (node) {
  return doc.createTextNode(node.text);
});

def(_model.Image, function (node) {
  return (0, _dom.elt)("img", {
    src: node.attrs.src,
    alt: node.attrs.alt,
    title: node.attrs.title,
    contentEditable: false
  });
});

def(_model.HardBreak, function () {
  return (0, _dom.elt)("br");
});

// Inline styles

def(_model.EmStyle, function () {
  return (0, _dom.elt)("em");
});

def(_model.StrongStyle, function () {
  return (0, _dom.elt)("strong");
});

def(_model.CodeStyle, function () {
  return (0, _dom.elt)("code");
});

def(_model.LinkStyle, function (style) {
  var dom = (0, _dom.elt)("a");
  dom.setAttribute("href", style.attrs.href);
  if (style.attrs.title) dom.setAttribute("title", style.attrs.title);
  return dom;
});

},{"../dom":1,"../model":25,"./index":35}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.convertTo = convertTo;
exports.knownTarget = knownTarget;
exports.defineTarget = defineTarget;
var serializers = Object.create(null);

function convertTo(doc, format, arg) {
  var converter = serializers[format];
  if (!converter) throw new Error("Target format " + format + " not defined");
  return converter(doc, arg);
}

function knownTarget(format) {
  return !!serializers[format];
}

function defineTarget(format, func) {
  serializers[format] = func;
}

defineTarget("json", function (doc) {
  return doc.toJSON();
});

},{}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toText = toText;

var _model = require("../model");

var _index = require("./index");

_model.Block.prototype.serializeText = function (node) {
  var accum = "";
  for (var i = 0; i < node.length; i++) {
    var child = node.child(i);
    accum += child.type.serializeText(child);
  }
  return accum;
};

_model.Textblock.prototype.serializeText = function (node) {
  var text = _model.Block.prototype.serializeText(node);
  return text && text + "\n\n";
};

_model.Inline.prototype.serializeText = function () {
  return "";
};

_model.HardBreak.prototype.serializeText = function () {
  return "\n";
};

_model.Text.prototype.serializeText = function (node) {
  return node.text;
};

function toText(doc) {
  return doc.type.serializeText(doc).trim();
}

(0, _index.defineTarget)("text", toText);

},{"../model":25,"./index":35}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.canLift = canLift;
exports.canWrap = canWrap;
exports.alreadyHasBlockType = alreadyHasBlockType;

var _model = require("../model");

var _transform = require("./transform");

var _step = require("./step");

var _tree = require("./tree");

var _map = require("./map");

(0, _step.defineStep)("ancestor", {
  apply: function apply(doc, step) {
    var from = step.from,
        to = step.to;
    if (!(0, _tree.isFlatRange)(from, to)) return null;
    var toParent = from.path,
        start = from.offset,
        end = to.offset;
    var depth = step.param.depth || 0,
        wrappers = step.param.wrappers || [];
    var inner = doc.path(from.path);
    for (var i = 0; i < depth; i++) {
      if (start > 0 || end < doc.path(toParent).maxOffset || toParent.length == 0) return null;
      start = toParent[toParent.length - 1];
      end = start + 1;
      toParent = toParent.slice(0, toParent.length - 1);
    }
    if (depth == 0 && wrappers.length == 0) return null;

    var parent = doc.path(toParent),
        parentSize = parent.length,
        newParent = undefined;
    if (parent.type.locked) return null;
    if (wrappers.length) {
      var _ret = (function () {
        var lastWrapper = wrappers[wrappers.length - 1];
        var content = inner.slice(from.offset, to.offset);
        if (!parent.type.canContain(wrappers[0]) || !content.every(function (n) {
          return lastWrapper.type.canContain(n);
        }) || !inner.length && !lastWrapper.type.canBeEmpty || lastWrapper.type.locked) return {
          v: null
        };
        var node = null;
        for (var i = wrappers.length - 1; i >= 0; i--) {
          node = wrappers[i].copy(node ? [node] : content);
        }newParent = parent.splice(start, end, [node]);
      })();

      if (typeof _ret === "object") return _ret.v;
    } else {
      if (!parent.type.canContainChildren(inner, true) || !inner.length && start == 0 && end == parent.length && !parent.type.canBeEmpty) return null;
      newParent = parent.splice(start, end, inner.children);
    }
    var copy = doc.replaceDeep(toParent, newParent);

    var toInner = toParent.slice();
    for (var i = 0; i < wrappers.length; i++) {
      toInner.push(i ? 0 : start);
    }var startOfInner = new _model.Pos(toInner, wrappers.length ? 0 : start);
    var replaced = null;
    var insertedSize = wrappers.length ? 1 : to.offset - from.offset;
    if (depth != wrappers.length || depth > 1 || wrappers.length > 1) {
      var posBefore = new _model.Pos(toParent, start);
      var posAfter1 = new _model.Pos(toParent, end),
          posAfter2 = new _model.Pos(toParent, start + insertedSize);
      var endOfInner = new _model.Pos(toInner, startOfInner.offset + (to.offset - from.offset));
      replaced = [new _map.ReplacedRange(posBefore, from, posBefore, startOfInner), new _map.ReplacedRange(to, posAfter1, endOfInner, posAfter2, posAfter1, posAfter2)];
    }
    var moved = [new _map.MovedRange(from, to.offset - from.offset, startOfInner)];
    if (end - start != insertedSize) moved.push(new _map.MovedRange(new _model.Pos(toParent, end), parentSize - end, new _model.Pos(toParent, start + insertedSize)));
    return new _transform.TransformResult(copy, new _map.PosMap(moved, replaced));
  },
  invert: function invert(step, oldDoc, map) {
    var wrappers = [];
    if (step.param.depth) for (var i = 0; i < step.param.depth; i++) {
      var _parent = oldDoc.path(step.from.path.slice(0, step.from.path.length - i));
      wrappers.unshift(_parent.copy());
    }
    var newFrom = map.map(step.from).pos;
    var newTo = step.from.cmp(step.to) ? map.map(step.to, -1).pos : newFrom;
    return new _step.Step("ancestor", newFrom, newTo, null, { depth: step.param.wrappers ? step.param.wrappers.length : 0,
      wrappers: wrappers });
  },
  paramToJSON: function paramToJSON(param) {
    return { depth: param.depth,
      wrappers: param.wrappers && param.wrappers.map(function (n) {
        return n.toJSON();
      }) };
  },
  paramFromJSON: function paramFromJSON(schema, json) {
    return { depth: json.depth,
      wrappers: json.wrappers && json.wrappers.map(schema.nodeFromJSON) };
  }
});

function canBeLifted(doc, range) {
  var content = [doc.path(range.from.path)],
      unwrap = false;
  for (;;) {
    var parentDepth = -1;

    var _loop = function _loop(_node, i) {
      if (content.every(function (inner) {
        return _node.type.canContainChildren(inner);
      })) parentDepth = i;
      _node = _node.child(range.from.path[i]);
      exports.node = node = _node;
    };

    for (var node = doc, i = 0; i < range.from.path.length; i++) {
      _loop(node, i);
    }
    if (parentDepth > -1) return { path: range.from.path.slice(0, parentDepth), unwrap: unwrap };
    if (unwrap || !content[0].isBlock) return null;
    content = content[0].slice(range.from.offset, range.to.offset);
    unwrap = true;
  }
}

function canLift(doc, from, to) {
  var range = (0, _model.siblingRange)(doc, from, to || from);
  var found = canBeLifted(doc, range);
  if (found) return { found: found, range: range };
}

_transform.Transform.prototype.lift = function (from) {
  var to = arguments.length <= 1 || arguments[1] === undefined ? from : arguments[1];
  return (function () {
    var can = canLift(this.doc, from, to);
    if (!can) return this;
    var found = can.found;
    var range = can.range;

    var depth = range.from.path.length - found.path.length;
    var rangeNode = found.unwrap && this.doc.path(range.from.path);

    for (var d = 0, pos = range.to;; d++) {
      if (pos.offset < this.doc.path(pos.path).length) {
        this.split(pos, depth);
        break;
      }
      if (d == depth - 1) break;
      pos = pos.shorten(null, 1);
    }
    for (var d = 0, pos = range.from;; d++) {
      if (pos.offset > 0) {
        this.split(pos, depth - d);
        var cut = range.from.path.length - depth,
            path = pos.path.slice(0, cut).concat(pos.path[cut] + 1);
        while (path.length < range.from.path.length) path.push(0);
        range = { from: new _model.Pos(path, 0), to: new _model.Pos(path, range.to.offset - range.from.offset) };
        break;
      }
      if (d == depth - 1) break;
      pos = pos.shorten();
    }
    if (found.unwrap) {
      for (var i = range.to.offset - 1; i > range.from.offset; i--) {
        this.join(new _model.Pos(range.from.path, i));
      }var size = 0;
      for (var i = range.from.offset; i < range.to.offset; i++) {
        size += rangeNode.child(i).length;
      }var path = range.from.path.concat(range.from.offset);
      range = { from: new _model.Pos(path, 0), to: new _model.Pos(path, size) };
      ++depth;
    }
    this.step("ancestor", range.from, range.to, null, { depth: depth });
    return this;
  }).apply(this, arguments);
};

function canWrap(doc, from, to, node) {
  var range = (0, _model.siblingRange)(doc, from, to || from);
  if (range.from.offset == range.to.offset) return null;
  var parent = doc.path(range.from.path);
  var around = parent.type.findConnection(node.type);
  var inside = node.type.findConnection(parent.child(range.from.offset).type);
  if (around && inside) return { range: range, around: around, inside: inside };
}

_transform.Transform.prototype.wrap = function (from, to, node) {
  var can = canWrap(this.doc, from, to, node);
  if (!can) return this;
  var range = can.range;
  var around = can.around;
  var inside = can.inside;

  var wrappers = around.map(function (t) {
    return node.type.schema.node(t);
  }).concat(node).concat(inside.map(function (t) {
    return node.type.schema.node(t);
  }));
  this.step("ancestor", range.from, range.to, null, { wrappers: wrappers });
  if (inside.length) {
    var toInner = range.from.path.slice();
    for (var i = 0; i < around.length + inside.length + 1; i++) {
      toInner.push(i ? 0 : range.from.offset);
    }for (var i = range.to.offset - 1 - range.from.offset; i > 0; i--) {
      this.split(new _model.Pos(toInner, i), inside.length);
    }
  }
  return this;
};

function alreadyHasBlockType(doc, from, to, type, attrs) {
  var found = false;
  if (!attrs) attrs = {};
  doc.nodesBetween(from, to || from, function (node) {
    if (node.isTextblock) {
      if (!(0, _model.compareMarkup)(node.type, type, node.attrs, attrs)) found = true;
      return false;
    }
  });
  return found;
}

_transform.Transform.prototype.setBlockType = function (from, to, wrapNode) {
  var _this = this;

  this.doc.nodesBetween(from, to || from, function (node, path) {
    if (node.isTextblock && !node.sameMarkup(wrapNode)) {
      path = path.slice();
      // Ensure all markup that isn't allowed in the new node type is cleared
      _this.clearMarkup(new _model.Pos(path, 0), new _model.Pos(path, node.maxOffset), wrapNode.type);
      _this.step("ancestor", new _model.Pos(path, 0), new _model.Pos(path, _this.doc.path(path).maxOffset), null, { depth: 1, wrappers: [wrapNode] });
      return false;
    }
  });
  return this;
};

},{"../model":25,"./map":40,"./step":43,"./transform":45,"./tree":46}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

require("./style");

require("./split");

require("./replace");

var _transform = require("./transform");

Object.defineProperty(exports, "TransformResult", {
  enumerable: true,
  get: function get() {
    return _transform.TransformResult;
  }
});
Object.defineProperty(exports, "Transform", {
  enumerable: true,
  get: function get() {
    return _transform.Transform;
  }
});

var _step = require("./step");

Object.defineProperty(exports, "Step", {
  enumerable: true,
  get: function get() {
    return _step.Step;
  }
});

var _ancestor = require("./ancestor");

Object.defineProperty(exports, "canLift", {
  enumerable: true,
  get: function get() {
    return _ancestor.canLift;
  }
});
Object.defineProperty(exports, "canWrap", {
  enumerable: true,
  get: function get() {
    return _ancestor.canWrap;
  }
});
Object.defineProperty(exports, "alreadyHasBlockType", {
  enumerable: true,
  get: function get() {
    return _ancestor.alreadyHasBlockType;
  }
});

var _join = require("./join");

Object.defineProperty(exports, "joinPoint", {
  enumerable: true,
  get: function get() {
    return _join.joinPoint;
  }
});
Object.defineProperty(exports, "joinableBlocks", {
  enumerable: true,
  get: function get() {
    return _join.joinableBlocks;
  }
});

var _map = require("./map");

Object.defineProperty(exports, "PosMap", {
  enumerable: true,
  get: function get() {
    return _map.PosMap;
  }
});
Object.defineProperty(exports, "MapResult", {
  enumerable: true,
  get: function get() {
    return _map.MapResult;
  }
});
Object.defineProperty(exports, "mapStep", {
  enumerable: true,
  get: function get() {
    return _map.mapStep;
  }
});
Object.defineProperty(exports, "Remapping", {
  enumerable: true,
  get: function get() {
    return _map.Remapping;
  }
});

},{"./ancestor":37,"./join":39,"./map":40,"./replace":41,"./split":42,"./step":43,"./style":44,"./transform":45}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.joinableBlocks = joinableBlocks;
exports.joinPoint = joinPoint;

var _model = require("../model");

var _transform = require("./transform");

var _step = require("./step");

var _map = require("./map");

(0, _step.defineStep)("join", {
  apply: function apply(doc, step) {
    var before = doc.path(step.from.path);
    var after = doc.path(step.to.path);
    if (step.from.offset < before.maxOffset || step.to.offset > 0 || !before.type.canContainChildren(after, true)) return null;
    var pFrom = step.from.path,
        pTo = step.to.path;
    var last = pFrom.length - 1,
        offset = pFrom[last] + 1;
    if (pFrom.length != pTo.length || pFrom.length == 0 || offset != pTo[last]) return null;
    for (var i = 0; i < last; i++) {
      if (pFrom[i] != pTo[i]) return null;
    }var targetPath = pFrom.slice(0, last);
    var target = doc.path(targetPath),
        oldSize = target.length;
    if (target.type.locked) return null;
    var joined = before.append(after.children);
    var copy = doc.replaceDeep(targetPath, target.splice(offset - 1, offset + 1, [joined]));

    var map = new _map.PosMap([new _map.MovedRange(step.to, after.maxOffset, step.from), new _map.MovedRange(new _model.Pos(targetPath, offset + 1), oldSize - offset - 1, new _model.Pos(targetPath, offset))], [new _map.ReplacedRange(step.from, step.to, step.from, step.from, step.to.shorten())]);
    return new _transform.TransformResult(copy, map);
  },
  invert: function invert(step, oldDoc) {
    return new _step.Step("split", null, null, step.from, oldDoc.path(step.to.path).copy());
  }
});

function joinableBlocks(doc, pos) {
  if (pos.offset == 0) return false;
  var parent = doc.path(pos.path);
  if (parent.isTextblock || pos.offset == parent.length) return false;
  var type = parent.child(pos.offset - 1).type;
  return !type.isTextblock && type.contains && type == parent.child(pos.offset).type;
}

function joinPoint(doc, pos) {
  var dir = arguments.length <= 2 || arguments[2] === undefined ? -1 : arguments[2];

  for (;;) {
    if (joinableBlocks(doc, pos)) return pos;
    if (pos.depth == 0) return null;
    pos = pos.shorten(null, dir < 0 ? 0 : 1);
  }
}

_transform.Transform.prototype.join = function (at) {
  var parent = this.doc.path(at.path);
  if (at.offset == 0 || at.offset == parent.length || parent.isTextblock) return this;
  this.step("join", new _model.Pos(at.path.concat(at.offset - 1), parent.child(at.offset - 1).maxOffset), new _model.Pos(at.path.concat(at.offset), 0));
  return this;
};

},{"../model":25,"./map":40,"./step":43,"./transform":45}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.mapStep = mapStep;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var _step = require("./step");

var MovedRange = (function () {
  function MovedRange(start, size) {
    var dest = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

    _classCallCheck(this, MovedRange);

    this.start = start;
    this.size = size;
    this.dest = dest;
  }

  _createClass(MovedRange, [{
    key: "toString",
    value: function toString() {
      return "[moved " + this.start + "+" + this.size + " to " + this.dest + "]";
    }
  }, {
    key: "end",
    get: function get() {
      return new _model.Pos(this.start.path, this.start.offset + this.size);
    }
  }]);

  return MovedRange;
})();

exports.MovedRange = MovedRange;

var Side = function Side(from, to, ref) {
  _classCallCheck(this, Side);

  this.from = from;
  this.to = to;
  this.ref = ref;
};

var ReplacedRange = (function () {
  function ReplacedRange(from, to, newFrom, newTo) {
    var ref = arguments.length <= 4 || arguments[4] === undefined ? from : arguments[4];
    var newRef = arguments.length <= 5 || arguments[5] === undefined ? newFrom : arguments[5];
    return (function () {
      _classCallCheck(this, ReplacedRange);

      this.before = new Side(from, to, ref);
      this.after = new Side(newFrom, newTo, newRef);
    }).apply(this, arguments);
  }

  _createClass(ReplacedRange, [{
    key: "toString",
    value: function toString() {
      return "[replaced " + this.before.from + "-" + this.before.to + " with " + this.after.from + "-" + this.after.to + "]";
    }
  }]);

  return ReplacedRange;
})();

exports.ReplacedRange = ReplacedRange;

var empty = [];

var MapResult = function MapResult(pos) {
  var deleted = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];
  var recover = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

  _classCallCheck(this, MapResult);

  this.pos = pos;
  this.deleted = deleted;
  this.recover = recover;
};

exports.MapResult = MapResult;

function offsetFrom(base, pos) {
  if (pos.path.length > base.path.length) {
    var path = [pos.path[base.path.length] - base.offset];
    for (var i = base.path.length + 1; i < pos.path.length; i++) {
      path.push(pos.path[i]);
    }return new _model.Pos(path, pos.offset);
  } else {
    return new _model.Pos([], pos.offset - base.offset);
  }
}

function mapThrough(map, pos, bias, back) {
  if (bias === undefined) bias = 1;

  for (var i = 0; i < map.replaced.length; i++) {
    var range = map.replaced[i],
        side = back ? range.after : range.before;
    var left = undefined,
        right = undefined;
    if ((left = pos.cmp(side.from)) >= 0 && (right = pos.cmp(side.to)) <= 0) {
      var other = back ? range.before : range.after;
      return new MapResult(bias < 0 ? other.from : other.to, !!(left && right), { rangeID: i, offset: offsetFrom(side.ref, pos) });
    }
  }

  for (var i = 0; i < map.moved.length; i++) {
    var range = map.moved[i];
    var start = back ? range.dest : range.start;
    if (pos.cmp(start) >= 0 && _model.Pos.cmp(pos.path, pos.offset, start.path, start.offset + range.size) <= 0) {
      var dest = back ? range.start : range.dest;
      var depth = start.depth;
      if (pos.depth > depth) {
        var offset = dest.offset + (pos.path[depth] - start.offset);
        return new MapResult(new _model.Pos(dest.path.concat(offset).concat(pos.path.slice(depth + 1)), pos.offset));
      } else {
        return new MapResult(new _model.Pos(dest.path, dest.offset + (pos.offset - start.offset)));
      }
    }
  }

  return new MapResult(pos);
}

var PosMap = (function () {
  function PosMap(moved, replaced) {
    _classCallCheck(this, PosMap);

    this.moved = moved || empty;
    this.replaced = replaced || empty;
  }

  _createClass(PosMap, [{
    key: "recover",
    value: function recover(offset) {
      return this.replaced[offset.rangeID].after.ref.extend(offset.offset);
    }
  }, {
    key: "map",
    value: function map(pos, bias) {
      return mapThrough(this, pos, bias, false);
    }
  }, {
    key: "invert",
    value: function invert() {
      return new InvertedPosMap(this);
    }
  }, {
    key: "toString",
    value: function toString() {
      return this.moved.concat(this.replaced).join(" ");
    }
  }]);

  return PosMap;
})();

exports.PosMap = PosMap;

var InvertedPosMap = (function () {
  function InvertedPosMap(map) {
    _classCallCheck(this, InvertedPosMap);

    this.inner = map;
  }

  _createClass(InvertedPosMap, [{
    key: "recover",
    value: function recover(offset) {
      return this.inner.replaced[offset.rangeID].before.ref.extend(offset.offset);
    }
  }, {
    key: "map",
    value: function map(pos, bias) {
      return mapThrough(this.inner, pos, bias, true);
    }
  }, {
    key: "invert",
    value: function invert() {
      return this.inner;
    }
  }, {
    key: "toString",
    value: function toString() {
      return "-" + this.inner;
    }
  }]);

  return InvertedPosMap;
})();

var nullMap = new PosMap();

exports.nullMap = nullMap;

var Remapping = (function () {
  function Remapping() {
    var head = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];
    var tail = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
    var mirror = arguments.length <= 2 || arguments[2] === undefined ? Object.create(null) : arguments[2];

    _classCallCheck(this, Remapping);

    this.head = head;
    this.tail = tail;
    this.mirror = mirror;
  }

  _createClass(Remapping, [{
    key: "addToFront",
    value: function addToFront(map, corr) {
      this.head.push(map);
      var id = -this.head.length;
      if (corr != null) this.mirror[id] = corr;
      return id;
    }
  }, {
    key: "addToBack",
    value: function addToBack(map, corr) {
      this.tail.push(map);
      var id = this.tail.length - 1;
      if (corr != null) this.mirror[corr] = id;
      return id;
    }
  }, {
    key: "get",
    value: function get(id) {
      return id < 0 ? this.head[-id - 1] : this.tail[id];
    }
  }, {
    key: "map",
    value: function map(pos, bias) {
      var deleted = false;

      for (var i = -this.head.length; i < this.tail.length; i++) {
        var map = this.get(i);
        var result = map.map(pos, bias);
        if (result.recover) {
          var corr = this.mirror[i];
          if (corr != null) {
            i = corr;
            pos = this.get(corr).recover(result.recover);
            continue;
          }
        }
        if (result.deleted) deleted = true;
        pos = result.pos;
      }

      return new MapResult(pos, deleted);
    }
  }]);

  return Remapping;
})();

exports.Remapping = Remapping;

function maxPos(a, b) {
  return a.cmp(b) > 0 ? a : b;
}

function mapStep(step, remapping) {
  var allDeleted = true;
  var from = null,
      to = null,
      pos = null;

  if (step.from) {
    var result = remapping.map(step.from, 1);
    from = result.pos;
    if (!result.deleted) allDeleted = false;
  }
  if (step.to) {
    if (step.to.cmp(step.from) == 0) {
      to = from;
    } else {
      var result = remapping.map(step.to, -1);
      to = maxPos(result.pos, from);
      if (!result.deleted) allDeleted = false;
    }
  }
  if (step.pos) {
    if (from && step.pos.cmp(step.from) == 0) {
      pos = from;
    } else if (to && step.pos.cmp(step.to) == 0) {
      pos = to;
    } else {
      var result = remapping.map(step.pos, 1);
      pos = result.pos;
      if (!result.deleted) allDeleted = false;
    }
  }
  if (!allDeleted) return new _step.Step(step.name, from, to, pos, step.param);
}

},{"../model":25,"./step":43}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;

var _model = require("../model");

var _transform = require("./transform");

var _step = require("./step");

var _map = require("./map");

var _tree = require("./tree");

function findMovedChunks(oldNode, oldPath, newNode, startDepth) {
  var moved = [];
  var newPath = oldPath.path.slice(0, startDepth);

  for (var depth = startDepth;; depth++) {
    var joined = depth == oldPath.depth ? 0 : 1;
    var cut = depth == oldPath.depth ? oldPath.offset : oldPath.path[depth];
    var afterCut = oldNode.maxOffset - cut;
    var newOffset = newNode.maxOffset - afterCut;

    var from = oldPath.shorten(depth, joined);
    var to = new _model.Pos(newPath, newOffset + joined);
    if (from.cmp(to)) moved.push(new _map.MovedRange(from, afterCut - joined, to));

    if (!joined) return moved;

    oldNode = oldNode.child(cut);
    newNode = newNode.child(newOffset);
    newPath = newPath.concat(newOffset);
  }
}

function replace(node, from, to, root, repl) {
  var depth = arguments.length <= 5 || arguments[5] === undefined ? 0 : arguments[5];

  if (depth == root.length) {
    var _ret = (function () {
      var before = (0, _model.sliceBefore)(node, from, depth);
      var after = (0, _model.sliceAfter)(node, to, depth),
          result = undefined;
      if (!repl.nodes.every(function (n) {
        return before.type.canContain(n);
      })) return {
        v: null
      };
      if (repl.nodes.length) result = before.append(repl.nodes, from.depth - depth, repl.openLeft).append(after.children, repl.openRight, to.depth - depth);else result = before.append(after.children, from.depth - depth, to.depth - depth);
      if (!result.length && !result.type.canBeEmpty) result = result.copy(result.type.defaultContent());
      return {
        v: { doc: result, moved: findMovedChunks(node, to, result, depth) }
      };
    })();

    if (typeof _ret === "object") return _ret.v;
  } else {
    var pos = root[depth];
    var result = replace(node.child(pos), from, to, root, repl, depth + 1);
    if (!result) return null;
    return { doc: node.replace(pos, result.doc), moved: result.moved };
  }
}

var nullRepl = { nodes: [], openLeft: 0, openRight: 0 };

(0, _step.defineStep)("replace", {
  apply: function apply(doc, step) {
    var rootPos = step.pos,
        root = rootPos.path;
    if (step.from.depth < root.length || step.to.depth < root.length) return null;
    for (var i = 0; i < root.length; i++) {
      if (step.from.path[i] != root[i] || step.to.path[i] != root[i]) return null;
    }var result = replace(doc, step.from, step.to, rootPos.path, step.param || nullRepl);
    if (!result) return null;
    var out = result.doc;
    var moved = result.moved;

    var end = moved.length ? moved[moved.length - 1].dest : step.to;
    var replaced = new _map.ReplacedRange(step.from, step.to, step.from, end, rootPos, rootPos);
    return new _transform.TransformResult(out, new _map.PosMap(moved, [replaced]));
  },
  invert: function invert(step, oldDoc, map) {
    var depth = step.pos.depth;
    return new _step.Step("replace", step.from, map.map(step.to).pos, step.from.shorten(depth), {
      nodes: (0, _model.childrenBetween)(oldDoc.path(step.pos.path), step.from, step.to, depth),
      openLeft: step.from.depth - depth,
      openRight: step.to.depth - depth
    });
  },
  paramToJSON: function paramToJSON(param) {
    return param && { nodes: param.nodes && param.nodes.map(function (n) {
        return n.toJSON();
      }),
      openLeft: param.openLeft, openRight: param.openRight };
  },
  paramFromJSON: function paramFromJSON(schema, json) {
    return json && { nodes: json.nodes && json.nodes.map(schema.nodeFromJSON),
      openLeft: json.openLeft, openRight: json.openRight };
  }
});

function shiftFromStack(stack, depth) {
  var shifted = stack[depth] = stack[depth].splice(0, 1, []);
  for (var i = depth - 1; i >= 0; i--) {
    shifted = stack[i] = stack[i].replace(0, shifted);
  }
}

// FIXME find a not so horribly confusing way to express this
function buildInserted(nodesLeft, source, start, end) {
  var sliced = (0, _model.sliceBetween)(source, start, end, false);
  var nodesRight = [];
  for (var node = sliced, i = 0; i <= start.path.length; i++, node = node.firstChild) {
    nodesRight.push(node);
  }var same = (0, _tree.samePathDepth)(start, end);
  var searchLeft = nodesLeft.length - 1,
      searchRight = nodesRight.length - 1;
  var result = null;

  var inner = nodesRight[searchRight];
  if (inner.isTextblock && inner.length && nodesLeft[searchLeft].isTextblock) {
    result = nodesLeft[searchLeft--].copy(inner.children);
    --searchRight;
    shiftFromStack(nodesRight, searchRight);
  }

  for (;;) {
    var node = nodesRight[searchRight],
        type = node.type,
        matched = null;
    var outside = searchRight <= same;
    for (var i = searchLeft; i >= 0; i--) {
      var left = nodesLeft[i];
      if (outside ? left.type.canContainChildren(node) : left.type == type) {
        matched = i;
        break;
      }
    }
    if (matched != null) {
      if (!result) {
        result = nodesLeft[matched].copy(node.children);
        searchLeft = matched - 1;
      } else {
        while (searchLeft >= matched) {
          result = nodesLeft[searchLeft].copy(searchLeft == matched ? [result].concat(node.children) : [result]);
          searchLeft--;
        }
      }
    }
    if (matched != null || node.length == 0) {
      if (outside) break;
      if (searchRight) shiftFromStack(nodesRight, searchRight - 1);
    }
    searchRight--;
  }

  var repl = { nodes: result ? result.children : [],
    openLeft: start.depth - searchRight,
    openRight: end.depth - searchRight };
  return { repl: repl, depth: searchLeft + 1 };
}

function moveText(tr, doc, before, after) {
  var root = (0, _tree.samePathDepth)(before, after);
  var cutAt = after.shorten(null, 1);
  while (cutAt.path.length > root && doc.path(cutAt.path).length == 1) cutAt = cutAt.shorten(null, 1);
  tr.split(cutAt, cutAt.path.length - root);
  var start = after,
      end = new _model.Pos(start.path, doc.path(start.path).maxOffset);
  var parent = doc.path(start.path.slice(0, root));
  var wanted = parent.pathNodes(before.path.slice(root));
  var existing = parent.pathNodes(start.path.slice(root));
  while (wanted.length && existing.length && wanted[0].sameMarkup(existing[0])) {
    wanted.shift();
    existing.shift();
  }
  if (existing.length || wanted.length) tr.step("ancestor", start, end, null, {
    depth: existing.length,
    wrappers: wanted.map(function (n) {
      return n.copy();
    })
  });
  for (var i = root; i < before.path.length; i++) {
    tr.join(before.shorten(i, 1));
  }
}

/**
 * Delete content between two positions.
 *
 * @param  {Pos} from
 * @param  {Pos} to
 * @return this
 */
_transform.Transform.prototype["delete"] = function (from, to) {
  if (from.cmp(to)) this.replace(from, to);
  return this;
};

/**
 * Replace the content between two positions.
 */
_transform.Transform.prototype.replace = function (from, to, source, start, end) {
  var repl = undefined,
      depth = undefined,
      doc = this.doc,
      maxDepth = (0, _tree.samePathDepth)(from, to);
  if (source) {
    ;
    var _buildInserted = buildInserted(doc.pathNodes(from.path), source, start, end);

    repl = _buildInserted.repl;
    depth = _buildInserted.depth;

    while (depth > maxDepth) {
      if (repl.nodes.length) repl = { nodes: [doc.path(from.path.slice(0, depth)).copy(repl.nodes)],
        openLeft: repl.openLeft + 1, openRight: repl.openRight + 1 };
      depth--;
    }
  } else {
    repl = nullRepl;
    depth = maxDepth;
  }
  var root = from.shorten(depth),
      docAfter = doc,
      after = to;
  if (repl.nodes.length || (0, _tree.replaceHasEffect)(doc, from, to)) {
    var result = this.step("replace", from, to, root, repl);
    docAfter = result.doc;
    after = result.map.map(to).pos;
  }

  // If no text nodes before or after end of replacement, don't glue text
  if (!doc.path(to.path).isTextblock) return this;
  if (!(repl.nodes.length ? source.path(end.path).isTextblock : doc.path(from.path).isTextblock)) return this;

  var nodesAfter = doc.path(root.path).pathNodes(to.path.slice(depth)).slice(1);
  var nodesBefore = undefined;
  if (repl.nodes.length) {
    var inserted = repl.nodes;
    nodesBefore = [];
    for (var i = 0; i < repl.openRight; i++) {
      var last = inserted[inserted.length - 1];
      nodesBefore.push(last);
      inserted = last.children;
    }
  } else {
    nodesBefore = doc.path(root.path).pathNodes(from.path.slice(depth)).slice(1);
  }

  if (nodesBefore.length && (nodesAfter.length != nodesBefore.length || !nodesAfter.every(function (n, i) {
    return n.sameMarkup(nodesBefore[i]);
  }))) {
    var _after$shorten = after.shorten(root.depth);

    var path = _after$shorten.path;
    var offset = _after$shorten.offset;var before = undefined;
    for (var node = docAfter.path(path), i = 0;; i++) {
      if (i == nodesBefore.length) {
        before = new _model.Pos(path, offset);
        break;
      }
      path.push(offset - 1);
      node = node.child(offset - 1);
      offset = node.maxOffset;
    }
    moveText(this, docAfter, before, after);
  }
  return this;
};

_transform.Transform.prototype.replaceWith = function (from, to, nodes) {
  if (!Array.isArray(nodes)) nodes = [nodes];
  if (!_model.Pos.samePath(from.path, to.path)) return this;
  this.step("replace", from, to, from, { nodes: nodes, openLeft: 0, openRight: 0 });
  return this;
};

/**
 * Insert a node at a given position.
 *
 * @param  {Pos}   pos
 * @param  {mixed} nodes
 * @return {this}
 */
_transform.Transform.prototype.insert = function (pos, nodes) {
  return this.replaceWith(pos, pos, nodes);
};

_transform.Transform.prototype.insertInline = function (pos, nodes) {
  if (!Array.isArray(nodes)) nodes = [nodes];
  var styles = (0, _model.spanStylesAt)(this.doc, pos);
  nodes = nodes.map(function (n) {
    return n.styled(styles);
  });
  return this.insert(pos, nodes);
};

_transform.Transform.prototype.insertText = function (pos, text) {
  return this.insertInline(pos, this.doc.type.schema.text(text));
};

},{"../model":25,"./map":40,"./step":43,"./transform":45,"./tree":46}],42:[function(require,module,exports){
"use strict";

var _model = require("../model");

var _transform = require("./transform");

var _step = require("./step");

var _map = require("./map");

(0, _step.defineStep)("split", {
  apply: function apply(doc, step) {
    var pos = step.pos;
    if (pos.depth == 0) return null;

    var _pos$shorten = pos.shorten();

    var parentPath = _pos$shorten.path;
    var offset = _pos$shorten.offset;

    var parent = doc.path(parentPath);
    var target = parent.child(offset),
        targetSize = target.maxOffset;

    var splitAt = pos.offset;
    if (splitAt == 0 && !target.type.canBeEmpty || target.type.locked || splitAt == target.maxOffset && !(step.param || target).type.canBeEmpty) return null;
    var newParent = parent.splice(offset, offset + 1, [target.copy(target.slice(0, splitAt)), (step.param || target).copy(target.slice(splitAt))]);
    var copy = doc.replaceDeep(parentPath, newParent);

    var dest = new _model.Pos(parentPath.concat(offset + 1), 0);
    var map = new _map.PosMap([new _map.MovedRange(pos, targetSize - pos.offset, dest), new _map.MovedRange(new _model.Pos(parentPath, offset + 1), newParent.length - 2 - offset, new _model.Pos(parentPath, offset + 2))], [new _map.ReplacedRange(pos, pos, pos, dest, pos, pos.shorten(null, 1))]);
    return new _transform.TransformResult(copy, map);
  },
  invert: function invert(step, _oldDoc, map) {
    return new _step.Step("join", step.pos, map.map(step.pos).pos);
  },
  paramToJSON: function paramToJSON(param) {
    return param && param.toJSON();
  },
  paramFromJSON: function paramFromJSON(schema, json) {
    return json && schema.nodeFromJSON(json);
  }
});

_transform.Transform.prototype.split = function (pos) {
  var depth = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];
  var nodeAfter = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

  if (depth == 0) return this;
  for (var i = 0;; i++) {
    this.step("split", null, null, pos, nodeAfter);
    if (i == depth - 1) return this;
    nodeAfter = null;
    pos = pos.shorten(null, 1);
  }
};

_transform.Transform.prototype.splitIfNeeded = function (pos) {
  var depth = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];

  for (var off = 0; off < depth; off++) {
    var here = pos.shorten(pos.depth - off);
    if (here.offset && here.offset < this.doc.path(here.path).maxOffset) this.step("split", null, null, here);
  }
  return this;
};

},{"../model":25,"./map":40,"./step":43,"./transform":45}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

exports.defineStep = defineStep;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _model = require("../model");

var Step = (function () {
  function Step(name, from, to, pos) {
    var param = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

    _classCallCheck(this, Step);

    if (!(name in steps)) throw new Error("Unknown step type: " + name);
    this.name = name;
    this.from = from;
    this.to = to;
    this.pos = pos;
    this.param = param;
  }

  _createClass(Step, [{
    key: "apply",
    value: function apply(doc) {
      return steps[this.name].apply(doc, this);
    }
  }, {
    key: "invert",
    value: function invert(oldDoc, map) {
      return steps[this.name].invert(this, oldDoc, map);
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      var impl = steps[this.name];
      return {
        name: this.name,
        from: this.from,
        to: this.to,
        pos: this.pos,
        param: impl.paramToJSON ? impl.paramToJSON(this.param) : this.param
      };
    }
  }], [{
    key: "fromJSON",
    value: function fromJSON(schema, json) {
      var impl = steps[json.name];
      return new Step(json.name, json.from && _model.Pos.fromJSON(json.from), json.to && _model.Pos.fromJSON(json.to), json.pos && _model.Pos.fromJSON(json.pos), impl.paramFromJSON ? impl.paramFromJSON(schema, json.param) : json.param);
    }
  }]);

  return Step;
})();

exports.Step = Step;

var steps = Object.create(null);

function defineStep(name, impl) {
  steps[name] = impl;
}

},{"../model":25}],44:[function(require,module,exports){
"use strict";

var _model = require("../model");

var _transform = require("./transform");

var _step = require("./step");

var _tree = require("./tree");

(0, _step.defineStep)("addStyle", {
  apply: function apply(doc, step) {
    return new _transform.TransformResult((0, _tree.copyStructure)(doc, step.from, step.to, function (node, from, to) {
      if (!node.type.canContainStyle(step.param)) return node;
      return (0, _tree.copyInline)(node, from, to, function (node) {
        return node.styled(step.param.addToSet(node.styles));
      });
    }));
  },
  invert: function invert(step, _oldDoc, map) {
    return new _step.Step("removeStyle", step.from, map.map(step.to).pos, null, step.param);
  },
  paramToJSON: function paramToJSON(param) {
    return param.toJSON();
  },
  paramFromJSON: function paramFromJSON(schema, json) {
    return schema.styleFromJSON(json);
  }
});

_transform.Transform.prototype.addStyle = function (from, to, st) {
  var _this = this;

  var removed = [],
      added = [],
      removing = null,
      adding = null;
  this.doc.inlineNodesBetween(from, to, function (span, start, end, path, parent) {
    if (st.isInSet(span.styles) || !parent.type.canContainStyle(st.type)) {
      adding = removing = null;
    } else {
      path = path.slice();
      var rm = (0, _model.containsStyle)(span.styles, st.type);
      if (rm) {
        if (removing && removing.param.eq(rm)) {
          removing.to = new _model.Pos(path, end);
        } else {
          removing = new _step.Step("removeStyle", new _model.Pos(path, start), new _model.Pos(path, end), null, rm);
          removed.push(removing);
        }
      } else if (removing) {
        removing = null;
      }
      if (adding) {
        adding.to = new _model.Pos(path, end);
      } else {
        adding = new _step.Step("addStyle", new _model.Pos(path, start), new _model.Pos(path, end), null, st);
        added.push(adding);
      }
    }
  });
  removed.forEach(function (s) {
    return _this.step(s);
  });
  added.forEach(function (s) {
    return _this.step(s);
  });
  return this;
};

(0, _step.defineStep)("removeStyle", {
  apply: function apply(doc, step) {
    return new _transform.TransformResult((0, _tree.copyStructure)(doc, step.from, step.to, function (node, from, to) {
      return (0, _tree.copyInline)(node, from, to, function (node) {
        return node.styled(step.param.removeFromSet(node.styles));
      });
    }));
  },
  invert: function invert(step, _oldDoc, map) {
    return new _step.Step("addStyle", step.from, map.map(step.to).pos, null, step.param);
  },
  paramToJSON: function paramToJSON(param) {
    return param.toJSON();
  },
  paramFromJSON: function paramFromJSON(schema, json) {
    return schema.styleFromJSON(json);
  }
});

_transform.Transform.prototype.removeStyle = function (from, to) {
  var _this2 = this;

  var st = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

  var matched = [],
      step = 0;
  this.doc.inlineNodesBetween(from, to, function (span, start, end, path) {
    step++;
    var toRemove = null;
    if (st instanceof _model.StyleType) {
      var found = (0, _model.containsStyle)(span.styles, st);
      if (found) toRemove = [found];
    } else if (st) {
      if (st.isInSet(span.styles)) toRemove = [st];
    } else {
      toRemove = span.styles;
    }
    if (toRemove && toRemove.length) {
      path = path.slice();
      for (var i = 0; i < toRemove.length; i++) {
        var rm = toRemove[i],
            found = undefined;
        for (var j = 0; j < matched.length; j++) {
          var m = matched[j];
          if (m.step == step - 1 && rm.eq(matched[j].style)) found = m;
        }
        if (found) {
          found.to = new _model.Pos(path, end);
          found.step = step;
        } else {
          matched.push({ style: rm, from: new _model.Pos(path, start), to: new _model.Pos(path, end), step: step });
        }
      }
    }
  });
  matched.forEach(function (m) {
    return _this2.step("removeStyle", m.from, m.to, null, m.style);
  });
  return this;
};

_transform.Transform.prototype.clearMarkup = function (from, to, newParent) {
  var _this3 = this;

  var delSteps = []; // Must be accumulated and applied in inverse order
  this.doc.inlineNodesBetween(from, to, function (span, start, end, path) {
    if (newParent ? !newParent.canContainType(span.type) : !span.isText) {
      path = path.slice();
      var _from = new _model.Pos(path, start);
      delSteps.push(new _step.Step("replace", _from, new _model.Pos(path, end), _from));
      return;
    }
    for (var i = 0; i < span.styles.length; i++) {
      var st = span.styles[i];
      if (!newParent || !newParent.canContainStyle(st.type)) {
        path = path.slice();
        _this3.step("removeStyle", new _model.Pos(path, start), new _model.Pos(path, end), null, st);
      }
    }
  });
  for (var i = delSteps.length - 1; i >= 0; i--) {
    this.step(delSteps[i]);
  }return this;
};

},{"../model":25,"./step":43,"./transform":45,"./tree":46}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var _step2 = require("./step");

var _map = require("./map");

var TransformResult = function TransformResult(doc) {
  var map = arguments.length <= 1 || arguments[1] === undefined ? _map.nullMap : arguments[1];

  _classCallCheck(this, TransformResult);

  this.doc = doc;
  this.map = map;
};

exports.TransformResult = TransformResult;

var Transform = (function () {
  function Transform(doc) {
    _classCallCheck(this, Transform);

    this.docs = [doc];
    this.steps = [];
    this.maps = [];
  }

  _createClass(Transform, [{
    key: "step",
    value: function step(_step, from, to, pos, param) {
      if (typeof _step == "string") _step = new _step2.Step(_step, from, to, pos, param);
      var result = _step.apply(this.doc);
      if (result) {
        this.steps.push(_step);
        this.maps.push(result.map);
        this.docs.push(result.doc);
      }
      return result;
    }
  }, {
    key: "map",
    value: function map(pos, bias) {
      var deleted = false;
      for (var i = 0; i < this.maps.length; i++) {
        var result = this.maps[i].map(pos, bias);
        pos = result.pos;
        if (result.deleted) deleted = true;
      }
      return new _map.MapResult(pos, deleted);
    }
  }, {
    key: "doc",
    get: function get() {
      return this.docs[this.docs.length - 1];
    }
  }, {
    key: "before",
    get: function get() {
      return this.docs[0];
    }
  }]);

  return Transform;
})();

exports.Transform = Transform;

},{"./map":40,"./step":43}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.copyStructure = copyStructure;
exports.copyInline = copyInline;
exports.isFlatRange = isFlatRange;
exports.replaceHasEffect = replaceHasEffect;
exports.samePathDepth = samePathDepth;

function copyStructure(node, from, to, f) {
  var depth = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];

  if (node.isTextblock) {
    return f(node, from, to);
  } else {
    if (!node.length) return node;
    var start = from ? from.path[depth] : 0;
    var end = to ? to.path[depth] : node.length - 1;
    var content = node.slice(0, start);
    if (start == end) {
      content.push(copyStructure(node.child(start), from, to, f, depth + 1));
    } else {
      content.push(copyStructure(node.child(start), from, null, f, depth + 1));
      for (var i = start + 1; i < end; i++) {
        content.push(copyStructure(node.child(i), null, null, f, depth + 1));
      }content.push(copyStructure(node.child(end), null, to, f, depth + 1));
    }
    for (var i = end + 1; i < node.length; i++) {
      content.push(node.child(i));
    }return node.copy(content);
  }
}

function copyInline(node, from, to, f) {
  var start = from ? from.offset : 0;
  var end = to ? to.offset : node.maxOffset;
  var copied = node.slice(0, start).concat(node.slice(start, end).map(f)).concat(node.slice(end));
  for (var i = copied.length - 2; i >= 0; i--) {
    var merged = copied[i].maybeMerge(copied[i + 1]);
    if (merged) copied.splice(i, 2, merged);
  }
  return node.copy(copied);
}

function isFlatRange(from, to) {
  if (from.path.length != to.path.length) return false;
  for (var i = 0; i < from.path.length; i++) {
    if (from.path[i] != to.path[i]) return false;
  }return from.offset <= to.offset;
}

function canBeJoined(node, offset, depth) {
  if (!depth || offset == 0 || offset == node.length) return false;
  var left = node.child(offset - 1),
      right = node.child(offset);
  return left.sameMarkup(right);
}

function replaceHasEffect(doc, from, to) {
  for (var depth = 0, node = doc;; depth++) {
    var fromEnd = depth == from.depth,
        toEnd = depth == to.depth;
    if (fromEnd || toEnd || from.path[depth] != to.path[depth]) {
      var gapStart = undefined,
          gapEnd = undefined;
      if (fromEnd) {
        gapStart = from.offset;
      } else {
        gapStart = from.path[depth] + 1;
        for (var i = depth + 1, n = node.child(gapStart - 1); i <= from.path.length; i++) {
          if (i == from.path.length) {
            if (from.offset < n.maxOffset) return true;
          } else {
            if (from.path[i] + 1 < n.maxOffset) return true;
            n = n.child(from.path[i]);
          }
        }
      }
      if (toEnd) {
        gapEnd = to.offset;
      } else {
        gapEnd = to.path[depth];
        for (var i = depth + 1; i <= to.path.length; i++) {
          if ((i == to.path.length ? to.offset : to.path[i]) > 0) return true;
        }
      }
      if (gapStart != gapEnd) return true;
      return canBeJoined(node, gapStart, Math.min(from.depth, to.depth) - depth);
    } else {
      node = node.child(from.path[depth]);
    }
  }
}

function samePathDepth(a, b) {
  for (var i = 0;; i++) {
    if (i == a.path.length || i == b.path.length || a.path[i] != b.path[i]) return i;
  }
}

},{}],47:[function(require,module,exports){
// FIXME move this into core

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Debounced = (function () {
  function Debounced(pm, delay, f) {
    _classCallCheck(this, Debounced);

    this.pm = pm;
    this.delay = delay;
    this.scheduled = null;
    this.f = f;
    this.pending = null;
  }

  _createClass(Debounced, [{
    key: "trigger",
    value: function trigger() {
      var _this = this;

      window.clearTimeout(this.scheduled);
      this.scheduled = window.setTimeout(function () {
        return _this.fire();
      }, this.delay);
    }
  }, {
    key: "fire",
    value: function fire() {
      var _this2 = this;

      if (!this.pending) {
        if (this.pm.operation) this.pm.on("flush", this.pending = function () {
          _this2.pm.off("flush", _this2.pending);
          _this2.pending = null;
          _this2.f();
        });else this.f();
      }
    }
  }, {
    key: "clear",
    value: function clear() {
      window.clearTimeout(this.scheduled);
    }
  }]);

  return Debounced;
})();

exports.Debounced = Debounced;

},{}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

var _get = function get(_x, _x2, _x3) {
  var _again = true;_function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;_again = false;if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);if (parent === null) {
        return undefined;
      } else {
        _x = parent;_x2 = property;_x3 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var ProseMirrorError = (function (_Error) {
  _inherits(ProseMirrorError, _Error);

  function ProseMirrorError(message) {
    _classCallCheck(this, ProseMirrorError);

    _get(Object.getPrototypeOf(ProseMirrorError.prototype), "constructor", this).call(this, message);
    if (this.message != message) {
      this.message = message;
      if (Error.captureStackTrace) Error.captureStackTrace(this, this.name);else this.stack = new Error(message).stack;
    }
  }

  _createClass(ProseMirrorError, [{
    key: "name",
    get: function get() {
      return this.constructor.name || functionName(this.constructor) || "ProseMirrorError";
    }
  }], [{
    key: "raise",
    value: function raise(message) {
      throw new this(message);
    }
  }]);

  return ProseMirrorError;
})(Error);

exports.ProseMirrorError = ProseMirrorError;

function functionName(f) {
  var match = /^function (\w+)/.exec(f.toString());
  return match && match[1];
}

},{}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
})();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var Map = window.Map || (function () {
  function _class() {
    _classCallCheck(this, _class);

    this.content = [];
  }

  _createClass(_class, [{
    key: "set",
    value: function set(key, value) {
      var found = this.find(key);
      if (found > -1) this.content[found + 1] = value;else this.content.push(key, value);
    }
  }, {
    key: "get",
    value: function get(key) {
      var found = this.find(key);
      return found == -1 ? undefined : this.content[found + 1];
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.find(key) > -1;
    }
  }, {
    key: "find",
    value: function find(key) {
      for (var i = 0; i < this.content.length; i += 2) {
        if (this.content[i] === key) return i;
      }
    }
  }, {
    key: "clear",
    value: function clear() {
      this.content.length = 0;
    }
  }, {
    key: "size",
    get: function get() {
      return this.content.length / 2;
    }
  }]);

  return _class;
})();
exports.Map = Map;

},{}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = sortedInsert;

function sortedInsert(array, elt, compare) {
  var i = 0;
  for (; i < array.length; i++) if (compare(array[i], elt) > 0) break;
  array.splice(i, 0, elt);
}

module.exports = exports["default"];

},{}],51:[function(require,module,exports){
"use strict";

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _distEdit = require("../dist/edit");

var _distModel = require("../dist/model");

var _distDom = require("../dist/dom");

var _distMenuTooltip = require("../dist/menu/tooltip");

var _distMenuMenubar = require("../dist/menu/menubar");

require("../dist/inputrules/autoinput");

var _distUtilSortedinsert = require("../dist/util/sortedinsert");

var _distUtilSortedinsert2 = _interopRequireDefault(_distUtilSortedinsert);

var _distEditCommands = require("../dist/edit/commands");

var _distEditCommands2 = _interopRequireDefault(_distEditCommands);

var defW = "200";
var defH = "200";
var quadratic = "x={-b\\pm\\sqrt{b^2-4ac} \\over 2a}";
/*
 * IFrame section
 */

var IFrame = (function (_Block) {
  _inherits(IFrame, _Block);

  function IFrame() {
    _classCallCheck(this, IFrame);

    _get(Object.getPrototypeOf(IFrame.prototype), "constructor", this).apply(this, arguments);
  }

  return IFrame;
})(_distModel.Block);

IFrame.attributes = {
  src: new _distModel.Attribute({ "default": "" }),
  width: new _distModel.Attribute({ "default": defW }),
  height: new _distModel.Attribute({ "default": defH }),
  frameborder: new _distModel.Attribute({ "default": "1" }),
  allowfullscreen: new _distModel.Attribute({ "default": "1" }),
  content: new _distModel.Attribute({ "default": "text/html;charset=UTF-8" })
};

IFrame.register("parseDOM", {
  tag: "iframe",
  rank: 25,
  parse: function parse(dom, context, nodeType) {
    var src = dom.querySelector("iframe").src;
    if (!src) return false;
    context.insert(nodeType.create(IFrame.attributes));
  }
});

IFrame.prototype.serializeDOM = function (node) {
  var dom = (0, _distDom.elt)("iframe", {
    "src": node.attrs.src,
    "width": node.attrs.width,
    "height": node.attrs.height,
    "content": "text/html;charset=UTF-8",
    "frameborder": "1",
    "allowfullscreen": "1"
  });
  dom.addEventListener("mousedown", function (e) {
    console.log(dom);
    e.preventDefault();e.stopPropagation();
  });
  return dom;
};

var InlineMath = (function (_Inline) {
  _inherits(InlineMath, _Inline);

  function InlineMath() {
    _classCallCheck(this, InlineMath);

    _get(Object.getPrototypeOf(InlineMath.prototype), "constructor", this).apply(this, arguments);
  }

  return InlineMath;
})(_distModel.Inline);

InlineMath.attributes = {
  tex: new _distModel.Attribute({ "default": "?" })
};

InlineMath.register("parseDOM", {
  tag: "span",
  rank: 40,
  parse: function parse(dom, context, type, attrs) {
    var inlineMath = dom.classList.contains('inlinemath');
    if (!inlineMath) return false;
    context.insertFrom(dom, type, attrs);
  }
});

InlineMath.prototype.serializeDOM = function (node) {
  var dom = (0, _distDom.elt)("span", { "class": "inlinemath" }, " \\(" + node.attrs.tex + "\\) ");
  if (node.rendered) {
    node.rendered = node.rendered.cloneNode(true);
  } else {
    node.rendered = dom;
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, dom]);
  }
  dom.addEventListener("mousedown", function (e) {
    console.log(dom);
    e.preventDefault();e.stopPropagation();
  });
  return node.rendered;
};

var BlockMath = (function (_Block2) {
  _inherits(BlockMath, _Block2);

  function BlockMath() {
    _classCallCheck(this, BlockMath);

    _get(Object.getPrototypeOf(BlockMath.prototype), "constructor", this).apply(this, arguments);
  }

  return BlockMath;
})(_distModel.Block);

BlockMath.attributes = {
  rendered: new _distModel.Attribute({ "default": false })
};

BlockMath.register("parseDOM", {
  tag: "div",
  rank: 25,
  parse: function parse(dom, context, type, attrs) {
    var blockMath = dom.classList.contains('blockmath');
    if (!blockMath) return false;
    context.insertFrom(dom, type, attrs);
  }
});

BlockMath.prototype.serializeDOM = function (node) {
  var dom = (0, _distDom.elt)("div", { "class": "blockmath" }, "\\[ " + quadratic + " \\]");
  if (!node.rendered) {
    node.rendered = dom;
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, dom]);
  }
  return node.rendered;
};

var Insert = (function (_Block3) {
  _inherits(Insert, _Block3);

  function Insert() {
    _classCallCheck(this, Insert);

    _get(Object.getPrototypeOf(Insert.prototype), "constructor", this).apply(this, arguments);
  }

  return Insert;
})(_distModel.Block);

var insertTypes = ["Insert...", "IFrame", "InlineMath", "BlockMath"].map(function (name) {
  return { label: name, value: name, rank: 99 };
});
Insert.prototype.insertTypes = insertTypes;
var insertSchema = new _distModel.Schema(_distModel.defaultSchema.spec.updateNodes({
  Insert: Insert,
  IFrame: IFrame,
  InlineMath: InlineMath,
  BlockMath: BlockMath
}));

function insertTypeCommand(type, params, attrs) {
  if (!params) params = {};
  if (!attrs) attrs = {};
  type.attachCommand("make" + type.label, function (nodeType) {
    return {
      params: params,
      exec: function exec(pm, params) {
        console("exec " + type.label);
      },
      run: function run(pm, params) {
        console("run " + type.label);
      },
      select: function select(pm) {
        var can = pm.doc.path(pm.selection.from.path).type.canContainType(nodeType);
        console.log(type.label + can);
        return can;
      }
    };
  });
}

insertTypeCommand(IFrame, [{ name: "Link (youTube, Google Maps ...)",
  type: "text",
  "default": ""
}], {});

insertTypeCommand(InlineMath, [{ name: "Latex expression",
  type: "text",
  "default": ""
}], {});

insertTypeCommand(BlockMath, [{ src: "Website URL",
  type: "text",
  "default": ""
}], {});

Insert.attachCommand("selectInsert", function (type) {
  return {
    label: "Insert",
    run: function run(pm, type) {
      if (type == "Insert...") return false;
      var insertType = pm.schema.nodes[type];
      var dom = insertType.create();
      return pm.tr.replaceSelection(dom).apply();
    },
    params: [{ name: "Type", type: "select", options: insertTypes, defaultLabel: "Insert..." }],
    select: function select(pm) {
      return true;
    },
    display: "select",
    menuGroup: "block", menuRank: 99
  };
});

function insertParamHandler(pm, command, callback) {
  var tooltip = new _distMenuTooltip.Tooltip(pm, "center");
  console.log(tooltip);
  tooltip.open(paramForm(pm, command, function (params) {
    pm.focus();
    tooltip.close();
    callback(params);
  }));
}

(0, _distEdit.defineParamHandler)("insertHandler", insertParamHandler);
(0, _distEdit.defineOption)("commandParamHandler", "insertHandler", false, false);

var pm = window.insertPM = new _distEdit.ProseMirror({
  place: document.querySelector("#editor"),
  menuBar: true,
  doc: document.querySelector("#content").innerHTML,
  docFormat: "html",
  schema: insertSchema,
  autoInput: true
});

},{"../dist/dom":1,"../dist/edit":10,"../dist/edit/commands":4,"../dist/inputrules/autoinput":17,"../dist/menu/menubar":21,"../dist/menu/tooltip":22,"../dist/model":25,"../dist/util/sortedinsert":50}]},{},[51])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2RvbS9pbmRleC5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L2NhcHR1cmVrZXlzLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvY2hhci5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L2NvbW1hbmRzLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvY3NzLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvZG9tY2hhbmdlLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvZHJhdy5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L2V2ZW50LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvaGlzdG9yeS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L2luZGV4LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvaW5wdXQuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvZWRpdC9rZXlzLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L2VkaXQvbWFpbi5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L29wdGlvbnMuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvZWRpdC9yYW5nZS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9lZGl0L3NlbGVjdGlvbi5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9pbnB1dHJ1bGVzL2F1dG9pbnB1dC5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9pbnB1dHJ1bGVzL2lucHV0cnVsZXMuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvbWVudS9pY29ucy5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9tZW51L21lbnUuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvbWVudS9tZW51YmFyLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L21lbnUvdG9vbHRpcC5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9tb2RlbC9kZWZhdWx0c2NoZW1hLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L21vZGVsL2RpZmYuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvbW9kZWwvaW5kZXguanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvbW9kZWwvbm9kZS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9tb2RlbC9wb3MuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvbW9kZWwvc2NoZW1hLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L21vZGVsL3NsaWNlLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L21vZGVsL3N0eWxlLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3BhcnNlL2RvbS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9wYXJzZS9pbmRleC5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC9wYXJzZS90ZXh0LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3NlcmlhbGl6ZS9kb20uanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3Qvc2VyaWFsaXplL2luZGV4LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3NlcmlhbGl6ZS90ZXh0LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3RyYW5zZm9ybS9hbmNlc3Rvci5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC90cmFuc2Zvcm0vaW5kZXguanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdHJhbnNmb3JtL2pvaW4uanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdHJhbnNmb3JtL21hcC5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC90cmFuc2Zvcm0vcmVwbGFjZS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC90cmFuc2Zvcm0vc3BsaXQuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdHJhbnNmb3JtL3N0ZXAuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdHJhbnNmb3JtL3N0eWxlLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3RyYW5zZm9ybS90cmFuc2Zvcm0uanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdHJhbnNmb3JtL3RyZWUuanMiLCJDOi9Vc2Vycy9wYm95c2VuL25vZGUvbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yL2Rpc3QvdXRpbC9kZWJvdW5jZS5qcyIsIkM6L1VzZXJzL3Bib3lzZW4vbm9kZS9ub2RlX21vZHVsZXMvcHJvc2VtaXJyb3IvZGlzdC91dGlsL2Vycm9yLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3V0aWwvbWFwLmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci9kaXN0L3V0aWwvc29ydGVkaW5zZXJ0LmpzIiwiQzovVXNlcnMvcGJveXNlbi9ub2RlL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci90cy90cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLFlBQVksQ0FBQzs7QUFFYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUU7QUFDM0MsT0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDLENBQUM7QUFDSCxPQUFPLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNsQixPQUFPLENBQUMscUJBQXFCLEdBQUcscUJBQXFCLENBQUM7QUFDdEQsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDMUIsT0FBTyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDNUIsT0FBTyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDNUIsT0FBTyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7O0FBRTlCLFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDdkIsTUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QyxNQUFJLEtBQUssRUFBRSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssRUFBRTtBQUNsQyxRQUFJLEtBQUssSUFBSSxPQUFPLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0dBQ25JOztBQUVELE9BQUssSUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMs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R0FBRyxFQUFFLENBQUMsRUFBRTtBQUFFLFFBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxBQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxBQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxBQUFDLElBQUksRUFBRSxHQUFHLFNBQVMsQ0FBQyxBQUFDLElBQUk7QUFBRSxXQUFLLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFBLENBQUUsSUFBSSxDQUFBLEFBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFO0FBQUUsWUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQUFBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxNQUFNO09BQUU7S0FBRSxDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQUUsUUFBRSxHQUFHLElBQUksQ0FBQyxBQUFDLEVBQUUsR0FBRyxHQUFHLENBQUM7S0FBRSxTQUFTO0FBQUUsVUFBSTtBQUFFLFlBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO09BQUUsU0FBUztBQUFFLFlBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDO09BQUU7S0FBRSxBQUFDLE9BQU8sSUFBSSxDQUFDO0dBQUUsQUFBQyxPQUFPLFVBQVUsR0FBRyxFQUFFLENBQUMsRUFBRTtBQUFFLFFBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUFFLGFBQU8sR0FBRyxDQUFDO0tBQUUsTUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQUUsYUFBTyxhQUFhLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQUUs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RyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMzQyxRQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDM0MsUUFBSSxTQUFTLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFO0FBQ2xGLFVBQUksV0FBVyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN2RSxVQUFJLFNBQVMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxFQUFFLFdBQVcsRUFBRSxDQUFDO0FBQ2hELFVBQUksU0FBUyxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbkUsVUFBSSxLQUFLLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDO0FBQ3RELFVBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUEsQ0FBRSxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFO0FBQ3hFLFlBQUksRUFBRSxXQUFXO0FBQ2pCLFVBQUUsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQSxBQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzNELFlBQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FB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QyxZQUFZLENBQUM7QUFDN0IsTUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ3ZDLFFBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxTQUFTO1FBQ3ZCLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVztRQUN4QixJQUFJLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztBQUMzQixRQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDNUcsV0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQztHQUNsRTs7QUFFRCxNQUFJLFVBQVUsR0FBRyxJQUFJO01BQ2pCLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDckIsTUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMxRSxTQUFPLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDbkQsTUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7QUFDbEMsUUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUM3QixjQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztBQUMxQixRQUFJLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksRUFBRSxVQUFVLElBQUksSUFB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QUMsQUFBQyxTQUFTLEVBQUUsT0FBTyxNQUFNLEVBQUU7QUFBRSxRQUFJLE1BQU0sR0FBRyxHQUFHO1FBQUUsUUFBUSxHQUFHLEdBQUc7UUFBRSxRQUFRLEdBQUcsR0FBRyxDQUFDLEFBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxBQUFDLElBQUksTUFBTSxLQUFLLElBQUksRUFBRSxNQUFNLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxBQUFDLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUMsQUFBQyxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7QUFBRSxVQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEFBQUMsSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFO0FBQUUsZUFBTyxTQUFTLENBQUM7T0FBRSxNQUFNO0FBQUUsV0FBRyxHQUFHLE1BQU0sQ0FBQyxBQUFDLEdBQUcsR0FBRyxRQUFRLENBQUMsQUFBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLEFBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxBQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDLEFBQUMsU0FBUyxTQUFTLENBQUM7T0FBRTtLQUFFLE1BQU0sSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO0FBQUUsYUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0tBQUUsTUFBTTtBQUFFLFVBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQUFBQyxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7QUFBRSxlQUFPLFNBQVMsQ0FBQztPQUFFLEFBQUMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQUU7R0FBRTtDQUFFLENBQUM7O0FBRXJwQixJQUFJLFlBQVksR0FBRyxDQUFDLFlBQVk7QUFBRSxXQUFTLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7QUFBRSxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMs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LENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztPQUN0SDtLQUNGO0dBQ0YsQ0FBQyxDQUFDLENBQUM7O0FBRUosU0FBTyxZQUFZLENBQUM7Q0FDckIsQ0FBQSxFQUFHLENBQUM7OztBQzNMTCxZQUFZLENBQUM7O0FBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0FBQzNDLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFDOztBQUVILElBQUksY0FBYyxHQUFHLENBQUMsWUFBWTtBQUFFLFdBQVMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUU7QUFBRSxRQUFJLElBQUksR0FBRyxFQUFFLENBQUMsQUFBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQUFBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQUFBQyxJQUFJLEVBQUUsR0FBRyxTQUFTLENBQUMsQUFBQyxJQUFJO0FBQUUsV0FBSyxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxDQUFFLElBQUksQ0FBQSxBQUFDLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRTtBQUFFLFlBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEFBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsTUFBTTtPQUFFO0tBQUUsQ0FBQyxPQUFPLEdBQUcsRUFBRTtBQUFFLFFBQUUsR0FBRyxJQUFJLENBQUMsQUFBQyxFQUFFLEdBQUcsR0FBRyxDQUFDO0tBQUUsU0FBUztBQUFFLFVBQUk7QUFBRSxZQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztPQUFFLFNBQVM7QUFBRSxZQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQztPQUFFO0tBQUUsQUFBQyxPQUFPLElBQUksQ0FBQztHQUFFLEFBQUMsT0FBTyxVQUFVLEdBQUcsRUFBRSxDQUFDLEVBQUU7QUFBRSxRQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsQ0FBQztLQUFFLE1BQU0sSUFBSSxNQUFNLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUFFLGFBQU8sYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUFFLE1BQU07QUFBRSxZQUFNLElBQUksU0FBUyxDQUFDLHNEQUFzRCxDQUFDLENBQUM7S0FBRTtHQUFFLENBQUM7Q0FBRSxDQUFBLEVBQUcsQ0FBQzs7QUFFMXBCLElBQUksSUFBSSxHQUFHLFNBQVMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQUUsTUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEFBQUMsU0FBUyxFQUFFLE9BQU8sTUFBTSxFQUFFO0FBQUUsUUFBSSxNQUFNLEdBQUcsRUFBRTtRQUFFLFFBQVEsR0FBRyxHQUFHO1FBQUUsUUFBUSxHQUFHLEdBQUcsQ0FBQyxBQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsQUFBQyxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUUsTUFBTSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQUFBQyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsd0JBQXdCLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEFBQUMsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO0FBQUUsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxBQUFDLElBQUksTUFBTSxLQUFLLElBQUksRUFBRTtBQUFFLGVBQU8sU0FBUyxDQUFDO09BQUUsTUFBTTtBQUFFLFVBQUUsR0FBRyxNQUFNLENBQUMsQUFBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLEFBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxBQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFBQyxJQUFJLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQyxBQUFDLFNBQVMsU0FBUyxDQUFDO09BQUU7S0FBRSxNQUFNLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUFFLGFBQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztLQUFFLE1BQU07QUFBRSxVQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO0FBQUUsZUFBTyxTQUFTLENBQUM7T0FBRSxBQUFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUFFO0dBQUU7Q0FBRSxDQUFDOztBQUVscEIsSUFBSSxZQUFZLEdBQUcsQ0FBQyxZQUFZO0FBQUUsV0FBUyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQUUsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFBRSxVQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQUFBQyxVQUFVLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLEFBQUMsVUFBVSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsQUFBQyxJQUFJLE9BQU8sSUFBSSxVQUFVLEVBQUUsVUFBVSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsQUFBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0tBQUU7R0FBRSxBQUFDLE9BQU8sVUFBVSxXQUFXLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRTtBQUFFLFFBQUksVUFBVSxFQUFFLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxT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QUMsV0FBVyxDQUFDLENBQUEsQUFBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBLEFBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxLQUFLLENBQUM7Q0FDL007O0FBRUQsU0FBUyxRQUFRLENBQUMsRUFBRSxFQUFFO0FBQ3BCLE1BQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUNoQyxTQUFPLEdBQUcsQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQSxDQUFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0NBQ3pFOzs7Ozs7Ozs7Ozs7QUFZRCxTQUFTLFdBQVcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFO0FBQy9CLE1BQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDckUsTUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUEsQ0FBRSxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLE9BQU8sSUFBSSxDQUFDOztBQUUxRCxNQUFJLE1BQU0sR0FBRyxTQUFTLENBQUM7QUFDdkIsTUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ3RFLFdBQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQzdCLFVBQU0sR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FDNUMsTUFBTTtBQUNMLFVBQU0sR0FBRyxlQUFlLENBQUMsT0FBTyxFQUFF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Q0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsWUFBWSxDQUFDO0FBQ3BLLFFBQUksS0FBSyxJQUFJLEtBQUssRUFBRTtBQUNsQixVQUFJLE1BQU0sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztLQUMzQyxNQUFNO0FBQ0wsVUFBSSxLQUFLLEVBQUUsUUFBUSxDQUFDLFNBQVMsSUFBSSxLQUFLLENBQUM7QUFDdkMsVUFBSSxLQUFLLEVBQUUsUUFBUSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUM7S0FDekM7QUFDRCxRQUFJLE1BQU0sRUFBRSxNQUFNO0dBQ25CO0NBQ0Y7O0FBRUQsU0FBUyxhQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDNUMsTUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNuQixNQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDOztBQUVwQixNQUFJLElBQUksR0FBRyxHQUFHO01BQ1YsSUFBSSxHQUFHLEdBQUc7TUFDVixNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDckMsUUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLFNBQVM7QUFDL0MsUUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxL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QUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUU7QUFDN1EsYUFBVyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUM7Q0FDcEMsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7QUFDcEUsTUFBSSxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEIsYUFBVyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsY0FBYyxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssSUFBSSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLFVBQVUsSUFBSSxFQUFFO0FBQzFGLFdBQU8sSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUEsQUFBQyxJQUFJLEtBQUssQ0FBQztHQUN2RCxDQUFDLENBQUM7Q0FDSixDQUFDLEVBQUUsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUN2RSxNQUFJLE1BQU0sR0FBRyxLQUFL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QVMsQ0FBQztTQUN2QztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUNsQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLE9BQU8sQ0FBQztTQUNyQztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRTtBQUNwQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLFNBQVMsQ0FBQztTQUN2QztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUNoQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLEtBQUssQ0FBQztTQUNuQztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRTtBQUNwQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLFNBQVMsQ0FBQztTQUN2QztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRTtBQUNwQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLFNBQVMsQ0FBQztTQUN2QztDQUNSLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUNsQyxrQkFBVSxFQUFFLElBQUk7QUFDaEIsV0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ1osdUJBQU8sY0FBYyxDQUFDLE9B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QUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxDQUFFLElBQUksQ0FBQSxBQUFDLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRTtBQUFFLFlBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEFBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsTUFBTTtPQUFFO0tBQUUsQ0FBQyxPQUFPLEdBQUcsRUFBRTtBQUFFLFFBQUUsR0FBRyxJQUFJLENBQUMsQUFBQyxFQUFFLEdBQUcsR0FBRyxDQUFDO0tBQUUsU0FBUztBQUFFLFVBQUk7QUFBRSxZQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztPQUFFLFNBQVM7QUFBRSxZQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQztPQUFFO0tBQUUsQUFBQyxPQUFPLElBQUksQ0FBQztHQUFFLEFBQUMsT0FBTyxVQUFVLEdBQUcsRUFBRSxDQUFDLEVBQUU7QUFBRSxRQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsQ0FBQztLQUFFLE1BQU0sSUFBSSxNQUFNLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUFFLGFBQU8sYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUFFLE1BQU07QUFBRSxZQUFNLElBQUksU0FBUyxDQUFDLHNEQUFzRCxDQUFDLENBQUM7S0FBRTtHQUFFLENBQUM7Q0FBRSxDQUFBLEVBQUcsQ0FBQzs7QUFFMXBCLElBQUksWUFBWSxHQUFHLENBQUMsWUFBWTtBQUFFLFdBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtBQUFFLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQUUsVUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEFBQUMsVUFBVSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxBQUFDLFVBQVUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEFBQUMsSUFBSSxPQUFPLElBQUksVUFBVSxFQUFFLFVBQVUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEFBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztLQUFFO0dBQUUsQUFBQyxPQUFPLFVBQVUsV0FBVyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUU7QUFBRSxRQUFJLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEFBQUMsSUFBSSxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFdBQVcsQ0FBQyxDQUFDLEFBQUMsT0FBTyxXQUFXLENBQUM7R0FBRSxDQUFDO0NBQUUsQ0FBQSxFQUFHLENBQUM7O0FBRXRqQixJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtBQUFFLE1BQUksTUFBTSxHQUFHLElBQUksQ0FBQyxBQUFDLFNBQVMsRUFBRSxPQUFPLE1BQU0sRUFBRTtBQUFFLFFBQUksTUFBTSxHQUFHLEdBQUc7UUFBRSxRQUFRLEdBQUcsR0FBRztRQUFFLFFBQVEsR0FBRyxHQUFHLENBQUMsQUFBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEFBQUMsSUFBSSxNQUFNLEtBQUssSUFBSSxFQUFFLE1BQU0sR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLEFBQUMsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFDLE1BQU0s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Q0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QyxZQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUMxQixNQUFNO0FBQ0wsWUFBTSxHQUFHLElBQUksQ0FBQztLQUNmO0FBQ0QsV0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUMzRixFQUFFLENBQUMsQ0FBQzs7QUFFUCxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDOztBQUVuRSxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtBQUMzRixRQUFJLEtBQUssR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ3RELFFBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztHQUNqQyxFQUFFLENBQUMsQ0FBQzs7QUFFUCxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDOztBQUVqRSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtBQUN6RixRQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7R0FDakcsRUFBRSxDQUFDLENBQUM7O0FBRVAsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDdEYsV0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFO0FBQzVCLFNBQUcsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztBQUM1QixXQUFLLEVBQUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJO0FBQ3hDLFNBQUcsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUk7S0FDckMsQ0FBQyxDQUFDO0dBQ0osRUFBRSxDQUFDLENBQUM7Ozs7QUFJUCxTQUFTLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUNuQyxNQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQ3pCLFNBQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQSxDQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6RCxTQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDckMsU0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7Q0FDdEI7O0FBRUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUU7QUFDekYsUUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQ3hCLFVBQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ3RGLEVBQUUsQ0FBQyxDQUFDOztBQUVQLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7QUFDakUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQzs7QUFFbEUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUNyRSxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDOztBQUUxRSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDOzs7QUNwVHRFLFlBQVksQ0FBQzs7QUFFYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUU7QUFDM0MsT0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDLENBQUM7QUFDSCxPQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztBQUNsQyxPQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztBQUNsQyxPQUFPLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztBQUNwQyxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVsQyxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUU7QUFDL0MsTUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2hDLE1BQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxNQUFNLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDNUUsU0FBTyxTQUFTLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztDQUN0Qzs7QUFFRCxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUU7QUFDM0IsU0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBQzFCOztBQUVELFNBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDbEMsU0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztDQUN4Qjs7QUFFRCxZQUFZLENBQUMsTUFBTSxFQUFFLFVBQVUsTUFBTSxFQUFFLElBQUksRUFBRTtBQUMzQyxTQUFPLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDbEMsQ0FBQyxDQUFDOzs7QUMxQkgsWUFBWSxDQUFDOztBQUViLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRTtBQUMzQyxPQUFLLEVBQUUsSUFBSTtDQUNaLENBQUMsQ0FBQztBQUNILE9BQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDOztBQUU1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7Ozs7O0FBS2hDLFNBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDOUIsTUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN6QyxNQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN0QyxRQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixRQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xDLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JDLFVBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0FBQzdDLFVBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2pEO0FBQ0QsU0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztHQUNuRDtBQUNELE1BQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ3hELFNBQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0NBQ3hDOztBQUVELENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUEsQ0FBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7OztBQzVCM0MsWUFBWSxDQUFDOztBQUViLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFlBQVksRUFBRTtBQUMzQyxPQUFLLEVBQUUsSUFBSTtDQUNaLENBQUMsQ0FBQztBQUNILE9BQU8sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ3RCLE9BQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLE9BQU8sQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDOztBQUUxQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRWpDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFaEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU3QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUM7Ozs7QUFJZixTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDbkIsTUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV0RixLQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQzFDLFNBQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7Q0FDNUM7O0FBRUQsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQSxDQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFdkMsU0FBUyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUM3QixNQUFJLElBQUksR0FBRyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUEsQ0FBRSxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakYsTUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDdkMsU0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0NBQ3ZCOztBQUVELENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUEsQ0FBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRXpDLFNBQVMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQzlDLE1BQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLE1BQUksT0FBTyxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDN0MsT0FBRyxHQUFHLGNBQWMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pDLE9BQUcsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUM7R0FDMUQ7QUFDRCxTQUFPLEdBQUcsQ0FBQztDQUNaOztBQUVELFNBQVMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO0FBQ2pDLE1BQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUEsQ0FBRSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoRCxNQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQyxLQUFLLG1CQUFtQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2xOLFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRUQsU0FBUyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQ3BCLFNBQU8sVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQzlCLFdBQU8sSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7R0FDbEMsQ0FBQztDQUNIOztBQUVELFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUU7QUFDbkMsTUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFDeEMsaUJBQWUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RDLFNBQU8sSUFBSSxDQUFDO0NBQ2I7O0FBRUQsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDekMsTUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELE9BQUssSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7QUFDaEMsUUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsUUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQ2hGO0FBQ0QsTUFBSSxPQUFPLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUM7QUFDdkYsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFRCxTQUFTLGVBQWUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5QyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNyQyxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkMsU0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3BELFFBQUksT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0dBQ3RDO0NBQ0Y7O0FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUNsRCxNQUFJLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFDaEIsTUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ2hCLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JDLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDZixNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUN6QixRQUFJLElBQUksR0FBRyxDQUFDLENBQUM7QUFDYixXQUFPLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLE1BQU07QUFDeEcsV0FBTyxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixZQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDYixTQUFHLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQztLQUN0QjtBQUNELFdBQU8sTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ3BDLFVBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDaEMsWUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQixTQUFHLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDbEQ7QUFDRCxPQUFHLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDL0M7Q0FDRjs7QUFFRCxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFO0FBQ3BDLE1BQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNwRCxPQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ2xDLFFBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLFFBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQzVFO0FBQ0QsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRTtBQUMxQyxNQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQ3pCLE9BQUssSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMzQyxRQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzVDLFNBQUssQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdkIsT0FBRyxHQUFHLEtBQUssQ0FBQztHQUNiO0FBQ0QsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFRCxTQUFTLHVCQUF1QixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO0FBQ3RELE1BQUksTUFBTSxHQUFHLENBQUMsQ0FBQztBQUNmLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3JDLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixRQUFJLEdBQUcsR0FBRyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RFLE9BQUcsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUM7QUFDekQsU0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QixVQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztHQUN2Qjs7QUFFRCxNQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFlBQVksRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUEsQ0FBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsZUFBZSxJQUFJLE9BQU8sRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztDQUNuUDs7OztBQUlELFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUU7QUFDeEIsS0FBRyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0NBQ3JDOztBQUVELEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDOztBQUU3QyxNQUFNLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7QUFDcEUsTUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0FBQ3RELE1BQUksTUFBTSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ25FLENBQUM7O0FBRUYsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0FBRXJDLEdBQUcsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLFVBQVUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUMvQyxNQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNwQyxNQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3RFLFNBQU8sR0FBRyxDQUFDO0NBQ1osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7QUFDM0csT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzlDLFFBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUIsUUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsU0FBUztBQUM3QyxRQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMscUJBQXFCLEVBQUUsQ0FBQztBQUM3QyxRQUFJLE1BQU0sQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFDakQsUUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLElBQUksUUFBUSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFLE9BQU8sSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztHQUNqRztDQUNGLENBQUM7O0FBRUYsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0FBRW5DLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLFlBQVk7QUFDckMsU0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFBLENBQUUsSUFBSSxDQUFDLENBQUM7Q0FDNUIsQ0FBQyxDQUFDOztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUVuQyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDM0MsU0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUNwRCxDQUFDLENBQUM7O0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQzdDLE1BQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZDLE1BQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDNUcsU0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFBLENBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztDQUN6QyxDQUFDLENBQUM7Ozs7QUFJSCxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLElBQUksRUFBRTtBQUMvQixTQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ3RDLENBQUMsQ0FBQzs7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLElBQUksRUFBRTtBQUNoQyxTQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUEsQ0FBRSxLQUFLLEVBQUU7QUFDMUIsT0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRztBQUNuQixPQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHO0FBQ25CLFNBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7QUFDdkIsbUJBQWUsRUFBRSxLQUFLO0dBQ3ZCLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQzs7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZO0FBQ2hDLFNBQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQSxDQUFFLElBQUksQ0FBQyxDQUFDO0NBQzVCLENBQUMsQ0FBQzs7OztBQUlILEdBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFlBQVk7QUFDOUIsU0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFBLENBQUUsSUFBSSxDQUFDLENBQUM7Q0FDNUIsQ0FBQyxDQUFDOztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLFlBQVk7QUFDbEMsU0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFBLENBQUUsUUFBUSxDQUFDLENBQUM7Q0FDaEMsQ0FBQyxDQUFDOztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVk7QUFDaEMsU0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFBLENBQUUsTUFBTSxDQUFDLENBQUM7Q0FDOUIsQ0FBQyxDQUFDOztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFVBQVUsS0FBSyxFQUFFO0FBQ3JDLE1BQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUEsQ0FBRSxHQUFHLENBQUMsQ0FBQztBQUM3QixLQUFHLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzNDLE1BQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNwRSxTQUFPLEdBQUcsQ0FBQztDQUNaLENBQUMsQ0FBQzs7O0FDN05ILFlBQVksQ0FBQzs7QUFFYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUU7QUFDM0MsT0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDLENBQUM7QUFDSCxPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUM5QixPQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztBQUNsQyxPQUFPLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztBQUNwQyxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUV0QyxTQUFTLFNBQVMsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUNuQyxNQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEMsTUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGdCQUFnQixHQUFHLE1BQU0sR0FBRyxjQUFjLENBQUMsQ0FBQztBQUM1RSxTQUFPLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7Q0FDNUI7O0FBRUQsU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQzNCLFNBQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUM5Qjs7QUFFRCxTQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQ2xDLGFBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7Q0FDNUI7O0FBRUQsWUFBWSxDQUFDLE1BQU0sRUFBRSxVQUFVLEdBQUcsRUFBRTtBQUNsQyxTQUFPLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztDQUNyQixDQUFDLENBQUM7OztBQzFCSCxZQUFZLENBQUM7O0FBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0FBQzNDLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFDO0FBQ0gsT0FBTyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7O0FBRXhCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFakMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDOztBQUVoQyxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDckQsTUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2YsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDcEMsUUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixTQUFLLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDMUM7QUFDRCxTQUFPLEtBQUssQ0FBQztDQUNkLENBQUM7O0FBRUYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFVBQVUsSUFBSSxFQUFFO0FBQ3pELE1BQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0RCxTQUFPLElBQUksSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDO0NBQzlCLENBQUM7O0FBRUYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFlBQVk7QUFDbEQsU0FBTyxFQUFFLENBQUM7Q0FDWCxDQUFDOztBQUVGLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBRyxZQUFZO0FBQ3JELFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDcEQsU0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0NBQ2xCLENBQUM7O0FBRUYsU0FBUyxNQUFNLENBQUMsR0FBRyxFQUFFO0FBQ25CLFNBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Q0FDM0M7O0FBRUQsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQSxDQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQzs7O0FDekN6QyxZQUFZLENBQUM7O0FBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0FBQzNDLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFDO0FBQ0gsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDMUIsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDMUIsT0FBTyxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQixDQUFDOztBQUVsRCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRWpDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQzs7QUFFeEMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU5QixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTlCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFNUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQSxDQUFFLFVBQVUsRUFBRTtBQUNoQyxPQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRTtBQUMvQixRQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSTtRQUNoQixFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNqQixRQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQSxDQUFFLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztBQUNuRCxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSTtRQUNwQixLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU07UUFDbkIsR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7QUFDcEIsUUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksQ0FBQztRQUM3QixRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQ3pDLFFBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2hDLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDOUIsVUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsSUFBSSxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztBQUN6RixXQUFLLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdEMsU0FBRyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDaEIsY0FBUSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDbkQ7QUFDRCxRQUFJLEtBQUssSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUM7O0FBRXBELFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzNCLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTTtRQUMxQixTQUFTLEdBQUcsU0FBUyxDQUFDO0FBQzFCLFFBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFDcEMsUUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQ25CLFVBQUksSUFBSSxHQUFHLENBQUMsWUFBWTtBQUN0QixZQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxZQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2xELFlBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQUU7QUFDdEUsaUJBQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU87QUFDbkYsV0FBQyxFQUFFLElBQUk7U0FDUixDQUFDO0FBQ0osWUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2hCLGFBQUssSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM3QyxjQUFJLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztTQUNsRCxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztPQUNoRCxDQUFBLEVBQUcsQ0FBQzs7QUFFTCxVQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7S0FDN0MsTUFBTTtBQUNMLFVBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQ2hKLGVBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ3ZEO0FBQ0QsUUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7O0FBRWhELFFBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUMvQixTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN4QyxhQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7S0FDN0IsSUFBSSxZQUFZLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN6RSxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDcEIsUUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQ2pFLFFBQUksS0FBSyxJQUFJLFFBQVEsQ0FBQyxNQUFNLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNoRSxVQUFJLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2hELFVBQUksU0FBUyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDO1VBQ3pDLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQztBQUMvRCxVQUFJLFVBQVUsR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBLEFBQUMsQ0FBQyxDQUFDO0FBQzFGLGNBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxZQUFZLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0tBQ25LO0FBQ0QsUUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO0FBQy9FLFFBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxZQUFZLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsRUFBRSxVQUFVLEdBQUcsR0FBRyxFQUFFLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsS0FBSyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsSyxXQUFPLElBQUksVUFBVSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0dBQy9FO0FBQ0QsUUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3pDLFFBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUNsQixRQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMvRCxVQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUUsY0FBUSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztLQUNsQztBQUNELFFBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNyQyxRQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQztBQUN4RSxXQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUM7QUFDbkgsY0FBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7R0FDekI7QUFDRCxhQUFXLEVBQUUsU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3ZDLFdBQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7QUFDekIsY0FBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUU7QUFDMUQsZUFBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7T0FDbkIsQ0FBQyxFQUFFLENBQUM7R0FDUjtBQUNELGVBQWEsRUFBRSxTQUFTLGFBQWEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQ2xELFdBQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7QUFDeEIsY0FBUSxFQUFFLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUM7R0FDdkU7Q0FDRixDQUFDLENBQUM7O0FBRUgsU0FBUyxXQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUMvQixNQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztNQUNyQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFdBQVM7QUFDUCxRQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFFckIsUUFBSSxLQUFLLEdBQUcsU0FBUixLQUFLLENBQWEsS0FBSyxFQUFFLENBQUMsRUFBRTtBQUM5QixVQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxLQUFLLEVBQUU7QUFDakMsZUFBTyxLQUFLLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO09BQzdDLENBQUMsRUFBRSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3BCLFdBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEMsYUFBTyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO0tBQzdCLENBQUM7O0FBRUYsU0FBSyxJQUFJLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzNELFdBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDaEI7QUFDRCxRQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDO0FBQzdGLFFBQUksTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLElBQUksQ0FBQztBQUMvQyxXQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9ELFVBQU0sR0FBRyxJQUFJLENBQUM7R0FDZjtDQUNGOztBQUVELFNBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFO0FBQzlCLE1BQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUEsQ0FBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQztBQUM1RCxNQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3BDLE1BQUksS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQztDQUNsRDs7QUFFRCxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDcEQsTUFBSSxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsR0FBRyxJQUFJLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25GLFNBQU8sQ0FBQyxZQUFZO0FBQ2xCLFFBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN0QyxRQUFJLENBQUMsR0FBRyxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQ3RCLFFBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7QUFDdEIsUUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQzs7QUFFdEIsUUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQ3ZELFFBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFL0QsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUU7QUFDcEMsVUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUU7QUFDL0MsWUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdkIsY0FBTTtPQUNQO0FBQ0QsVUFBSSxDQUFDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxNQUFNO0FBQzFCLFNBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM1QjtBQUNELFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxFQUFFO0FBQ3RDLFVBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7QUFDbEIsWUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzNCLFlBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLO1lBQ3BDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDNUQsZUFBTyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFELGFBQUssR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztBQUN6RyxjQUFNO09BQ1A7QUFDRCxVQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLE1BQU07QUFDMUIsU0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztLQUNyQjtBQUNELFFBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtBQUNoQixXQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUQsWUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUMvQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7QUFDZCxXQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN4RCxZQUFJLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7T0FDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDdEQsV0FBSyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUMxRSxRQUFFLEtBQUssQ0FBQztLQUNUO0FBQ0QsUUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQ3BFLFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQSxDQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7Q0FDM0IsQ0FBQzs7QUFFRixTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUU7QUFDcEMsTUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQSxDQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDO0FBQzVELE1BQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFDdEQsTUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLE1BQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuRCxNQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUUsTUFBSSxNQUFNLElBQUksTUFBTSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDO0NBQy9FOztBQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQzlELE1BQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUMsTUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPLElBQUksQ0FBQztBQUN0QixNQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO0FBQ3RCLE1BQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDeEIsTUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQzs7QUFFeEIsTUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNyQyxXQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQzdDLFdBQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQ2pDLENBQUMsQ0FBQyxDQUFDO0FBQ0osTUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQzFFLE1BQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNqQixRQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUN0QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMxRCxhQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUN6QyxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ2pFLFVBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDdkQ7R0FDRjtBQUNELFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQzs7QUFFRixTQUFTLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7QUFDdkQsTUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2xCLE1BQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUN2QixLQUFHLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLFVBQVUsSUFBSSxFQUFFO0FBQ2pELFFBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtBQUNwQixVQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLGFBQWEsQ0FBQSxDQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNqRixhQUFPLEtBQUssQ0FBQztLQUNkO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFRCxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBVSxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRTtBQUMxRSxNQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRWpCLE1BQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLFVBQVUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUM1RCxRQUFJLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ2xELFVBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7O0FBRXBCLFdBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEcsV0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2hKLGFBQU8sS0FBSyxDQUFDO0tBQ2Q7R0FDRixDQUFDLENBQUM7QUFDSCxTQUFPLElBQUksQ0FBQztDQUNiLENBQUM7OztBQzlPRixZQUFZLENBQUM7O0FBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0FBQzNDLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFDOztBQUVILE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFbkIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDOztBQUVuQixPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRXJCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQzs7QUFFeEMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUU7QUFDaEQsWUFBVSxFQUFFLElBQUk7QUFDaEIsS0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ2xCLFdBQU8sVUFBVSxDQUFDLGVBQWUsQ0FBQztHQUNuQztDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRTtBQUMxQyxZQUFVLEVBQUUsSUFBSTtBQUNoQixLQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDbEIsV0FBTyxVQUFVLENBQUMsU0FBUyxDQUFDO0dBQzdCO0NBQ0YsQ0FBQyxDQUFDOztBQUVILElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFOUIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQ3JDLFlBQVUsRUFBRSxJQUFJO0FBQ2hCLEtBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRztBQUNsQixXQUFPLEtBQUssQ0FBQyxJQUFJLENBQUM7R0FDbkI7Q0FDRixDQUFDLENBQUM7O0FBRUgsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUV0QyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUU7QUFDeEMsWUFBVSxFQUFFLElBQUk7QUFDaEIsS0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ2xCLFdBQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQztHQUMxQjtDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUN4QyxZQUFVLEVBQUUsSUFBSTtBQUNoQixLQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDbEIsV0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDO0dBQzFCO0NBQ0YsQ0FBQyxDQUFDO0FBQ0gsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUscUJBQXFCLEVBQUU7QUFDcEQsWUFBVSxFQUFFLElBQUk7QUFDaEIsS0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ2xCLFdBQU8sU0FBUyxDQUFDLG1CQUFtQixDQUFDO0dBQ3RDO0NBQ0YsQ0FBQyxDQUFDOztBQUVILElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFOUIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFO0FBQzFDLFlBQVUsRUFBRSxJQUFJO0FBQ2hCLEtBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRztBQUNsQixXQUFPLEtBQUssQ0FBQyxTQUFTLENBQUM7R0FDeEI7Q0FDRixDQUFDLENBQUM7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRTtBQUMvQyxZQUFVLEVBQUUsSUFBSTtBQUNoQixLQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDbEIsV0FBTyxLQUFLLENBQUMsY0FBYyxDQUFDO0dBQzdCO0NBQ0YsQ0FBQyxDQUFDOztBQUVILElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFNUIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFO0FBQ3ZDLFlBQVUsRUFBRSxJQUFJO0FBQ2hCLEtBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRztBQUNsQixXQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7R0FDcEI7Q0FDRixDQUFDLENBQUM7QUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUU7QUFDMUMsWUFBVSxFQUFFLElBQUk7QUFDaEIsS0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0FBQ2xCLFdBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztHQUN2QjtDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUN4QyxZQUFVLEVBQUUsSUFBSTtBQUNoQixLQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7QUFDbEIsV0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0dBQ3JCO0NBQ0YsQ0FBQyxDQUFDO0FBQ0gsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFO0FBQzFDLFlBQVUsRUFBRSxJQUFJO0FBQ2hCLEtBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRztBQUNsQixXQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7R0FDdkI7Q0FDRixDQUFDLENBQUM7OztBQ2pHSCxZQUFZLENBQUM7O0FBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0FBQzNDLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFDO0FBQ0gsT0FBTyxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7QUFDeEMsT0FBTyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7O0FBRTlCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFakMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDOztBQUV4QyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTlCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFNUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQSxDQUFFLE1BQU0sRUFBRTtBQUM1QixPQUFLLEVBQUUsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRTtBQUMvQixRQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEMsUUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLFFBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztBQUMzSCxRQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUk7UUFDdEIsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ3ZCLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQztRQUN2QixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM3QixRQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxNQUFNLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQ3hGLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0IsVUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sSUFBSSxDQUFDO0tBQ3JDLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzdCLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQzVCLFFBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFDcEMsUUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDM0MsUUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRXhGLFFBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLEdBQUcsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcFMsV0FBTyxJQUFJLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0dBQ2xEO0FBQ0QsUUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7QUFDcEMsV0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztHQUN6RjtDQUNGLENBQUMsQ0FBQzs7QUFFSCxTQUFTLGNBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ2hDLE1BQUksR0FBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDbEMsTUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEMsTUFBSSxNQUFNLENBQUMsV0FBVyxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxPQUFPLEtBQUssQ0FBQztB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LEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdEIsVUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzlCLFlBQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0tBQ3pCO0FBQ0QsWUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQ3pDO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxVQUFVLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFO0FBQ3RFLE1BQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzNDLE1BQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztBQUMxRCxNQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNsRixTQUFPLElBQUksQ0FBQztDQUNiLENBQUM7Ozs7Ozs7OztBQVNGLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDNUQsU0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDMUMsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ2xFLE1BQUksQ0FB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LElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM1RCxRQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLFVBQVUsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLEVBQUUsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDblMsV0FBTyxJQUFJLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0dBQ2xEO0FBQ0QsUUFBTSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFO0FBQzFDLFdBQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0dBQ2hFO0FBQ0QsYUFBVyxFQUFFLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRTtBQUN2QyxXQUFPLEtBQUssSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7R0FD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QUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNwQyxlQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ3RFLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdkU7QUFDRCxTQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDMUMsYUFBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0IsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQzVCO0NBQ0Y7O0FBRUQsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFO0FBQ3JDLE1BQUksS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUNuQyxNQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQzFDLE1BQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FB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QUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFDaEQsYUFBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1dBQzNCO1NBQ0Y7T0FDRjtBQUNELFVBQUksS0FBSyxFQUFFO0FBQ1QsY0FBTSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7T0FDcEIsTUFBTTtBQUNMLGNBQU0sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3hCLGFBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDaEQsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUEsR0FBSSxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUM7U0FDckU7T0FDRjtBQUNELFVBQUksUUFBUSxJQUFJLE1BQU0sRUFBRSxPQUFPLElBQUksQ0FBQztBQUNwQyxhQUFPLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7S0FDNUUsTUFBTTtBQUNMLFVBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztLQUNyQztHQUNGO0NBQ0Y7O0FBRUQsU0FBUyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUMzQixPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRTtBQUNwQixRQUFJ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QUFDekMsT0FBSyxFQUFFLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO0FBQ3hDLFNBQU8sRUFBRSxJQUFJO0FBQ2IsS0FBRyxFQUFFLFFBQVEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUztBQUNqRCxXQUFTLEVBQUUsTUFBTTtBQUNqQixRQUFNLEVBQUUsWUFBWTtBQUNwQixXQUFTLEVBQUUsSUFBSTtDQUNoQixDQUFDLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmVsdCA9IGVsdDtcbmV4cG9ydHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuZXhwb3J0cy5ybUNsYXNzID0gcm1DbGFzcztcbmV4cG9ydHMuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbmV4cG9ydHMuY29udGFpbnMgPSBjb250YWlucztcbmV4cG9ydHMuaW5zZXJ0Q1NTID0gaW5zZXJ0Q1NTO1xuXG5mdW5jdGlvbiBlbHQodGFnLCBhdHRycykge1xuICB2YXIgcmVzdWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAoYXR0cnMpIGZvciAodmFyIF9uYW1lIGluIGF0dHJzKSB7XG4gICAgaWYgKF9uYW1lID09IFwic3R5bGVcIikgcmVzdWx0LnN0eWxlLmNzc1RleHQgPSBhdHRyc1tfbmFtZV07ZWxzZSBpZiAoYXR0cnNbX25hbWVdICE9IG51bGwpIHJlc3VsdC5zZXRBdHRyaWJ1dGUoX25hbWUsIGF0dHJzW19uYW1lXSk7XG4gIH1cblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGFkZChhcmdzW2ldLCByZXN1bHQpO1xuICB9cmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYWRkKHZhbHVlLCB0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB2YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgYWRkKHZhbHVlW2ldLCB0YXJnZXQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICB9XG59XG5cbnZhciByZXFGcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGYpIHtcbiAgaWYgKHJlcUZyYW1lKSByZXFGcmFtZShmKTtlbHNlIHNldFRpbWVvdXQoZiwgMTApO1xufVxuXG52YXIgaWVfdXB0bzEwID0gL01TSUUgXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBicm93c2VyID0ge1xuICBtYWM6IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxcbiAgaWVfdXB0bzEwOiBpZV91cHRvMTAsXG4gIGllXzExdXA6IGllXzExdXAsXG4gIGllOiBpZV91cHRvMTAgfHwgaWVfMTF1cCxcbiAgZ2Vja286IC9nZWNrb1xcL1xcZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbn07XG5cbmV4cG9ydHMuYnJvd3NlciA9IGJyb3dzZXI7XG5mdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjbHMgKyBcIig/OiR8XFxcXHMpXFxcXHMqXCIpO1xufVxuXG5mdW5jdGlvbiBybUNsYXNzKG5vZGUsIGNscykge1xuICB2YXIgY3VycmVudCA9IG5vZGUuY2xhc3NOYW1lO1xuICB2YXIgbWF0Y2ggPSBjbGFzc1Rlc3QoY2xzKS5leGVjKGN1cnJlbnQpO1xuICBpZiAobWF0Y2gpIHtcbiAgICB2YXIgYWZ0ZXIgPSBjdXJyZW50LnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICBub2RlLmNsYXNzTmFtZSA9IGN1cnJlbnQuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgKGFmdGVyID8gbWF0Y2hbMV0gKyBhZnRlciA6IFwiXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKG5vZGUsIGNscykge1xuICB2YXIgY3VycmVudCA9IG5vZGUuY2xhc3NOYW1lO1xuICBpZiAoIWNsYXNzVGVzdChjbHMpLnRlc3QoY3VycmVudCkpIG5vZGUuY2xhc3NOYW1lICs9IChjdXJyZW50ID8gXCIgXCIgOiBcIlwiKSArIGNscztcbn1cblxuZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICAvLyBBbmRyb2lkIGJyb3dzZXIgYW5kIElFIHdpbGwgcmV0dXJuIGZhbHNlIGlmIGNoaWxkIGlzIGEgdGV4dCBub2RlLlxuICBpZiAoY2hpbGQubm9kZVR5cGUgIT0gMSkgY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICByZXR1cm4gY2hpbGQgJiYgcGFyZW50LmNvbnRhaW5zKGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0Q1NTKGNzcykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gY3NzO1xuICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShzdHlsZSwgZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zZWxlY3Rpb24gPSByZXF1aXJlKFwiLi9zZWxlY3Rpb25cIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcblxudmFyIF9rZXlzID0gcmVxdWlyZShcIi4va2V5c1wiKTtcblxuZnVuY3Rpb24gbm90aGluZygpIHt9XG5cbmZ1bmN0aW9uIGVuc3VyZVNlbGVjdGlvbihwbSkge1xuICBpZiAocG0uc2VsZWN0aW9uLm5vZGUpIHtcbiAgICB2YXIgZm91bmQgPSAoMCwgX3NlbGVjdGlvbi5maW5kU2VsZWN0aW9uTmVhcikocG0uZG9jLCBwbS5zZWxlY3Rpb24uZnJvbSwgMSwgdHJ1ZSk7XG4gICAgaWYgKGZvdW5kKSAoMCwgX3NlbGVjdGlvbi5zZXRET01TZWxlY3Rpb25Ub1BvcykocG0sIGZvdW5kLmhlYWQpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gQSBiYWNrZHJvcCBrZXltYXAgdXNlZCB0byBtYWtlIHN1cmUgd2UgYWx3YXlzIHN1cHByZXNzIGtleXMgdGhhdFxuLy8gaGF2ZSBhIGRhbmdlcm91cyBkZWZhdWx0IGVmZmVjdCwgZXZlbiBpZiB0aGUgY29tbWFuZHMgdGhleSBhcmVcbi8vIGJvdW5kIHRvIHJldHVybiBmYWxzZSwgYW5kIHRvIG1ha2Ugc3VyZSB0aGF0IGN1cnNvci1tb3Rpb24ga2V5c1xuLy8gZmluZCBhIGN1cnNvciAoYXMgb3Bwb3NlZCB0byBhIG5vZGUgc2VsZWN0aW9uKSB3aGVuIHByZXNzZWQuXG5cbnZhciBrZXlzID0ge1xuICBcIkVudGVyXCI6IG5vdGhpbmcsXG4gIFwiTW9kLUVudGVyXCI6IG5vdGhpbmcsXG4gIFwiU2hpZnQtRW50ZXJcIjogbm90aGluZyxcbiAgXCJCYWNrc3BhY2VcIjogbm90aGluZyxcbiAgXCJEZWxldGVcIjogbm90aGluZyxcbiAgXCJNb2QtQlwiOiBub3RoaW5nLFxuICBcIk1vZC1JXCI6IG5vdGhpbmcsXG4gIFwiTW9kLUJhY2tzcGFjZVwiOiBub3RoaW5nLFxuICBcIk1vZC1EZWxldGVcIjogbm90aGluZyxcbiAgXCJTaGlmdC1CYWNrc3BhY2VcIjogbm90aGluZyxcbiAgXCJTaGlmdC1EZWxldGVcIjogbm90aGluZyxcbiAgXCJTaGlmdC1Nb2QtQmFja3NwYWNlXCI6IG5vdGhpbmcsXG4gIFwiU2hpZnQtTW9kLURlbGV0ZVwiOiBub3RoaW5nLFxuICBcIk1vZC1aXCI6IG5vdGhpbmcsXG4gIFwiTW9kLVlcIjogbm90aGluZyxcbiAgXCJTaGlmdC1Nb2QtWlwiOiBub3RoaW5nLFxuICBcIkN0cmwtRFwiOiBub3RoaW5nLFxuICBcIkN0cmwtSFwiOiBub3RoaW5nLFxuICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBub3RoaW5nLFxuICBcIkFsdC1EXCI6IG5vdGhpbmcsXG4gIFwiQWx0LURlbGV0ZVwiOiBub3RoaW5nLFxuICBcIkFsdC1CYWNrc3BhY2VcIjogbm90aGluZyxcblxuICBcIk1vZC1BXCI6IGVuc3VyZVNlbGVjdGlvblxufTtbXCJMZWZ0XCIsIFwiUmlnaHRcIiwgXCJVcFwiLCBcIkRvd25cIiwgXCJIb21lXCIsIFwiRW5kXCIsIFwiUGFnZVVwXCIsIFwiUGFnZURvd25cIl0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGtleXNba2V5XSA9IGtleXNbXCJTaGlmdC1cIiArIGtleV0gPSBrZXlzW1wiTW9kLVwiICsga2V5XSA9IGtleXNbXCJTaGlmdC1Nb2QtXCIgKyBrZXldID0ga2V5c1tcIkFsdC1cIiArIGtleV0gPSBrZXlzW1wiU2hpZnQtQWx0LVwiICsga2V5XSA9IGVuc3VyZVNlbGVjdGlvbjtcbn0pO1tcIkxlZnRcIiwgXCJNb2QtTGVmdFwiLCBcIlJpZ2h0XCIsIFwiTW9kLVJpZ2h0XCIsIFwiVXBcIiwgXCJEb3duXCJdLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gZGVsZXRlIGtleXNba2V5XTtcbn0pO1xuXG5pZiAoX2RvbS5icm93c2VyLm1hYykga2V5c1tcIkN0cmwtRlwiXSA9IGtleXNbXCJDdHJsLUJcIl0gPSBrZXlzW1wiQ3RybC1QXCJdID0ga2V5c1tcIkN0cmwtTlwiXSA9IGtleXNbXCJBbHQtRlwiXSA9IGtleXNbXCJBbHQtQlwiXSA9IGtleXNbXCJDdHJsLUFcIl0gPSBrZXlzW1wiQ3RybC1FXCJdID0ga2V5c1tcIkN0cmwtVlwiXSA9IGtleXNbXCJnb1BhZ2VVcFwiXSA9IGVuc3VyZVNlbGVjdGlvbjtcblxudmFyIGNhcHR1cmVLZXlzID0gbmV3IF9rZXlzLktleW1hcChrZXlzKTtcbmV4cG9ydHMuY2FwdHVyZUtleXMgPSBjYXB0dXJlS2V5czsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNXb3JkQ2hhciA9IGlzV29yZENoYXI7XG5leHBvcnRzLmNoYXJDYXRlZ29yeSA9IGNoYXJDYXRlZ29yeTtcbmV4cG9ydHMuaXNFeHRlbmRpbmdDaGFyID0gaXNFeHRlbmRpbmdDaGFyO1xudmFyIG5vbkFTQ0lJU2luZ2xlQ2FzZVdvcmRDaGFyID0gL1tcXHUwMGRmXFx1MDU4N1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTMwNDAtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmZlxcdTM0MDAtXFx1NGRiNVxcdTRlMDAtXFx1OWZjY1xcdWFjMDAtXFx1ZDdhZl0vO1xuXG4vLyBFeHRlbmRpbmcgdW5pY29kZSBjaGFyYWN0ZXJzLiBBIHNlcmllcyBvZiBhIG5vbi1leHRlbmRpbmcgY2hhciArXG4vLyBhbnkgbnVtYmVyIG9mIGV4dGVuZGluZyBjaGFycyBpcyB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgYXMgZmFyXG4vLyBhcyBlZGl0aW5nIGFuZCBtZWFzdXJpbmcgaXMgY29uY2VybmVkLiBUaGlzIGlzIG5vdCBmdWxseSBjb3JyZWN0LFxuLy8gc2luY2Ugc29tZSBzY3JpcHRzL2ZvbnRzL2Jyb3dzZXJzIGFsc28gdHJlYXQgb3RoZXIgY29uZmlndXJhdGlvbnNcbi8vIG9mIGNvZGUgcG9pbnRzIGFzIGEgZ3JvdXAuXG52YXIgZXh0ZW5kaW5nQ2hhciA9IC9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztcblxuZnVuY3Rpb24gaXNXb3JkQ2hhcihjaCkge1xuICByZXR1cm4gKC9cXHcvLnRlc3QoY2gpIHx8IGlzRXh0ZW5kaW5nQ2hhcihjaCkgfHwgY2ggPiBcIlxceDgwXCIgJiYgKGNoLnRvVXBwZXJDYXNlKCkgIT0gY2gudG9Mb3dlckNhc2UoKSB8fCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhci50ZXN0KGNoKSlcbiAgKTtcbn1cblxuLyoqXHJcbiAqIEdldCB0aGUgY2F0ZWdvcnkgb2YgYSBnaXZlbiBjaGFyYWN0ZXIuIEVpdGhlciBhIFwic3BhY2VcIixcclxuICogYSBjaGFyYWN0ZXIgdGhhdCBjYW4gYmUgcGFydCBvZiBhIHdvcmQgKFwid29yZFwiKSwgb3IgYW55dGhpbmcgZWxzZSAoXCJvdGhlclwiKS5cclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfSBjaCBUaGUgY2hhcmFjdGVyLlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAqL1xuXG5mdW5jdGlvbiBjaGFyQ2F0ZWdvcnkoY2gpIHtcbiAgcmV0dXJuICgvXFxzLy50ZXN0KGNoKSA/IFwic3BhY2VcIiA6IGlzV29yZENoYXIoY2gpID8gXCJ3b3JkXCIgOiBcIm90aGVyXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNoKSB7XG4gIHJldHVybiBjaC5jaGFyQ29kZUF0KDApID49IDc2OCAmJiBleHRlbmRpbmdDaGFyLnRlc3QoY2gpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSkoKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzLmRlZmluZUNvbW1hbmQgPSBkZWZpbmVDb21tYW5kO1xuZXhwb3J0cy5kZWZpbmVQYXJhbUhhbmRsZXIgPSBkZWZpbmVQYXJhbUhhbmRsZXI7XG5leHBvcnRzLmluaXRDb21tYW5kcyA9IGluaXRDb21tYW5kcztcbmV4cG9ydHMuZGVmYXVsdEtleW1hcCA9IGRlZmF1bHRLZXltYXA7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgX21vZGVsID0gcmVxdWlyZShcIi4uL21vZGVsXCIpO1xuXG52YXIgX3RyYW5zZm9ybSA9IHJlcXVpcmUoXCIuLi90cmFuc2Zvcm1cIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcblxudmFyIF91dGlsU29ydGVkaW5zZXJ0ID0gcmVxdWlyZShcIi4uL3V0aWwvc29ydGVkaW5zZXJ0XCIpO1xuXG52YXIgX3V0aWxTb3J0ZWRpbnNlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNvcnRlZGluc2VydCk7XG5cbnZhciBfY2hhciA9IHJlcXVpcmUoXCIuL2NoYXJcIik7XG5cbnZhciBfa2V5cyA9IHJlcXVpcmUoXCIuL2tleXNcIik7XG5cbnZhciBfc2VsZWN0aW9uID0gcmVxdWlyZShcIi4vc2VsZWN0aW9uXCIpO1xuXG52YXIgZ2xvYmFsQ29tbWFuZHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xudmFyIHBhcmFtSGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5mdW5jdGlvbiBkZWZpbmVDb21tYW5kKG5hbWUsIGNtZCkge1xuICBnbG9iYWxDb21tYW5kc1tuYW1lXSA9IGNtZCBpbnN0YW5jZW9mIENvbW1hbmQgPyBjbWQgOiBuZXcgQ29tbWFuZChuYW1lLCBjbWQpO1xufVxuXG5fbW9kZWwuTm9kZVR5cGUuYXR0YWNoQ29tbWFuZCA9IF9tb2RlbC5TdHlsZVR5cGUuYXR0YWNoQ29tbWFuZCA9IGZ1bmN0aW9uIChuYW1lLCBjcmVhdGUpIHtcbiAgdGhpcy5yZWdpc3RlcihcImNvbW1hbmRzXCIsIHsgbmFtZTogbmFtZSwgY3JlYXRlOiBjcmVhdGUgfSk7XG59O1xuXG5mdW5jdGlvbiBkZWZpbmVQYXJhbUhhbmRsZXIobmFtZSwgaGFuZGxlcikge1xuICBwYXJhbUhhbmRsZXJzW25hbWVdID0gaGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1IYW5kbGVyKHBtKSB7XG4gIHZhciBvcHRpb24gPSBwbS5vcHRpb25zLmNvbW1hbmRQYXJhbUhhbmRsZXI7XG4gIGlmIChvcHRpb24gJiYgcGFyYW1IYW5kbGVyc1tvcHRpb25dKSByZXR1cm4gcGFyYW1IYW5kbGVyc1tvcHRpb25dO1xufVxuXG52YXIgQ29tbWFuZCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbW1hbmQobmFtZSwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21tYW5kKTtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5sYWJlbCA9IG9wdGlvbnMubGFiZWwgfHwgbmFtZTtcbiAgICB0aGlzLnJ1biA9IG9wdGlvbnMucnVuO1xuICAgIHRoaXMucGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwgW107XG4gICAgdGhpcy5zZWxlY3QgPSBvcHRpb25zLnNlbGVjdCB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHRoaXMuYWN0aXZlID0gb3B0aW9ucy5hY3RpdmUgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5pbmZvID0gb3B0aW9ucztcbiAgICB0aGlzLmRpc3BsYXkgPSBvcHRpb25zLmRpc3BsYXkgfHwgXCJpY29uXCI7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29tbWFuZCwgW3tcbiAgICBrZXk6IFwiZXhlY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjKHBtLCBwYXJhbXMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5wYXJhbXMubGVuZ3RoKSByZXR1cm4gdGhpcy5ydW4ocG0pO1xuICAgICAgaWYgKHBhcmFtcykgcmV0dXJuIHRoaXMucnVuLmFwcGx5KHRoaXMsIFtwbV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJhbXMpKSk7XG4gICAgICB2YXIgaGFuZGxlciA9IGdldFBhcmFtSGFuZGxlcihwbSk7XG4gICAgICBpZiAoaGFuZGxlcikgaGFuZGxlcihwbSwgdGhpcywgZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zKSBfdGhpcy5ydW4uYXBwbHkoX3RoaXMsIFtwbV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJhbXMpKSk7XG4gICAgICB9KTtlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29tbWFuZDtcbn0pKCk7XG5cbmV4cG9ydHMuQ29tbWFuZCA9IENvbW1hbmQ7XG5cbmZ1bmN0aW9uIGluaXRDb21tYW5kcyhzY2hlbWEpIHtcbiAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAodmFyIGNtZCBpbiBnbG9iYWxDb21tYW5kcykge1xuICAgIHJlc3VsdFtjbWRdID0gZ2xvYmFsQ29tbWFuZHNbY21kXTtcbiAgfWZ1bmN0aW9uIGZyb21UeXBlcyh0eXBlcykge1xuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIChfbmFtZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlc1tfbmFtZV0sXG4gICAgICAgICAgY21kcyA9IHR5cGUuY29tbWFuZHM7XG4gICAgICBpZiAoY21kcykgY21kcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lO1xuICAgICAgICB2YXIgY3JlYXRlID0gX3JlZi5jcmVhdGU7XG5cbiAgICAgICAgcmVzdWx0W25hbWVdID0gbmV3IENvbW1hbmQobmFtZSwgY3JlYXRlKHR5cGUpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBfbmFtZSBpbiB0eXBlcykge1xuICAgICAgX2xvb3AoX25hbWUpO1xuICAgIH1cbiAgfVxuICBmcm9tVHlwZXMoc2NoZW1hLm5vZGVzKTtcbiAgZnJvbVR5cGVzKHNjaGVtYS5zdHlsZXMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0S2V5bWFwKHBtKSB7XG4gIHZhciBiaW5kaW5ncyA9IHt9O1xuICBmdW5jdGlvbiBhZGQoY29tbWFuZCwga2V5KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWRkKGNvbW1hbmQsIGtleVtpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgIHZhciBfZCQkZXhlYyA9IC9eKC4rPykoPzpcXCgoXFxkKylcXCkpPyQvLmV4ZWMoa2V5KTtcblxuICAgICAgdmFyIF9kJCRleGVjMiA9IF9zbGljZWRUb0FycmF5KF9kJCRleGVjLCAzKTtcblxuICAgICAgdmFyIF8gPSBfZCQkZXhlYzJbMF07XG4gICAgICB2YXIgX25hbWUyID0gX2QkJGV4ZWMyWzFdO1xuICAgICAgdmFyIF9kJCRleGVjMiQyID0gX2QkJGV4ZWMyWzJdO1xuICAgICAgdmFyIHJhbmsgPSBfZCQkZXhlYzIkMiA9PT0gdW5kZWZpbmVkID8gNTAgOiBfZCQkZXhlYzIkMjtcblxuICAgICAgKDAsIF91dGlsU29ydGVkaW5zZXJ0MltcImRlZmF1bHRcIl0pKGJpbmRpbmdzW19uYW1lMl0gfHwgKGJpbmRpbmdzW19uYW1lMl0gPSBbXSksIHsgY29tbWFuZDogY29tbWFuZCwgcmFuazogcmFuayB9LCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5yYW5rIC0gYi5yYW5rO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIF9uYW1lMyBpbiBwbS5jb21tYW5kcykge1xuICAgIHZhciBjbWQgPSBwbS5jb21tYW5kc1tfbmFtZTNdO1xuICAgIGFkZChfbmFtZTMsIGNtZC5pbmZvLmtleSk7XG4gICAgYWRkKF9uYW1lMywgX2RvbS5icm93c2VyLm1hYyA/IGNtZC5pbmZvLm1hY0tleSA6IGNtZC5pbmZvLnBjS2V5KTtcbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBiaW5kaW5ncykge1xuICAgIGJpbmRpbmdzW2tleV0gPSBiaW5kaW5nc1trZXldLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGIuY29tbWFuZDtcbiAgICB9KTtcbiAgfXJldHVybiBuZXcgX2tleXMuS2V5bWFwKGJpbmRpbmdzKTtcbn1cblxudmFyIGFuZFNjcm9sbCA9IHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUgfTtcblxuX21vZGVsLkhhcmRCcmVhay5hdHRhY2hDb21tYW5kKFwiaW5zZXJ0SGFyZEJyZWFrXCIsIGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgbGFiZWw6IFwiSW5zZXJ0IGhhcmQgYnJlYWtcIixcbiAgICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgICAgdmFyIF9wbSRzZWxlY3Rpb24gPSBwbS5zZWxlY3Rpb247XG4gICAgICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24ubm9kZTtcbiAgICAgIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbi5mcm9tO1xuXG4gICAgICBpZiAobm9kZSAmJiBub2RlLmlzQmxvY2spIHJldHVybiBmYWxzZTtlbHNlIGlmIChwbS5kb2MucGF0aChmcm9tLnBhdGgpLnR5cGUuaXNDb2RlKSByZXR1cm4gcG0udHIudHlwZVRleHQoXCJcXG5cIikuYXBwbHkoYW5kU2Nyb2xsKTtlbHNlIHJldHVybiBwbS50ci5yZXBsYWNlU2VsZWN0aW9uKHR5cGUuY3JlYXRlKCkpLmFwcGx5KGFuZFNjcm9sbCk7XG4gICAgfSxcbiAgICBrZXk6IFtcIk1vZC1FbnRlclwiLCBcIlNoaWZ0LUVudGVyXCJdXG4gIH07XG59KTtcblxuZnVuY3Rpb24gaW5saW5lU3R5bGVBY3RpdmUocG0sIHR5cGUpIHtcbiAgdmFyIHNlbCA9IHBtLnNlbGVjdGlvbjtcbiAgaWYgKHNlbC5lbXB0eSkgcmV0dXJuICgwLCBfbW9kZWwuY29udGFpbnNTdHlsZSkocG0uYWN0aXZlU3R5bGVzKCksIHR5cGUpO2Vsc2UgcmV0dXJuICgwLCBfbW9kZWwucmFuZ2VIYXNTdHlsZSkocG0uZG9jLCBzZWwuZnJvbSwgc2VsLnRvLCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gY2FuQWRkSW5saW5lKHBtLCB0eXBlKSB7XG4gIHZhciBfcG0kc2VsZWN0aW9uMiA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMi5mcm9tO1xuICB2YXIgdG8gPSBfcG0kc2VsZWN0aW9uMi50bztcbiAgdmFyIGVtcHR5ID0gX3BtJHNlbGVjdGlvbjIuZW1wdHk7XG5cbiAgaWYgKGVtcHR5KSByZXR1cm4gISgwLCBfbW9kZWwuY29udGFpbnNTdHlsZSkocG0uYWN0aXZlU3R5bGVzKCksIHR5cGUpICYmIHBtLmRvYy5wYXRoKGZyb20ucGF0aCkudHlwZS5jYW5Db250YWluU3R5bGUodHlwZSk7XG4gIHZhciBjYW4gPSBmYWxzZTtcbiAgcG0uZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoY2FuIHx8IG5vZGUuaXNUZXh0YmxvY2sgJiYgIW5vZGUudHlwZS5jYW5Db250YWluU3R5bGUodHlwZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAobm9kZS5pc0lubGluZSAmJiAhKDAsIF9tb2RlbC5jb250YWluc1N0eWxlKShub2RlLnN0eWxlcywgdHlwZSkpIGNhbiA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gY2FuO1xufVxuXG5mdW5jdGlvbiBpbmxpbmVTdHlsZUFwcGxpZXMocG0sIHR5cGUpIHtcbiAgdmFyIF9wbSRzZWxlY3Rpb24zID0gcG0uc2VsZWN0aW9uO1xuICB2YXIgZnJvbSA9IF9wbSRzZWxlY3Rpb24zLmZyb207XG4gIHZhciB0byA9IF9wbSRzZWxlY3Rpb24zLnRvO1xuXG4gIHZhciByZWxldmFudCA9IGZhbHNlO1xuICBwbS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChub2RlLmlzVGV4dGJsb2NrKSB7XG4gICAgICBpZiAobm9kZS50eXBlLmNhbkNvbnRhaW5TdHlsZSh0eXBlKSkgcmVsZXZhbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZWxldmFudDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTdHlsZUNvbW1hbmRzKHR5cGUsIG5hbWUsIGxhYmVsTmFtZSwgaW5mbykge1xuICBpZiAoIWxhYmVsTmFtZSkgbGFiZWxOYW1lID0gbmFtZTtcbiAgdmFyIGNhcCA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICB0eXBlLmF0dGFjaENvbW1hbmQoXCJzZXRcIiArIGNhcCwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IFwiU2V0IFwiICsgbGFiZWxOYW1lLFxuICAgICAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICAgICAgcG0uc2V0U3R5bGUodHlwZSwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QocG0pIHtcbiAgICAgICAgcmV0dXJuIGNhbkFkZElubGluZShwbSwgdHlwZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHR5cGUuYXR0YWNoQ29tbWFuZChcInVuc2V0XCIgKyBjYXAsIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBcIlJlbW92ZSBcIiArIGxhYmVsTmFtZSxcbiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICAgIHBtLnNldFN0eWxlKHR5cGUsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChwbSkge1xuICAgICAgICByZXR1cm4gaW5saW5lU3R5bGVBY3RpdmUocG0sIHR5cGUpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB0eXBlLmF0dGFjaENvbW1hbmQobmFtZSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgY29tbWFuZCA9IHtcbiAgICAgIGxhYmVsOiBcIlRvZ2dsZSBcIiArIGxhYmVsTmFtZSxcbiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICAgIHBtLnNldFN0eWxlKHR5cGUsIG51bGwpO1xuICAgICAgfSxcbiAgICAgIGFjdGl2ZTogZnVuY3Rpb24gYWN0aXZlKHBtKSB7XG4gICAgICAgIHJldHVybiBpbmxpbmVTdHlsZUFjdGl2ZShwbSwgdHlwZSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QocG0pIHtcbiAgICAgICAgcmV0dXJuIGlubGluZVN0eWxlQXBwbGllcyhwbSwgdHlwZSk7XG4gICAgICB9LFxuICAgICAgaW5mbzogaW5mb1xuICAgIH07XG4gICAgZm9yICh2YXIgcHJvcCBpbiBpbmZvKSB7XG4gICAgICBjb21tYW5kW3Byb3BdID0gaW5mb1twcm9wXTtcbiAgICB9cmV0dXJuIGNvbW1hbmQ7XG4gIH0pO1xufVxuXG5nZW5lcmF0ZVN0eWxlQ29tbWFuZHMoX21vZGVsLlN0cm9uZ1N0eWxlLCBcInN0cm9uZ1wiLCBudWxsLCB7XG4gIG1lbnVHcm91cDogXCJpbmxpbmVcIixcbiAgbWVudVJhbms6IDIwLFxuICBrZXk6IFwiTW9kLUJcIlxufSk7XG5cbmdlbmVyYXRlU3R5bGVDb21tYW5kcyhfbW9kZWwuRW1TdHlsZSwgXCJlbVwiLCBcImVtcGhhc2lzXCIsIHtcbiAgbWVudUdyb3VwOiBcImlubGluZVwiLFxuICBtZW51UmFuazogMjEsXG4gIGtleTogXCJNb2QtSVwiXG59KTtcblxuZ2VuZXJhdGVTdHlsZUNvbW1hbmRzKF9tb2RlbC5Db2RlU3R5bGUsIFwiY29kZVwiLCBudWxsLCB7XG4gIG1lbnVHcm91cDogXCJpbmxpbmVcIixcbiAgbWVudVJhbms6IDIyLFxuICBrZXk6IFwiTW9kLWBcIlxufSk7XG5cbl9tb2RlbC5MaW5rU3R5bGUuYXR0YWNoQ29tbWFuZChcInVubGlua1wiLCBmdW5jdGlvbiAodHlwZSkge1xuICByZXR1cm4ge1xuICAgIGxhYmVsOiBcIlVubGlua1wiLFxuICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICBwbS5zZXRTdHlsZSh0eXBlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChwbSkge1xuICAgICAgcmV0dXJuIGlubGluZVN0eWxlQWN0aXZlKHBtLCB0eXBlKTtcbiAgICB9LFxuICAgIGFjdGl2ZTogZnVuY3Rpb24gYWN0aXZlKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBtZW51R3JvdXA6IFwiaW5saW5lXCIsIG1lbnVSYW5rOiAzMFxuICB9O1xufSk7XG5fbW9kZWwuTGlua1N0eWxlLmF0dGFjaENvbW1hbmQoXCJsaW5rXCIsIGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgbGFiZWw6IFwiQWRkIGxpbmtcIixcbiAgICBydW46IGZ1bmN0aW9uIHJ1bihwbSwgaHJlZiwgdGl0bGUpIHtcbiAgICAgIHBtLnNldFN0eWxlKHR5cGUsIHRydWUsIHsgaHJlZjogaHJlZiwgdGl0bGU6IHRpdGxlIH0pO1xuICAgIH0sXG4gICAgcGFyYW1zOiBbeyBuYW1lOiBcIlRhcmdldFwiLCB0eXBlOiBcInRleHRcIiB9LCB7IG5hbWU6IFwiVGl0bGVcIiwgdHlwZTogXCJ0ZXh0XCIsIFwiZGVmYXVsdFwiOiBcIlwiIH1dLFxuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBtKSB7XG4gICAgICByZXR1cm4gaW5saW5lU3R5bGVBcHBsaWVzKHBtLCB0eXBlKSAmJiAhaW5saW5lU3R5bGVBY3RpdmUocG0sIHR5cGUpO1xuICAgIH0sXG4gICAgbWVudUdyb3VwOiBcImlubGluZVwiLCBtZW51UmFuazogMzBcbiAgfTtcbn0pO1xuXG5fbW9kZWwuSW1hZ2UuYXR0YWNoQ29tbWFuZChcImluc2VydEltYWdlXCIsIGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgbGFiZWw6IFwiSW5zZXJ0IGltYWdlXCIsXG4gICAgcnVuOiBmdW5jdGlvbiBydW4ocG0sIHNyYywgYWx0LCB0aXRsZSkge1xuICAgICAgcmV0dXJuIHBtLnRyLnJlcGxhY2VTZWxlY3Rpb24odHlwZS5jcmVhdGUoeyBzcmM6IHNyYywgdGl0bGU6IHRpdGxlLCBhbHQ6IGFsdCB9KSkuYXBwbHkoYW5kU2Nyb2xsKTtcbiAgICB9LFxuICAgIHBhcmFtczogW3sgbmFtZTogXCJJbWFnZSBVUkxcIiwgdHlwZTogXCJ0ZXh0XCIgfSwgeyBuYW1lOiBcIkRlc2NyaXB0aW9uIC8gYWx0ZXJuYXRpdmUgdGV4dFwiLCB0eXBlOiBcInRleHRcIiwgXCJkZWZhdWx0XCI6IFwiXCIgfSwgeyBuYW1lOiBcIlRpdGxlXCIsIHR5cGU6IFwidGV4dFwiLCBcImRlZmF1bHRcIjogXCJcIiB9XSxcbiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChwbSkge1xuICAgICAgcmV0dXJuIHBtLmRvYy5wYXRoKHBtLnNlbGVjdGlvbi5mcm9tLnBhdGgpLnR5cGUuY2FuQ29udGFpblR5cGUodHlwZSk7XG4gICAgfSxcbiAgICBtZW51R3JvdXA6IFwiaW5saW5lXCIsXG4gICAgbWVudVJhbms6IDQwLFxuICAgIHByZWZpbGxQYXJhbXM6IGZ1bmN0aW9uIHByZWZpbGxQYXJhbXMocG0pIHtcbiAgICAgIHZhciBub2RlID0gcG0uc2VsZWN0aW9uLm5vZGU7XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUudHlwZSA9PSB0eXBlKSByZXR1cm4gW25vZGUuYXR0cnMuc3JjLCBub2RlLmF0dHJzLmFsdCwgbm9kZS5hdHRycy50aXRsZV07XG4gICAgfVxuICB9O1xufSk7XG5cbi8qKlxyXG4gKiBHZXQgYW4gb2Zmc2V0IG1vdmluZyBiYWNrd2FyZCBmcm9tIGEgY3VycmVudCBvZmZzZXQgaW5zaWRlIGEgbm9kZS5cclxuICpcclxuICogQHBhcmFtICB7T2JqZWN0fSBwYXJlbnQgVGhlIHBhcmVudCBub2RlLlxyXG4gKiBAcGFyYW0gIHtpbnR9ICAgIG9mZnNldCBPZmZzZXQgdG8gbW92ZSBmcm9tIGluc2lkZSB0aGUgbm9kZS5cclxuICogQHBhcmFtICB7c3RyaW5nfSBieSAgICAgU2l6ZSB0byBkZWxldGUgYnkuIEVpdGhlciBcImNoYXJcIiBvciBcIndvcmRcIi5cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cbmZ1bmN0aW9uIG1vdmVCYWNrd2FyZChwYXJlbnQsIG9mZnNldCwgYnkpIHtcbiAgaWYgKGJ5ICE9IFwiY2hhclwiICYmIGJ5ICE9IFwid29yZFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1vdGlvbiB1bml0OiBcIiArIGJ5KTtcblxuICB2YXIgX3BhcmVudCRjaGlsZEJlZm9yZSA9IHBhcmVudC5jaGlsZEJlZm9yZShvZmZzZXQpO1xuXG4gIHZhciBpbmRleCA9IF9wYXJlbnQkY2hpbGRCZWZvcmUuaW5kZXg7XG4gIHZhciBpbm5lck9mZnNldCA9IF9wYXJlbnQkY2hpbGRCZWZvcmUuaW5uZXJPZmZzZXQ7XG5cbiAgdmFyIGNhdCA9IG51bGwsXG4gICAgICBjb3VudGVkID0gMDtcbiAgZm9yICg7IGluZGV4ID49IDA7IGluZGV4LS0sIGlubmVyT2Zmc2V0ID0gbnVsbCkge1xuICAgIHZhciBjaGlsZCA9IHBhcmVudC5jaGlsZChpbmRleCksXG4gICAgICAgIHNpemUgPSBjaGlsZC5vZmZzZXQ7XG4gICAgaWYgKCFjaGlsZC5pc1RleHQpIHJldHVybiBjYXQgPyBvZmZzZXQgOiBvZmZzZXQgLSAxO1xuXG4gICAgaWYgKGJ5ID09IFwiY2hhclwiKSB7XG4gICAgICBmb3IgKHZhciBpID0gaW5uZXJPZmZzZXQgPT0gbnVsbCA/IHNpemUgOiBpbm5lck9mZnNldDsgaSA+IDA7IGktLSkge1xuICAgICAgICBpZiAoISgwLCBfY2hhci5pc0V4dGVuZGluZ0NoYXIpKGNoaWxkLnRleHQuY2hhckF0KGkgLSAxKSkpIHJldHVybiBvZmZzZXQgLSAxO1xuICAgICAgICBvZmZzZXQtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJ5ID09IFwid29yZFwiKSB7XG4gICAgICAvLyBXb3JrIGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb24gYmFja3dhcmRzIHRocm91Z2ggdGV4dCBvZiBhIHNpbmd1bGFyXG4gICAgICAvLyBjaGFyYWN0ZXIgY2F0ZWdvcnkgKGUuZy4gXCJjYXRcIiBvZiBcIiMhKlwiKSB1bnRpbCByZWFjaGluZyBhIGNoYXJhY3RlciBpbiBhXG4gICAgICAvLyBkaWZmZXJlbnQgY2F0ZWdvcnkgKGkuZS4gdGhlIGVuZCBvZiB0aGUgd29yZCkuXG4gICAgICBmb3IgKHZhciBpID0gaW5uZXJPZmZzZXQgPT0gbnVsbCA/IHNpemUgOiBpbm5lck9mZnNldDsgaSA+IDA7IGktLSkge1xuICAgICAgICB2YXIgbmV4dENoYXJDYXQgPSAoMCwgX2NoYXIuY2hhckNhdGVnb3J5KShjaGlsZC50ZXh0LmNoYXJBdChpIC0gMSkpO1xuICAgICAgICBpZiAoY2F0ID09IG51bGwgfHwgY291bnRlZCA9PSAxICYmIGNhdCA9PSBcInNwYWNlXCIpIGNhdCA9IG5leHRDaGFyQ2F0O2Vsc2UgaWYgKGNhdCAhPSBuZXh0Q2hhckNhdCkgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgIGNvdW50ZWQrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuZGVmaW5lQ29tbWFuZChcImRlbGV0ZVNlbGVjdGlvblwiLCB7XG4gIGxhYmVsOiBcIkRlbGV0ZSB0aGUgc2VsZWN0aW9uXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgcmV0dXJuIHBtLnRyLnJlcGxhY2VTZWxlY3Rpb24oKS5hcHBseShhbmRTY3JvbGwpO1xuICB9LFxuICBrZXk6IFtcIkJhY2tzcGFjZSgxMClcIiwgXCJEZWxldGUoMTApXCIsIFwiTW9kLUJhY2tzcGFjZSgxMClcIiwgXCJNb2QtRGVsZXRlKDEwKVwiXSxcbiAgbWFjS2V5OiBbXCJDdHJsLUgoMTApXCIsIFwiQWx0LUJhY2tzcGFjZSgxMClcIiwgXCJDdHJsLUQoMTApXCIsIFwiQ3RybC1BbHQtQmFja3NwYWNlKDEwKVwiLCBcIkFsdC1EZWxldGUoMTApXCIsIFwiQWx0LUQoMTApXCJdXG59KTtcblxuZnVuY3Rpb24gZGVsZXRlQmFycmllcihwbSwgY3V0KSB7XG4gIHZhciBhcm91bmQgPSBwbS5kb2MucGF0aChjdXQucGF0aCk7XG4gIHZhciBiZWZvcmUgPSBhcm91bmQuY2hpbGQoY3V0Lm9mZnNldCAtIDEpLFxuICAgICAgYWZ0ZXIgPSBhcm91bmQuY2hpbGQoY3V0Lm9mZnNldCk7XG4gIGlmIChiZWZvcmUudHlwZS5jYW5Db250YWluQ2hpbGRyZW4oYWZ0ZXIpICYmIHBtLnRyLmpvaW4oY3V0KS5hcHBseShhbmRTY3JvbGwpICE9PSBmYWxzZSkgcmV0dXJuO1xuXG4gIHZhciBjb25uID0gdW5kZWZpbmVkO1xuICBpZiAoYWZ0ZXIuaXNUZXh0YmxvY2sgJiYgKGNvbm4gPSBiZWZvcmUudHlwZS5maW5kQ29ubmVjdGlvbihhZnRlci50eXBlKSkpIHtcbiAgICB2YXIgdHIgPSBwbS50cixcbiAgICAgICAgZW5kID0gY3V0Lm1vdmUoMSk7XG4gICAgdHIuc3RlcChcImFuY2VzdG9yXCIsIGN1dCwgZW5kLCBudWxsLCB7IHdyYXBwZXJzOiBbYmVmb3JlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNvbm4ubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0LmNyZWF0ZSgpO1xuICAgICAgfSkpKSB9KTtcbiAgICB0ci5qb2luKGVuZCk7XG4gICAgdHIuam9pbihjdXQpO1xuICAgIGlmICh0ci5hcHBseShhbmRTY3JvbGwpICE9PSBmYWxzZSkgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNlbEFmdGVyID0gKDAsIF9zZWxlY3Rpb24uZmluZFNlbGVjdGlvbkZyb20pKHBtLmRvYywgY3V0LCAxKTtcbiAgcmV0dXJuIHBtLnRyLmxpZnQoc2VsQWZ0ZXIuZnJvbSwgc2VsQWZ0ZXIudG8pLmFwcGx5KGFuZFNjcm9sbCk7XG59XG5cbmRlZmluZUNvbW1hbmQoXCJqb2luQmFja3dhcmRcIiwge1xuICBsYWJlbDogXCJKb2luIHdpdGggdGhlIGJsb2NrIGFib3ZlXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb240ID0gcG0uc2VsZWN0aW9uO1xuICAgIHZhciBoZWFkID0gX3BtJHNlbGVjdGlvbjQuaGVhZDtcbiAgICB2YXIgZW1wdHkgPSBfcG0kc2VsZWN0aW9uNC5lbXB0eTtcblxuICAgIGlmICghZW1wdHkgfHwgaGVhZC5vZmZzZXQgPiAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBGaW5kIHRoZSBub2RlIGJlZm9yZSB0aGlzIG9uZVxuICAgIHZhciBiZWZvcmUgPSB1bmRlZmluZWQsXG4gICAgICAgIGN1dCA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKHZhciBpID0gaGVhZC5wYXRoLmxlbmd0aCAtIDE7ICFiZWZvcmUgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmIChoZWFkLnBhdGhbaV0gPiAwKSB7XG4gICAgICAgIGN1dCA9IGhlYWQuc2hvcnRlbihpKTtcbiAgICAgICAgYmVmb3JlID0gcG0uZG9jLnBhdGgoY3V0LnBhdGgpLmNoaWxkKGN1dC5vZmZzZXQgLSAxKTtcbiAgICAgIH1cbiAgICB9IC8vIElmIHRoZXJlIGlzIG5vIG5vZGUgYmVmb3JlIHRoaXMsIHRyeSB0byBsaWZ0XG4gICAgaWYgKCFiZWZvcmUpIHJldHVybiBwbS50ci5saWZ0KGhlYWQpLmFwcGx5KGFuZFNjcm9sbCk7XG5cbiAgICAvLyBJZiB0aGUgbm9kZSBkb2Vzbid0IGFsbG93IGNoaWxkcmVuLCBkZWxldGUgaXRcbiAgICBpZiAoYmVmb3JlLnR5cGUuY29udGFpbnMgPT0gbnVsbCkgcmV0dXJuIHBtLnRyW1wiZGVsZXRlXCJdKGN1dC5tb3ZlKC0xKSwgY3V0KS5hcHBseShhbmRTY3JvbGwpO1xuXG4gICAgLy8gQXBwbHkgdGhlIGpvaW5pbmcgYWxnb3JpdGhtXG4gICAgcmV0dXJuIGRlbGV0ZUJhcnJpZXIocG0sIGN1dCk7XG4gIH0sXG4gIGtleTogW1wiQmFja3NwYWNlKDMwKVwiLCBcIk1vZC1CYWNrc3BhY2UoMzApXCJdXG59KTtcblxuZGVmaW5lQ29tbWFuZChcImRlbGV0ZUNoYXJCZWZvcmVcIiwge1xuICBsYWJlbDogXCJEZWxldGUgYSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBjdXJzb3JcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgX3BtJHNlbGVjdGlvbjUgPSBwbS5zZWxlY3Rpb247XG4gICAgdmFyIGhlYWQgPSBfcG0kc2VsZWN0aW9uNS5oZWFkO1xuICAgIHZhciBlbXB0eSA9IF9wbSRzZWxlY3Rpb241LmVtcHR5O1xuXG4gICAgaWYgKCFlbXB0eSB8fCBoZWFkLm9mZnNldCA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGZyb20gPSBtb3ZlQmFja3dhcmQocG0uZG9jLnBhdGgoaGVhZC5wYXRoKSwgaGVhZC5vZmZzZXQsIFwiY2hhclwiKTtcbiAgICByZXR1cm4gcG0udHJbXCJkZWxldGVcIl0obmV3IF9tb2RlbC5Qb3MoaGVhZC5wYXRoLCBmcm9tKSwgaGVhZCkuYXBwbHkoYW5kU2Nyb2xsKTtcbiAgfSxcbiAga2V5OiBcIkJhY2tzcGFjZSg2MClcIixcbiAgbWFjS2V5OiBcIkN0cmwtSCg0MClcIlxufSk7XG5cbmRlZmluZUNvbW1hbmQoXCJkZWxldGVXb3JkQmVmb3JlXCIsIHtcbiAgbGFiZWw6IFwiRGVsZXRlIHRoZSB3b3JkIGJlZm9yZSB0aGUgY3Vyc29yXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb242ID0gcG0uc2VsZWN0aW9uO1xuICAgIHZhciBoZWFkID0gX3BtJHNlbGVjdGlvbjYuaGVhZDtcbiAgICB2YXIgZW1wdHkgPSBfcG0kc2VsZWN0aW9uNi5lbXB0eTtcblxuICAgIGlmICghZW1wdHkgfHwgaGVhZC5vZmZzZXQgPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBmcm9tID0gbW92ZUJhY2t3YXJkKHBtLmRvYy5wYXRoKGhlYWQucGF0aCksIGhlYWQub2Zmc2V0LCBcIndvcmRcIik7XG4gICAgcmV0dXJuIHBtLnRyW1wiZGVsZXRlXCJdKG5ldyBfbW9kZWwuUG9zKGhlYWQucGF0aCwgZnJvbSksIGhlYWQpLmFwcGx5KGFuZFNjcm9sbCk7XG4gIH0sXG4gIGtleTogXCJNb2QtQmFja3NwYWNlKDQwKVwiLFxuICBtYWNLZXk6IFwiQWx0LUJhY2tzcGFjZSg0MClcIlxufSk7XG5cbmZ1bmN0aW9uIG1vdmVGb3J3YXJkKHBhcmVudCwgb2Zmc2V0LCBieSkge1xuICBpZiAoYnkgIT0gXCJjaGFyXCIgJiYgYnkgIT0gXCJ3b3JkXCIpIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbW90aW9uIHVuaXQ6IFwiICsgYnkpO1xuXG4gIHZhciBfcGFyZW50JGNoaWxkQWZ0ZXIgPSBwYXJlbnQuY2hpbGRBZnRlcihvZmZzZXQpO1xuXG4gIHZhciBpbmRleCA9IF9wYXJlbnQkY2hpbGRBZnRlci5pbmRleDtcbiAgdmFyIGlubmVyT2Zmc2V0ID0gX3BhcmVudCRjaGlsZEFmdGVyLmlubmVyT2Zmc2V0O1xuXG4gIHZhciBjYXQgPSBudWxsLFxuICAgICAgY291bnRlZCA9IDA7XG4gIGZvciAoOyBpbmRleCA8IHBhcmVudC5sZW5ndGg7IGluZGV4KyssIGlubmVyT2Zmc2V0ID0gMCkge1xuICAgIHZhciBjaGlsZCA9IHBhcmVudC5jaGlsZChpbmRleCksXG4gICAgICAgIHNpemUgPSBjaGlsZC5vZmZzZXQ7XG4gICAgaWYgKCFjaGlsZC5pc1RleHQpIHJldHVybiBjYXQgPyBvZmZzZXQgOiBvZmZzZXQgKyAxO1xuXG4gICAgaWYgKGJ5ID09IFwiY2hhclwiKSB7XG4gICAgICBmb3IgKHZhciBpID0gaW5uZXJPZmZzZXQ7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgaWYgKCEoMCwgX2NoYXIuaXNFeHRlbmRpbmdDaGFyKShjaGlsZC50ZXh0LmNoYXJBdChpICsgMSkpKSByZXR1cm4gb2Zmc2V0ICsgMTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChieSA9PSBcIndvcmRcIikge1xuICAgICAgZm9yICh2YXIgaSA9IGlubmVyT2Zmc2V0OyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBuZXh0Q2hhckNhdCA9ICgwLCBfY2hhci5jaGFyQ2F0ZWdvcnkpKGNoaWxkLnRleHQuY2hhckF0KGkpKTtcbiAgICAgICAgaWYgKGNhdCA9PSBudWxsIHx8IGNvdW50ZWQgPT0gMSAmJiBjYXQgPT0gXCJzcGFjZVwiKSBjYXQgPSBuZXh0Q2hhckNhdDtlbHNlIGlmIChjYXQgIT0gbmV4dENoYXJDYXQpIHJldHVybiBvZmZzZXQ7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBjb3VudGVkKys7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbmRlZmluZUNvbW1hbmQoXCJqb2luRm9yd2FyZFwiLCB7XG4gIGxhYmVsOiBcIkpvaW4gd2l0aCB0aGUgYmxvY2sgYmVsb3dcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgX3BtJHNlbGVjdGlvbjcgPSBwbS5zZWxlY3Rpb247XG4gICAgdmFyIGhlYWQgPSBfcG0kc2VsZWN0aW9uNy5oZWFkO1xuICAgIHZhciBlbXB0eSA9IF9wbSRzZWxlY3Rpb243LmVtcHR5O1xuXG4gICAgaWYgKCFlbXB0eSB8fCBoZWFkLm9mZnNldCA8IHBtLmRvYy5wYXRoKGhlYWQucGF0aCkubWF4T2Zmc2V0KSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBGaW5kIHRoZSBub2RlIGFmdGVyIHRoaXMgb25lXG4gICAgdmFyIGFmdGVyID0gdW5kZWZpbmVkLFxuICAgICAgICBjdXQgPSB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaSA9IGhlYWQucGF0aC5sZW5ndGggLSAxOyAhYWZ0ZXIgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGN1dCA9IGhlYWQuc2hvcnRlbihpLCAxKTtcbiAgICAgIHZhciBfcGFyZW50ID0gcG0uZG9jLnBhdGgoY3V0LnBhdGgpO1xuICAgICAgaWYgKGN1dC5vZmZzZXQgPCBfcGFyZW50Lmxlbmd0aCkgYWZ0ZXIgPSBfcGFyZW50LmNoaWxkKGN1dC5vZmZzZXQpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIG5vZGUgYWZ0ZXIgdGhpcywgdGhlcmUncyBub3RoaW5nIHRvIGRvXG4gICAgaWYgKCFhZnRlcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gSWYgdGhlIG5vZGUgZG9lc24ndCBhbGxvdyBjaGlsZHJlbiwgZGVsZXRlIGl0XG4gICAgaWYgKGFmdGVyLnR5cGUuY29udGFpbnMgPT0gbnVsbCkgcmV0dXJuIHBtLnRyW1wiZGVsZXRlXCJdKGN1dCwgY3V0Lm1vdmUoMSkpLmFwcGx5KGFuZFNjcm9sbCk7XG5cbiAgICAvLyBBcHBseSB0aGUgam9pbmluZyBhbGdvcml0aG1cbiAgICByZXR1cm4gZGVsZXRlQmFycmllcihwbSwgY3V0KTtcbiAgfSxcbiAga2V5OiBbXCJEZWxldGUoMzApXCIsIFwiTW9kLURlbGV0ZSgzMClcIl1cbn0pO1xuXG5kZWZpbmVDb21tYW5kKFwiZGVsZXRlQ2hhckFmdGVyXCIsIHtcbiAgbGFiZWw6IFwiRGVsZXRlIGEgY2hhcmFjdGVyIGFmdGVyIHRoZSBjdXJzb3JcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgX3BtJHNlbGVjdGlvbjggPSBwbS5zZWxlY3Rpb247XG4gICAgdmFyIGhlYWQgPSBfcG0kc2VsZWN0aW9uOC5oZWFkO1xuICAgIHZhciBlbXB0eSA9IF9wbSRzZWxlY3Rpb244LmVtcHR5O1xuXG4gICAgaWYgKCFlbXB0eSB8fCBoZWFkLm9mZnNldCA9PSBwbS5kb2MucGF0aChoZWFkLnBhdGgpLm1heE9mZnNldCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciB0byA9IG1vdmVGb3J3YXJkKHBtLmRvYy5wYXRoKGhlYWQucGF0aCksIGhlYWQub2Zmc2V0LCBcImNoYXJcIik7XG4gICAgcmV0dXJuIHBtLnRyW1wiZGVsZXRlXCJdKGhlYWQsIG5ldyBfbW9kZWwuUG9zKGhlYWQucGF0aCwgdG8pKS5hcHBseShhbmRTY3JvbGwpO1xuICB9LFxuICBrZXk6IFwiRGVsZXRlKDYwKVwiLFxuICBtYWNLZXk6IFwiQ3RybC1EKDYwKVwiXG59KTtcblxuZGVmaW5lQ29tbWFuZChcImRlbGV0ZVdvcmRBZnRlclwiLCB7XG4gIGxhYmVsOiBcIkRlbGV0ZSBhIGNoYXJhY3RlciBhZnRlciB0aGUgY3Vyc29yXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb245ID0gcG0uc2VsZWN0aW9uO1xuICAgIHZhciBoZWFkID0gX3BtJHNlbGVjdGlvbjkuaGVhZDtcbiAgICB2YXIgZW1wdHkgPSBfcG0kc2VsZWN0aW9uOS5lbXB0eTtcblxuICAgIGlmICghZW1wdHkgfHwgaGVhZC5vZmZzZXQgPT0gcG0uZG9jLnBhdGgoaGVhZC5wYXRoKS5tYXhPZmZzZXQpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdG8gPSBtb3ZlRm9yd2FyZChwbS5kb2MucGF0aChoZWFkLnBhdGgpLCBoZWFkLm9mZnNldCwgXCJ3b3JkXCIpO1xuICAgIHJldHVybiBwbS50cltcImRlbGV0ZVwiXShoZWFkLCBuZXcgX21vZGVsLlBvcyhoZWFkLnBhdGgsIHRvKSkuYXBwbHkoYW5kU2Nyb2xsKTtcbiAgfSxcbiAga2V5OiBcIk1vZC1EZWxldGUoNDApXCIsXG4gIG1hY0tleTogW1wiQ3RybC1BbHQtQmFja3NwYWNlKDQwKVwiLCBcIkFsdC1EZWxldGUoNDApXCIsIFwiQWx0LUQoNDApXCJdXG59KTtcblxuZnVuY3Rpb24gam9pblBvaW50QWJvdmUocG0pIHtcbiAgdmFyIF9wbSRzZWxlY3Rpb24xMCA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIG5vZGUgPSBfcG0kc2VsZWN0aW9uMTAubm9kZTtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMTAuZnJvbTtcblxuICBpZiAobm9kZSkgcmV0dXJuICgwLCBfdHJhbnNmb3JtLmpvaW5hYmxlQmxvY2tzKShwbS5kb2MsIGZyb20pID8gZnJvbSA6IG51bGw7ZWxzZSByZXR1cm4gKDAsIF90cmFuc2Zvcm0uam9pblBvaW50KShwbS5kb2MsIGZyb20sIC0xKTtcbn1cblxuZGVmaW5lQ29tbWFuZChcImpvaW5VcFwiLCB7XG4gIGxhYmVsOiBcIkpvaW4gd2l0aCBhYm92ZSBibG9ja1wiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHZhciBub2RlID0gcG0uc2VsZWN0aW9uLm5vZGU7XG4gICAgdmFyIHBvaW50ID0gam9pblBvaW50QWJvdmUocG0pO1xuICAgIGlmICghcG9pbnQpIHJldHVybiBmYWxzZTtcbiAgICBwbS50ci5qb2luKHBvaW50KS5hcHBseSgpO1xuICAgIGlmIChub2RlKSBwbS5zZXROb2RlU2VsZWN0aW9uKHBvaW50Lm1vdmUoLTEpKTtcbiAgfSxcbiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QocG0pIHtcbiAgICByZXR1cm4gam9pblBvaW50QWJvdmUocG0pO1xuICB9LFxuICBtZW51R3JvdXA6IFwiYmxvY2tcIiwgbWVudVJhbms6IDgwLFxuICBrZXk6IFwiQWx0LVVwXCJcbn0pO1xuXG5mdW5jdGlvbiBqb2luUG9pbnRCZWxvdyhwbSkge1xuICB2YXIgX3BtJHNlbGVjdGlvbjExID0gcG0uc2VsZWN0aW9uO1xuICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24xMS5ub2RlO1xuICB2YXIgdG8gPSBfcG0kc2VsZWN0aW9uMTEudG87XG5cbiAgaWYgKG5vZGUpIHJldHVybiAoMCwgX3RyYW5zZm9ybS5qb2luYWJsZUJsb2NrcykocG0uZG9jLCB0bykgPyB0byA6IG51bGw7ZWxzZSByZXR1cm4gKDAsIF90cmFuc2Zvcm0uam9pblBvaW50KShwbS5kb2MsIHRvLCAxKTtcbn1cblxuZGVmaW5lQ29tbWFuZChcImpvaW5Eb3duXCIsIHtcbiAgbGFiZWw6IFwiSm9pbiB3aXRoIGJlbG93IGJsb2NrXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgdmFyIG5vZGUgPSBwbS5zZWxlY3Rpb24ubm9kZTtcbiAgICB2YXIgcG9pbnQgPSBqb2luUG9pbnRCZWxvdyhwbSk7XG4gICAgaWYgKCFwb2ludCkgcmV0dXJuIGZhbHNlO1xuICAgIHBtLnRyLmpvaW4ocG9pbnQpLmFwcGx5KCk7XG4gICAgaWYgKG5vZGUpIHBtLnNldE5vZGVTZWxlY3Rpb24ocG9pbnQubW92ZSgtMSkpO1xuICB9LFxuICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChwbSkge1xuICAgIHJldHVybiBqb2luUG9pbnRCZWxvdyhwbSk7XG4gIH0sXG4gIGtleTogXCJBbHQtRG93blwiXG59KTtcblxuZGVmaW5lQ29tbWFuZChcImxpZnRcIiwge1xuICBsYWJlbDogXCJMaWZ0IG91dCBvZiBlbmNsb3NpbmcgYmxvY2tcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgX3BtJHNlbGVjdGlvbjEyID0gcG0uc2VsZWN0aW9uO1xuICAgIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbjEyLmZyb207XG4gICAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjEyLnRvO1xuXG4gICAgcmV0dXJuIHBtLnRyLmxpZnQoZnJvbSwgdG8pLmFwcGx5KGFuZFNjcm9sbCk7XG4gIH0sXG4gIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBtKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb24xMyA9IHBtLnNlbGVjdGlvbjtcbiAgICB2YXIgZnJvbSA9IF9wbSRzZWxlY3Rpb24xMy5mcm9tO1xuICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24xMy50bztcblxuICAgIHJldHVybiAoMCwgX3RyYW5zZm9ybS5jYW5MaWZ0KShwbS5kb2MsIGZyb20sIHRvKTtcbiAgfSxcbiAgbWVudUdyb3VwOiBcImJsb2NrXCIsIG1lbnVSYW5rOiA3NSxcbiAga2V5OiBcIkFsdC1MZWZ0XCJcbn0pO1xuXG5mdW5jdGlvbiBpc0F0VG9wT2ZMaXN0SXRlbShkb2MsIGZyb20sIHRvLCBsaXN0VHlwZSkge1xuICByZXR1cm4gX21vZGVsLlBvcy5zYW1lUGF0aChmcm9tLnBhdGgsIHRvLnBhdGgpICYmIGZyb20ucGF0aC5sZW5ndGggPj0gMiAmJiBmcm9tLnBhdGhbZnJvbS5wYXRoLmxlbmd0aCAtIDFdID09IDAgJiYgbGlzdFR5cGUuY2FuQ29udGFpbihkb2MucGF0aChmcm9tLnBhdGguc2xpY2UoMCwgZnJvbS5wYXRoLmxlbmd0aCAtIDEpKSk7XG59XG5cbmZ1bmN0aW9uIHdyYXBDb21tYW5kKHR5cGUsIG5hbWUsIGxhYmVsTmFtZSwgaXNMaXN0LCBpbmZvKSB7XG4gIHR5cGUuYXR0YWNoQ29tbWFuZChcIndyYXBcIiArIG5hbWUsIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGNvbW1hbmQgPSB7XG4gICAgICBsYWJlbDogXCJXcmFwIGluIFwiICsgbGFiZWxOYW1lLFxuICAgICAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICAgICAgdmFyIF9wbSRzZWxlY3Rpb24xNCA9IHBtLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMTQuZnJvbTtcbiAgICAgICAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjE0LnRvO1xuICAgICAgICB2YXIgaGVhZCA9IF9wbSRzZWxlY3Rpb24xNC5oZWFkO3ZhciBkb0pvaW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzTGlzdCAmJiBoZWFkICYmIGlzQXRUb3BPZkxpc3RJdGVtKHBtLmRvYywgZnJvbSwgdG8sIHR5cGUpKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhpcyBpcyB0aGUgdG9wIG9mIHRoZSBsaXN0XG4gICAgICAgICAgaWYgKGZyb20ucGF0aFtmcm9tLnBhdGgubGVuZ3RoIC0gMl0gPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGRvSm9pbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyID0gcG0udHIud3JhcChmcm9tLCB0bywgdHlwZS5jcmVhdGUoKSk7XG4gICAgICAgIGlmIChkb0pvaW4pIHRyLmpvaW4oZnJvbS5zaG9ydGVuKGZyb20uZGVwdGggLSAyKSk7XG4gICAgICAgIHJldHVybiB0ci5hcHBseShhbmRTY3JvbGwpO1xuICAgICAgfSxcbiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBtKSB7XG4gICAgICAgIHZhciBfcG0kc2VsZWN0aW9uMTUgPSBwbS5zZWxlY3Rpb247XG4gICAgICAgIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbjE1LmZyb207XG4gICAgICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24xNS50bztcbiAgICAgICAgdmFyIGhlYWQgPSBfcG0kc2VsZWN0aW9uMTUuaGVhZDtcblxuICAgICAgICBpZiAoaXNMaXN0ICYmIGhlYWQgJiYgaXNBdFRvcE9mTGlzdEl0ZW0ocG0uZG9jLCBmcm9tLCB0bywgdHlwZSkgJiYgZnJvbS5wYXRoW2Zyb20ucGF0aC5sZW5ndGggLSAyXSA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiAoMCwgX3RyYW5zZm9ybS5jYW5XcmFwKShwbS5kb2MsIGZyb20sIHRvLCB0eXBlLmNyZWF0ZSgpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGtleSBpbiBpbmZvKSB7XG4gICAgICBjb21tYW5kW2tleV0gPSBpbmZvW2tleV07XG4gICAgfXJldHVybiBjb21tYW5kO1xuICB9KTtcbn1cblxud3JhcENvbW1hbmQoX21vZGVsLkJ1bGxldExpc3QsIFwiQnVsbGV0TGlzdFwiLCBcImJ1bGxldCBsaXN0XCIsIHRydWUsIHtcbiAgbWVudUdyb3VwOiBcImJsb2NrXCIsXG4gIG1lbnVSYW5rOiA0MCxcbiAga2V5OiBbXCJBbHQtUmlnaHQgJyonXCIsIFwiQWx0LVJpZ2h0ICctJ1wiXVxufSk7XG5cbndyYXBDb21tYW5kKF9tb2RlbC5PcmRlcmVkTGlzdCwgXCJPcmRlcmVkTGlzdFwiLCBcIm9yZGVyZWQgbGlzdFwiLCB0cnVlLCB7XG4gIG1lbnVHcm91cDogXCJibG9ja1wiLFxuICBtZW51UmFuazogNDEsXG4gIGtleTogXCJBbHQtUmlnaHQgJzEnXCJcbn0pO1xuXG53cmFwQ29tbWFuZChfbW9kZWwuQmxvY2tRdW90ZSwgXCJCbG9ja1F1b3RlXCIsIFwiYmxvY2sgcXVvdGVcIiwgZmFsc2UsIHtcbiAgbWVudUdyb3VwOiBcImJsb2NrXCIsXG4gIG1lbnVSYW5rOiA0NSxcbiAga2V5OiBbXCJBbHQtUmlnaHQgJz4nXCIsIFwiQWx0LVJpZ2h0ICdcXFwiJ1wiXVxufSk7XG5cbmRlZmluZUNvbW1hbmQoXCJuZXdsaW5lSW5Db2RlXCIsIHtcbiAgbGFiZWw6IFwiSW5zZXJ0IG5ld2xpbmVcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgX3BtJHNlbGVjdGlvbjE2ID0gcG0uc2VsZWN0aW9uO1xuICAgIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbjE2LmZyb207XG4gICAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjE2LnRvO1xuICAgIHZhciBub2RlID0gX3BtJHNlbGVjdGlvbjE2Lm5vZGU7dmFyIGJsb2NrID0gdW5kZWZpbmVkO1xuICAgIGlmICghbm9kZSAmJiBfbW9kZWwuUG9zLnNhbWVQYXRoKGZyb20ucGF0aCwgdG8ucGF0aCkgJiYgKGJsb2NrID0gcG0uZG9jLnBhdGgoZnJvbS5wYXRoKSkudHlwZS5pc0NvZGUgJiYgdG8ub2Zmc2V0IDwgYmxvY2subWF4T2Zmc2V0KSByZXR1cm4gcG0udHIudHlwZVRleHQoXCJcXG5cIikuYXBwbHkoYW5kU2Nyb2xsKTtlbHNlIHJldHVybiBmYWxzZTtcbiAgfSxcbiAga2V5OiBcIkVudGVyKDEwKVwiXG59KTtcblxuZGVmaW5lQ29tbWFuZChcImNyZWF0ZVBhcmFncmFwaE5lYXJcIiwge1xuICBsYWJlbDogXCJDcmVhdGUgYSBwYXJhZ3JhcGggbmVhciB0aGUgc2VsZWN0ZWQgbGVhZiBibG9ja1wiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHZhciBfcG0kc2VsZWN0aW9uMTcgPSBwbS5zZWxlY3Rpb247XG4gICAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMTcuZnJvbTtcbiAgICB2YXIgdG8gPSBfcG0kc2VsZWN0aW9uMTcudG87XG4gICAgdmFyIG5vZGUgPSBfcG0kc2VsZWN0aW9uMTcubm9kZTtcblxuICAgIGlmICghbm9kZSB8fCAhbm9kZS5pc0Jsb2NrIHx8IG5vZGUudHlwZS5jb250YWlucykgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBzaWRlID0gZnJvbS5vZmZzZXQgPyB0byA6IGZyb207XG4gICAgcG0udHIuaW5zZXJ0KHNpZGUsIHBtLnNjaGVtYS5kZWZhdWx0VGV4dGJsb2NrVHlwZSgpLmNyZWF0ZSgpKS5hcHBseShhbmRTY3JvbGwpO1xuICAgIHBtLnNldFNlbGVjdGlvbihuZXcgX21vZGVsLlBvcyhzaWRlLnRvUGF0aCgpLCAwKSk7XG4gIH0sXG4gIGtleTogXCJFbnRlcigyMClcIlxufSk7XG5cbmRlZmluZUNvbW1hbmQoXCJsaWZ0RW1wdHlCbG9ja1wiLCB7XG4gIGxhYmVsOiBcIk1vdmUgY3VycmVudCBibG9jayB1cFwiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHZhciBfcG0kc2VsZWN0aW9uMTggPSBwbS5zZWxlY3Rpb247XG4gICAgdmFyIGhlYWQgPSBfcG0kc2VsZWN0aW9uMTguaGVhZDtcbiAgICB2YXIgZW1wdHkgPSBfcG0kc2VsZWN0aW9uMTguZW1wdHk7XG5cbiAgICBpZiAoIWVtcHR5IHx8IGhlYWQub2Zmc2V0ID4gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChoZWFkLnBhdGhbaGVhZC5wYXRoLmxlbmd0aCAtIDFdID4gMCAmJiBwbS50ci5zcGxpdChoZWFkLnNob3J0ZW4oKSkuYXBwbHkoKSAhPT0gZmFsc2UpIHJldHVybjtcbiAgICByZXR1cm4gcG0udHIubGlmdChoZWFkKS5hcHBseShhbmRTY3JvbGwpO1xuICB9LFxuICBrZXk6IFwiRW50ZXIoMzApXCJcbn0pO1xuXG5kZWZpbmVDb21tYW5kKFwic3BsaXRCbG9ja1wiLCB7XG4gIGxhYmVsOiBcIlNwbGl0IHRoZSBjdXJyZW50IGJsb2NrXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb24xOSA9IHBtLnNlbGVjdGlvbjtcbiAgICB2YXIgZnJvbSA9IF9wbSRzZWxlY3Rpb24xOS5mcm9tO1xuICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24xOS50bztcbiAgICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24xOS5ub2RlO3ZhciBibG9jayA9IHBtLmRvYy5wYXRoKHRvLnBhdGgpO1xuICAgIGlmIChub2RlICYmIG5vZGUuaXNCbG9jaykge1xuICAgICAgaWYgKCFmcm9tLm9mZnNldCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHBtLnRyLnNwbGl0KGZyb20pLmFwcGx5KGFuZFNjcm9sbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eXBlID0gdG8ub2Zmc2V0ID09IGJsb2NrLm1heE9mZnNldCA/IHBtLnNjaGVtYS5kZWZhdWx0VGV4dGJsb2NrVHlwZSgpLmNyZWF0ZSgpIDogbnVsbDtcbiAgICAgIHJldHVybiBwbS50cltcImRlbGV0ZVwiXShmcm9tLCB0bykuc3BsaXQoZnJvbSwgMSwgdHlwZSkuYXBwbHkoYW5kU2Nyb2xsKTtcbiAgICB9XG4gIH0sXG4gIGtleTogXCJFbnRlcig2MClcIlxufSk7XG5cbl9tb2RlbC5MaXN0SXRlbS5hdHRhY2hDb21tYW5kKFwic3BsaXRMaXN0SXRlbVwiLCBmdW5jdGlvbiAodHlwZSkge1xuICByZXR1cm4ge1xuICAgIGxhYmVsOiBcIlNwbGl0IHRoZSBjdXJyZW50IGxpc3QgaXRlbVwiLFxuICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICB2YXIgX3BtJHNlbGVjdGlvbjIwID0gcG0uc2VsZWN0aW9uO1xuICAgICAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMjAuZnJvbTtcbiAgICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24yMC50bztcbiAgICAgIHZhciBub2RlID0gX3BtJHNlbGVjdGlvbjIwLm5vZGU7XG4gICAgICB2YXIgZW1wdHkgPSBfcG0kc2VsZWN0aW9uMjAuZW1wdHk7XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUuaXNCbG9jayB8fCBmcm9tLnBhdGgubGVuZ3RoIDwgMiB8fCAhX21vZGVsLlBvcy5zYW1lUGF0aChmcm9tLnBhdGgsIHRvLnBhdGgpIHx8IGVtcHR5ICYmIGZyb20ub2Zmc2V0ID09IDApIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciB0b1BhcmVudCA9IGZyb20uc2hvcnRlbigpLFxuICAgICAgICAgIGdyYW5kUGFyZW50ID0gcG0uZG9jLnBhdGgodG9QYXJlbnQucGF0aCk7XG4gICAgICBpZiAoZ3JhbmRQYXJlbnQudHlwZSAhPSB0eXBlKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgbmV4dFR5cGUgPSB0by5vZmZzZXQgPT0gZ3JhbmRQYXJlbnQuY2hpbGQodG9QYXJlbnQub2Zmc2V0KS5tYXhPZmZzZXQgPyBwbS5zY2hlbWEuZGVmYXVsdFRleHRibG9ja1R5cGUoKS5jcmVhdGUoKSA6IG51bGw7XG4gICAgICByZXR1cm4gcG0udHJbXCJkZWxldGVcIl0oZnJvbSwgdG8pLnNwbGl0KGZyb20sIDIsIG5leHRUeXBlKS5hcHBseShhbmRTY3JvbGwpO1xuICAgIH0sXG4gICAga2V5OiBcIkVudGVyKDUwKVwiXG4gIH07XG59KTtcblxuZnVuY3Rpb24gYmxvY2tUeXBlQ29tbWFuZCh0eXBlLCBuYW1lLCBsYWJlbE5hbWUsIGF0dHJzLCBrZXkpIHtcbiAgaWYgKCFhdHRycykgYXR0cnMgPSB7fTtcbiAgdHlwZS5hdHRhY2hDb21tYW5kKG5hbWUsIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBcIkNoYW5nZSB0byBcIiArIGxhYmVsTmFtZSxcbiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICAgIHZhciBfcG0kc2VsZWN0aW9uMjEgPSBwbS5zZWxlY3Rpb247XG4gICAgICAgIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbjIxLmZyb207XG4gICAgICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24yMS50bztcblxuICAgICAgICByZXR1cm4gcG0udHIuc2V0QmxvY2tUeXBlKGZyb20sIHRvLCBwbS5zY2hlbWEubm9kZSh0eXBlLCBhdHRycykpLmFwcGx5KGFuZFNjcm9sbCk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QocG0pIHtcbiAgICAgICAgdmFyIF9wbSRzZWxlY3Rpb24yMiA9IHBtLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMjIuZnJvbTtcbiAgICAgICAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjIyLnRvO1xuICAgICAgICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24yMi5ub2RlO1xuXG4gICAgICAgIGlmIChub2RlKSByZXR1cm4gbm9kZS5pc1RleHRibG9jayAmJiAhKDAsIF9tb2RlbC5jb21wYXJlTWFya3VwKSh0eXBlLCBub2RlLnR5cGUsIGF0dHJzLCBub2RlLmF0dHJzKTtlbHNlIHJldHVybiAhKDAsIF90cmFuc2Zvcm0uYWxyZWFkeUhhc0Jsb2NrVHlwZSkocG0uZG9jLCBmcm9tLCB0bywgdHlwZSwgYXR0cnMpO1xuICAgICAgfSxcbiAgICAgIGtleToga2V5XG4gICAgfTtcbiAgfSk7XG59XG5cbmJsb2NrVHlwZUNvbW1hbmQoX21vZGVsLkhlYWRpbmcsIFwibWFrZUgxXCIsIFwiaGVhZGluZyAxXCIsIHsgbGV2ZWw6IDEgfSwgXCJNb2QtSCAnMSdcIik7XG5ibG9ja1R5cGVDb21tYW5kKF9tb2RlbC5IZWFkaW5nLCBcIm1ha2VIMlwiLCBcImhlYWRpbmcgMlwiLCB7IGxldmVsOiAyIH0sIFwiTW9kLUggJzInXCIpO1xuYmxvY2tUeXBlQ29tbWFuZChfbW9kZWwuSGVhZGluZywgXCJtYWtlSDNcIiwgXCJoZWFkaW5nIDNcIiwgeyBsZXZlbDogMyB9LCBcIk1vZC1IICczJ1wiKTtcbmJsb2NrVHlwZUNvbW1hbmQoX21vZGVsLkhlYWRpbmcsIFwibWFrZUg0XCIsIFwiaGVhZGluZyA0XCIsIHsgbGV2ZWw6IDQgfSwgXCJNb2QtSCAnNCdcIik7XG5ibG9ja1R5cGVDb21tYW5kKF9tb2RlbC5IZWFkaW5nLCBcIm1ha2VINVwiLCBcImhlYWRpbmcgNVwiLCB7IGxldmVsOiA1IH0sIFwiTW9kLUggJzUnXCIpO1xuYmxvY2tUeXBlQ29tbWFuZChfbW9kZWwuSGVhZGluZywgXCJtYWtlSDZcIiwgXCJoZWFkaW5nIDZcIiwgeyBsZXZlbDogNiB9LCBcIk1vZC1IICc2J1wiKTtcblxuYmxvY2tUeXBlQ29tbWFuZChfbW9kZWwuUGFyYWdyYXBoLCBcIm1ha2VQYXJhZ3JhcGhcIiwgXCJwYXJhZ3JhcGhcIiwgbnVsbCwgXCJNb2QtUFwiKTtcbmJsb2NrVHlwZUNvbW1hbmQoX21vZGVsLkNvZGVCbG9jaywgXCJtYWtlQ29kZUJsb2NrXCIsIFwiY29kZSBibG9ja1wiLCBudWxsLCBcIk1vZC1cXFxcXCIpO1xuXG5fbW9kZWwuSG9yaXpvbnRhbFJ1bGUuYXR0YWNoQ29tbWFuZChcImluc2VydEhvcml6b250YWxSdWxlXCIsIGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgbGFiZWw6IFwiSW5zZXJ0IGhvcml6b250YWwgcnVsZVwiLFxuICAgIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgICByZXR1cm4gcG0udHIucmVwbGFjZVNlbGVjdGlvbih0eXBlLmNyZWF0ZSgpKS5hcHBseShhbmRTY3JvbGwpO1xuICAgIH0sXG4gICAga2V5OiBcIk1vZC1TcGFjZVwiXG4gIH07XG59KTtcblxuZGVmaW5lQ29tbWFuZChcInVuZG9cIiwge1xuICBsYWJlbDogXCJVbmRvIGxhc3QgY2hhbmdlXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtKSB7XG4gICAgcG0uc2Nyb2xsSW50b1ZpZXcoKTtyZXR1cm4gcG0uaGlzdG9yeS51bmRvKCk7XG4gIH0sXG4gIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBtKSB7XG4gICAgcmV0dXJuIHBtLmhpc3RvcnkuY2FuVW5kbygpO1xuICB9LFxuICBtZW51R3JvdXA6IFwiaGlzdG9yeVwiLFxuICBtZW51UmFuazogMTAsXG4gIGtleTogXCJNb2QtWlwiXG59KTtcblxuZGVmaW5lQ29tbWFuZChcInJlZG9cIiwge1xuICBsYWJlbDogXCJSZWRvIGxhc3QgdW5kb25lIGNoYW5nZVwiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHBtLnNjcm9sbEludG9WaWV3KCk7cmV0dXJuIHBtLmhpc3RvcnkucmVkbygpO1xuICB9LFxuICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChwbSkge1xuICAgIHJldHVybiBwbS5oaXN0b3J5LmNhblJlZG8oKTtcbiAgfSxcbiAgbWVudUdyb3VwOiBcImhpc3RvcnlcIixcbiAgbWVudVJhbms6IDIwLFxuICBrZXk6IFtcIk1vZC1ZXCIsIFwiU2hpZnQtTW9kLVpcIl1cbn0pO1xuXG5kZWZpbmVDb21tYW5kKFwidGV4dGJsb2NrVHlwZVwiLCB7XG4gIGxhYmVsOiBcIkNoYW5nZSBibG9jayB0eXBlXCIsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHBtLCB0eXBlKSB7XG4gICAgdmFyIF9wbSRzZWxlY3Rpb24yMyA9IHBtLnNlbGVjdGlvbjtcbiAgICB2YXIgZnJvbSA9IF9wbSRzZWxlY3Rpb24yMy5mcm9tO1xuICAgIHZhciB0byA9IF9wbSRzZWxlY3Rpb24yMy50bztcblxuICAgIHJldHVybiBwbS50ci5zZXRCbG9ja1R5cGUoZnJvbSwgdG8sIHR5cGUpLmFwcGx5KCk7XG4gIH0sXG4gIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBtKSB7XG4gICAgdmFyIG5vZGUgPSBwbS5zZWxlY3Rpb24ubm9kZTtcblxuICAgIHJldHVybiAhbm9kZSB8fCBub2RlLmlzVGV4dGJsb2NrO1xuICB9LFxuICBwYXJhbXM6IFt7IG5hbWU6IFwiVHlwZVwiLCB0eXBlOiBcInNlbGVjdFwiLCBvcHRpb25zOiBsaXN0VGV4dGJsb2NrVHlwZXMsIFwiZGVmYXVsdFwiOiBjdXJyZW50VGV4dGJsb2NrVHlwZSwgZGVmYXVsdExhYmVsOiBcIlR5cGUuLi5cIiB9XSxcbiAgZGlzcGxheTogXCJzZWxlY3RcIixcbiAgbWVudUdyb3VwOiBcImJsb2NrXCIsIG1lbnVSYW5rOiAxMFxufSk7XG5cbl9tb2RlbC5QYXJhZ3JhcGgucHJvdG90eXBlLnRleHRibG9ja1R5cGVzID0gW3sgbGFiZWw6IFwiTm9ybWFsXCIsIHJhbms6IDEwIH1dO1xuX21vZGVsLkNvZGVCbG9jay5wcm90b3R5cGUudGV4dGJsb2NrVHlwZXMgPSBbeyBsYWJlbDogXCJDb2RlXCIsIHJhbms6IDIwIH1dO1xuX21vZGVsLkhlYWRpbmcucHJvdG90eXBlLnRleHRibG9ja1R5cGVzID0gWzEsIDIsIDMsIDQsIDUsIDZdLm1hcChmdW5jdGlvbiAobikge1xuICByZXR1cm4geyBsYWJlbDogXCJIZWFkIFwiICsgbiwgYXR0cnM6IHsgbGV2ZWw6IG4gfSwgcmFuazogMzAgKyBuIH07XG59KTtcblxuZnVuY3Rpb24gbGlzdFRleHRibG9ja1R5cGVzKHBtKSB7XG4gIHZhciBjYWNoZWQgPSBwbS5zY2hlbWEuY2FjaGVkLnRleHRibG9ja1R5cGVzO1xuICBpZiAoY2FjaGVkKSByZXR1cm4gY2FjaGVkO1xuXG4gIHZhciBmb3VuZCA9IFtdO1xuICBmb3IgKHZhciBfbmFtZTQgaW4gcG0uc2NoZW1hLm5vZGVzKSB7XG4gICAgdmFyIHR5cGUgPSBwbS5zY2hlbWEubm9kZXNbX25hbWU0XTtcbiAgICBpZiAoIXR5cGUudGV4dGJsb2NrVHlwZXMpIGNvbnRpbnVlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS50ZXh0YmxvY2tUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluZm8gPSB0eXBlLnRleHRibG9ja1R5cGVzW2ldO1xuICAgICAgKDAsIF91dGlsU29ydGVkaW5zZXJ0MltcImRlZmF1bHRcIl0pKGZvdW5kLCB7IGxhYmVsOiBpbmZvLmxhYmVsLCB2YWx1ZTogdHlwZS5jcmVhdGUoaW5mby5hdHRycyksIHJhbms6IGluZm8ucmFuayB9LCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5yYW5rIC0gYi5yYW5rO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwbS5zY2hlbWEuY2FjaGVkLnRleHRibG9ja1R5cGVzID0gZm91bmQ7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRUZXh0YmxvY2tUeXBlKHBtKSB7XG4gIHZhciBfcG0kc2VsZWN0aW9uMjQgPSBwbS5zZWxlY3Rpb247XG4gIHZhciBmcm9tID0gX3BtJHNlbGVjdGlvbjI0LmZyb207XG4gIHZhciB0byA9IF9wbSRzZWxlY3Rpb24yNC50bztcbiAgdmFyIG5vZGUgPSBfcG0kc2VsZWN0aW9uMjQubm9kZTtcblxuICBpZiAoIW5vZGUgfHwgbm9kZS5pc0lubGluZSkge1xuICAgIGlmICghX21vZGVsLlBvcy5zYW1lUGF0aChmcm9tLnBhdGgsIHRvLnBhdGgpKSByZXR1cm4gbnVsbDtcbiAgICBub2RlID0gcG0uZG9jLnBhdGgoZnJvbS5wYXRoKTtcbiAgfSBlbHNlIGlmICghbm9kZS5pc1RleHRibG9jaykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciB0eXBlcyA9IGxpc3RUZXh0YmxvY2tUeXBlcyhwbSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZXNbaV0udmFsdWUuc2FtZU1hcmt1cChub2RlKSkgcmV0dXJuIHR5cGVzW2ldO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vZGVBYm92ZVNlbGVjdGlvbihwbSkge1xuICB2YXIgc2VsID0gcG0uc2VsZWN0aW9uLFxuICAgICAgaSA9IDA7XG4gIGlmIChzZWwubm9kZSkgcmV0dXJuICEhc2VsLmZyb20uZGVwdGggJiYgc2VsLmZyb20uc2hvcnRlbigpO1xuICBmb3IgKDsgaSA8IHNlbC5oZWFkLmRlcHRoICYmIGkgPCBzZWwuYW5jaG9yLmRlcHRoOyBpKyspIGlmIChzZWwuaGVhZC5wYXRoW2ldICE9IHNlbC5hbmNob3IucGF0aFtpXSkgYnJlYWs7XG4gIHJldHVybiBpID09IDAgPyBmYWxzZSA6IHNlbC5oZWFkLnNob3J0ZW4oaSAtIDEpO1xufVxuXG5kZWZpbmVDb21tYW5kKFwic2VsZWN0UGFyZW50QmxvY2tcIiwge1xuICBsYWJlbDogXCJTZWxlY3QgcGFyZW50IG5vZGVcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgbm9kZSA9IG5vZGVBYm92ZVNlbGVjdGlvbihwbSk7XG4gICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG4gICAgcG0uc2V0Tm9kZVNlbGVjdGlvbihub2RlKTtcbiAgfSxcbiAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QocG0pIHtcbiAgICByZXR1cm4gbm9kZUFib3ZlU2VsZWN0aW9uKHBtKTtcbiAgfSxcbiAgbWVudUdyb3VwOiBcImJsb2NrXCIsXG4gIG1lbnVSYW5rOiA5MCxcbiAga2V5OiBcIkVzY1wiXG59KTtcblxuZnVuY3Rpb24gbW92ZVNlbGVjdGlvbkJsb2NrKHBtLCBkaXIpIHtcbiAgdmFyIF9wbSRzZWxlY3Rpb24yNSA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMjUuZnJvbTtcbiAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjI1LnRvO1xuICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24yNS5ub2RlO1xuXG4gIHZhciBzaWRlID0gZGlyID4gMCA/IHRvIDogZnJvbTtcbiAgcmV0dXJuICgwLCBfc2VsZWN0aW9uLmZpbmRTZWxlY3Rpb25Gcm9tKShwbS5kb2MsIG5vZGUgJiYgbm9kZS5pc0Jsb2NrID8gc2lkZSA6IHNpZGUuc2hvcnRlbihudWxsLCBkaXIgPiAwID8gMSA6IDApLCBkaXIpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RCbG9ja0hvcml6b250YWxseShwbSwgZGlyKSB7XG4gIHZhciBfcG0kc2VsZWN0aW9uMjYgPSBwbS5zZWxlY3Rpb247XG4gIHZhciBlbXB0eSA9IF9wbSRzZWxlY3Rpb24yNi5lbXB0eTtcbiAgdmFyIG5vZGUgPSBfcG0kc2VsZWN0aW9uMjYubm9kZTtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMjYuZnJvbTtcbiAgdmFyIHRvID0gX3BtJHNlbGVjdGlvbjI2LnRvO1xuXG4gIGlmICghZW1wdHkgJiYgIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAobm9kZSAmJiBub2RlLmlzSW5saW5lKSB7XG4gICAgcG0uc2V0U2VsZWN0aW9uKGRpciA+IDAgPyB0byA6IGZyb20pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIHBhcmVudCA9IHVuZGVmaW5lZDtcbiAgaWYgKCFub2RlICYmIChwYXJlbnQgPSBwbS5kb2MucGF0aChmcm9tLnBhdGgpKSAmJiAoZGlyID4gMCA/IGZyb20ub2Zmc2V0IDwgcGFyZW50Lm1heE9mZnNldCA6IGZyb20ub2Zmc2V0KSkge1xuICAgIHZhciBfcmVmMiA9IGRpciA+IDAgPyBwYXJlbnQuY2hpbGRBZnRlcihmcm9tLm9mZnNldCkgOiBwYXJlbnQuY2hpbGRCZWZvcmUoZnJvbS5vZmZzZXQpO1xuXG4gICAgdmFyIG5leHROb2RlID0gX3JlZjIubm9kZTtcbiAgICB2YXIgaW5uZXJPZmZzZXQgPSBfcmVmMi5pbm5lck9mZnNldDtcblxuICAgIGlmIChuZXh0Tm9kZSAmJiBuZXh0Tm9kZS50eXBlLnNlbGVjdGFibGUgJiYgKGRpciA+IDAgPyAhaW5uZXJPZmZzZXQgOiBpbm5lck9mZnNldCA9PSBuZXh0Tm9kZS5vZmZzZXQpKSB7XG4gICAgICBwbS5zZXROb2RlU2VsZWN0aW9uKGRpciA8IDAgPyBmcm9tLm1vdmUoLTEpIDogZnJvbSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2socG0sIGRpcik7XG4gIGlmIChuZXh0ICYmIChuZXh0IGluc3RhbmNlb2YgX3NlbGVjdGlvbi5Ob2RlU2VsZWN0aW9uIHx8IG5vZGUpKSB7XG4gICAgcG0uc2V0U2VsZWN0aW9uKG5leHQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZGVmaW5lQ29tbWFuZChcInNlbGVjdEJsb2NrTGVmdFwiLCB7XG4gIGxhYmVsOiBcIk1vdmUgdGhlIHNlbGVjdGlvbiBvbnRvIG9yIG91dCBvZiB0aGUgYmxvY2sgdG8gdGhlIGxlZnRcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgZG9uZSA9IHNlbGVjdEJsb2NrSG9yaXpvbnRhbGx5KHBtLCAtMSk7XG4gICAgaWYgKGRvbmUpIHBtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgcmV0dXJuIGRvbmU7XG4gIH0sXG4gIGtleTogW1wiTGVmdFwiLCBcIk1vZC1MZWZ0XCJdXG59KTtcblxuZGVmaW5lQ29tbWFuZChcInNlbGVjdEJsb2NrUmlnaHRcIiwge1xuICBsYWJlbDogXCJNb3ZlIHRoZSBzZWxlY3Rpb24gb250byBvciBvdXQgb2YgdGhlIGJsb2NrIHRvIHRoZSByaWdodFwiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHZhciBkb25lID0gc2VsZWN0QmxvY2tIb3Jpem9udGFsbHkocG0sIDEpO1xuICAgIGlmIChkb25lKSBwbS5zY3JvbGxJbnRvVmlldygpO1xuICAgIHJldHVybiBkb25lO1xuICB9LFxuICBrZXk6IFtcIlJpZ2h0XCIsIFwiTW9kLVJpZ2h0XCJdXG59KTtcblxuZnVuY3Rpb24gc2VsZWN0QmxvY2tWZXJ0aWNhbGx5KHBtLCBkaXIpIHtcbiAgdmFyIF9wbSRzZWxlY3Rpb24yNyA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIGVtcHR5ID0gX3BtJHNlbGVjdGlvbjI3LmVtcHR5O1xuICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24yNy5ub2RlO1xuICB2YXIgZnJvbSA9IF9wbSRzZWxlY3Rpb24yNy5mcm9tO1xuICB2YXIgdG8gPSBfcG0kc2VsZWN0aW9uMjcudG87XG5cbiAgaWYgKCFlbXB0eSAmJiAhbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsZWF2aW5nVGV4dGJsb2NrID0gdHJ1ZTtcbiAgaWYgKCFub2RlIHx8IG5vZGUuaXNJbmxpbmUpIGxlYXZpbmdUZXh0YmxvY2sgPSAoMCwgX3NlbGVjdGlvbi52ZXJ0aWNhbE1vdGlvbkxlYXZlc1RleHRibG9jaykocG0sIGRpciA+IDAgPyB0byA6IGZyb20sIGRpcik7XG5cbiAgaWYgKGxlYXZpbmdUZXh0YmxvY2spIHtcbiAgICB2YXIgbmV4dCA9IG1vdmVTZWxlY3Rpb25CbG9jayhwbSwgZGlyKTtcbiAgICBpZiAobmV4dCAmJiBuZXh0IGluc3RhbmNlb2YgX3NlbGVjdGlvbi5Ob2RlU2VsZWN0aW9uKSB7XG4gICAgICBwbS5zZXRTZWxlY3Rpb24obmV4dCk7XG4gICAgICBpZiAoIW5vZGUpIHBtLnNlbC5sYXN0Tm9uTm9kZVBvcyA9IGZyb207XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAobm9kZS5pc0lubGluZSkge1xuICAgICgwLCBfc2VsZWN0aW9uLnNldERPTVNlbGVjdGlvblRvUG9zKShwbSwgZnJvbSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGxhc3QgPSBwbS5zZWwubGFzdE5vbk5vZGVQb3M7XG4gIHZhciBiZXlvbmQgPSAoMCwgX3NlbGVjdGlvbi5maW5kU2VsZWN0aW9uRnJvbSkocG0uZG9jLCBkaXIgPCAwID8gZnJvbSA6IHRvLCBkaXIpO1xuICBpZiAobGFzdCAmJiBiZXlvbmQgJiYgX21vZGVsLlBvcy5zYW1lUGF0aChsYXN0LnBhdGgsIGJleW9uZC5mcm9tLnBhdGgpKSB7XG4gICAgKDAsIF9zZWxlY3Rpb24uc2V0RE9NU2VsZWN0aW9uVG9Qb3MpKHBtLCBsYXN0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcG0uc2V0U2VsZWN0aW9uKGJleW9uZCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5kZWZpbmVDb21tYW5kKFwic2VsZWN0QmxvY2tVcFwiLCB7XG4gIGxhYmVsOiBcIk1vdmUgdGhlIHNlbGVjdGlvbiBvbnRvIG9yIG91dCBvZiB0aGUgYmxvY2sgYWJvdmVcIixcbiAgcnVuOiBmdW5jdGlvbiBydW4ocG0pIHtcbiAgICB2YXIgZG9uZSA9IHNlbGVjdEJsb2NrVmVydGljYWxseShwbSwgLTEpO1xuICAgIGlmIChkb25lICE9PSBmYWxzZSkgcG0uc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICByZXR1cm4gZG9uZTtcbiAgfSxcbiAga2V5OiBcIlVwXCJcbn0pO1xuXG5kZWZpbmVDb21tYW5kKFwic2VsZWN0QmxvY2tEb3duXCIsIHtcbiAgbGFiZWw6IFwiTW92ZSB0aGUgc2VsZWN0aW9uIG9udG8gb3Igb3V0IG9mIHRoZSBibG9jayBiZWxvd1wiLFxuICBydW46IGZ1bmN0aW9uIHJ1bihwbSkge1xuICAgIHZhciBkb25lID0gc2VsZWN0QmxvY2tWZXJ0aWNhbGx5KHBtLCAxKTtcbiAgICBpZiAoZG9uZSAhPT0gZmFsc2UpIHBtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgcmV0dXJuIGRvbmU7XG4gIH0sXG4gIGtleTogXCJEb3duXCJcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XG5cbigwLCBfZG9tLmluc2VydENTUykoXCJcXG5cXG4uUHJvc2VNaXJyb3Ige1xcbiAgYm9yZGVyOiAxcHggc29saWQgc2lsdmVyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItY29udGVudCB7XFxuICBwYWRkaW5nOiA0cHggOHB4IDRweCAxNHB4O1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgbGluZS1oZWlnaHQ6IDEuMjtcXG59XFxuXFxuLlByb3NlTWlycm9yLWRyb3AtdGFyZ2V0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxcHg7XFxuICBiYWNrZ3JvdW5kOiAjNjY2O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLlByb3NlTWlycm9yLWNvbnRlbnQgdWwudGlnaHQgcCwgLlByb3NlTWlycm9yLWNvbnRlbnQgb2wudGlnaHQgcCB7XFxuICBtYXJnaW46IDA7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1jb250ZW50IHVsLCAuUHJvc2VNaXJyb3ItY29udGVudCBvbCB7XFxuICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGJsb2NrcXVvdGUge1xcbiAgcGFkZGluZy1sZWZ0OiAxZW07XFxuICBib3JkZXItbGVmdDogM3B4IHNvbGlkICNlZWU7XFxuICBtYXJnaW4tbGVmdDogMDsgbWFyZ2luLXJpZ2h0OiAwO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItY29udGVudCBwcmUge1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlIHtcXG4gIG91dGxpbmU6IDJweCBzb2xpZCAjOGNmO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItY29udGVudCBwOmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGgxOmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGgyOmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGgzOmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGg0OmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGg1OmZpcnN0LWNoaWxkLFxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGg2OmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi10b3A6IC4zZW07XFxufVxcblxcbi8qIEFkZCBzcGFjZSBhcm91bmQgdGhlIGhyIHRvIG1ha2UgY2xpY2tpbmcgaXQgZWFzaWVyICovXFxuXFxuLlByb3NlTWlycm9yLWNvbnRlbnQgaHIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBib3JkZXI6IG5vbmU7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1jb250ZW50IGhyOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMTBweDtcXG4gIHJpZ2h0OiAxMHB4O1xcbiAgdG9wOiAycHg7XFxuICBib3JkZXItdG9wOiAycHggc29saWQgc2lsdmVyO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItY29udGVudCBpbWcge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4vKiBNYWtlIHN1cmUgbGkgc2VsZWN0aW9ucyB3cmFwIGFyb3VuZCBtYXJrZXJzICovXFxuXFxuLlByb3NlTWlycm9yLWNvbnRlbnQgbGkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7IC8qIERvbid0IGRvIHdlaXJkIHN0dWZmIHdpdGggbWFya2VyIGNsaWNrcyAqL1xcbn1cXG4uUHJvc2VNaXJyb3ItY29udGVudCBsaSA+ICoge1xcbiAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxufVxcblxcbmxpLlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZSB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG5saS5Qcm9zZU1pcnJvci1zZWxlY3RlZG5vZGU6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAtMzJweDtcXG4gIHJpZ2h0OiAtMnB4OyB0b3A6IC0ycHg7IGJvdHRvbTogLTJweDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICM4Y2Y7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hcHBseURPTUNoYW5nZSA9IGFwcGx5RE9NQ2hhbmdlO1xuZXhwb3J0cy50ZXh0Q29udGV4dCA9IHRleHRDb250ZXh0O1xuZXhwb3J0cy50ZXh0SW5Db250ZXh0ID0gdGV4dEluQ29udGV4dDtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9wYXJzZURvbSA9IHJlcXVpcmUoXCIuLi9wYXJzZS9kb21cIik7XG5cbnZhciBfdHJhbnNmb3JtVHJlZSA9IHJlcXVpcmUoXCIuLi90cmFuc2Zvcm0vdHJlZVwiKTtcblxudmFyIF9zZWxlY3Rpb24gPSByZXF1aXJlKFwiLi9zZWxlY3Rpb25cIik7XG5cbmZ1bmN0aW9uIGlzQXRFbmQobm9kZSwgcG9zLCBkZXB0aCkge1xuICBmb3IgKHZhciBpID0gZGVwdGggfHwgMDsgaSA8IHBvcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG4gPSBwb3MucGF0aFtkZXB0aF07XG4gICAgaWYgKG4gPCBub2RlLmxlbmd0aCAtIDEpIHJldHVybiBmYWxzZTtcbiAgICBub2RlID0gbm9kZS5jaGlsZChuKTtcbiAgfVxuICByZXR1cm4gcG9zLm9mZnNldCA9PSBub2RlLm1heE9mZnNldDtcbn1cbmZ1bmN0aW9uIGlzQXRTdGFydChwb3MsIGRlcHRoKSB7XG4gIGlmIChwb3Mub2Zmc2V0ID4gMCkgcmV0dXJuIGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVwdGggfHwgMDsgaSA8IHBvcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHBvcy5wYXRoW2RlcHRoXSA+IDApIHJldHVybiBmYWxzZTtcbiAgfXJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBwYXJzZU5lYXJTZWxlY3Rpb24ocG0pIHtcbiAgdmFyIGRvbSA9IHBtLmNvbnRlbnQsXG4gICAgICBub2RlID0gcG0uZG9jO1xuICB2YXIgX3BtJHNlbGVjdGlvbiA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uLmZyb207XG4gIHZhciB0byA9IF9wbSRzZWxlY3Rpb24udG87XG5cbiAgZm9yICh2YXIgZGVwdGggPSAwOzsgZGVwdGgrKykge1xuICAgIHZhciB0b05vZGUgPSBub2RlLmNoaWxkKHRvLnBhdGhbZGVwdGhdKTtcbiAgICB2YXIgZnJvbVN0YXJ0ID0gaXNBdFN0YXJ0KGZyb20sIGRlcHRoICsgMSk7XG4gICAgdmFyIHRvRW5kID0gaXNBdEVuZCh0b05vZGUsIHRvLCBkZXB0aCArIDEpO1xuICAgIGlmIChmcm9tU3RhcnQgfHwgdG9FbmQgfHwgZnJvbS5wYXRoW2RlcHRoXSAhPSB0by5wYXRoW2RlcHRoXSB8fCB0b05vZGUuaXNUZXh0YmxvY2spIHtcbiAgICAgIHZhciBzdGFydE9mZnNldCA9IGRlcHRoID09IGZyb20uZGVwdGggPyBmcm9tLm9mZnNldCA6IGZyb20ucGF0aFtkZXB0aF07XG4gICAgICBpZiAoZnJvbVN0YXJ0ICYmIHN0YXJ0T2Zmc2V0ID4gMCkgc3RhcnRPZmZzZXQtLTtcbiAgICAgIHZhciBlbmRPZmZzZXQgPSBkZXB0aCA9PSB0by5kZXB0aCA/IHRvLm9mZnNldCA6IHRvLnBhdGhbZGVwdGhdICsgMTtcbiAgICAgIGlmICh0b0VuZCAmJiBlbmRPZmZzZXQgPCBub2RlLmxlbmd0aCAtIDEpIGVuZE9mZnNldCsrO1xuICAgICAgdmFyIHBhcnNlZCA9ICgwLCBfcGFyc2VEb20uZnJvbURPTSkocG0uc2NoZW1hLCBkb20sIHsgdG9wTm9kZTogbm9kZS5jb3B5KCksXG4gICAgICAgIGZyb206IHN0YXJ0T2Zmc2V0LFxuICAgICAgICB0bzogZG9tLmNoaWxkTm9kZXMubGVuZ3RoIC0gKG5vZGUubGVuZ3RoIC0gZW5kT2Zmc2V0KSB9KTtcbiAgICAgIHBhcnNlZCA9IHBhcnNlZC5jb3B5KG5vZGUuc2xpY2UoMCwgc3RhcnRPZmZzZXQpLmNvbmNhdChwYXJzZWQuY2hpbGRyZW4pLmNvbmNhdChub2RlLnNsaWNlKGVuZE9mZnNldCkpKTtcbiAgICAgIGZvciAodmFyIGkgPSBkZXB0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciB3cmFwID0gcG0uZG9jLnBhdGgoZnJvbS5wYXRoLnNsaWNlKDAsIGkpKTtcbiAgICAgICAgcGFyc2VkID0gd3JhcC5zcGxpY2UoZnJvbS5wYXRoW2ldLCBmcm9tLnBhdGhbaV0gKyAxLCBbcGFyc2VkXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiAgICBub2RlID0gdG9Ob2RlO1xuICAgIGRvbSA9ICgwLCBfc2VsZWN0aW9uLmZpbmRCeVBhdGgpKGRvbSwgZnJvbS5wYXRoW2RlcHRoXSwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5RE9NQ2hhbmdlKHBtKSB7XG4gIHZhciB1cGRhdGVkID0gcGFyc2VOZWFyU2VsZWN0aW9uKHBtKTtcbiAgdmFyIGNoYW5nZVN0YXJ0ID0gKDAsIF9tb2RlbC5maW5kRGlmZlN0YXJ0KShwbS5kb2MsIHVwZGF0ZWQpO1xuICBpZiAoY2hhbmdlU3RhcnQpIHtcbiAgICB2YXIgY2hhbmdlRW5kID0gZmluZERpZmZFbmRDb25zdHJhaW5lZChwbS5kb2MsIHVwZGF0ZWQsIGNoYW5nZVN0YXJ0KTtcbiAgICAvLyBNYXJrIG5vZGVzIHRvdWNoZWQgYnkgdGhpcyBjaGFuZ2UgYXMgJ3RvIGJlIHJlZHJhd24nXG4gICAgcG0ubWFya1JhbmdlRGlydHkoKDAsIF9tb2RlbC5zaWJsaW5nUmFuZ2UpKHBtLmRvYywgY2hhbmdlU3RhcnQuYSwgY2hhbmdlRW5kLmEpKTtcblxuICAgIHBtLnRyLnJlcGxhY2UoY2hhbmdlU3RhcnQuYSwgY2hhbmdlRW5kLmEsIHVwZGF0ZWQsIGNoYW5nZVN0YXJ0LmIsIGNoYW5nZUVuZC5iKS5hcHBseSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvZmZzZXRCeShmaXJzdCwgc2Vjb25kLCBwb3MpIHtcbiAgdmFyIHNhbWUgPSAoMCwgX3RyYW5zZm9ybVRyZWUuc2FtZVBhdGhEZXB0aCkoZmlyc3QsIHNlY29uZCk7XG4gIHZhciBmaXJzdEVuZCA9IHNhbWUgPT0gZmlyc3QuZGVwdGgsXG4gICAgICBzZWNvbmRFbmQgPSBzYW1lID09IHNlY29uZC5kZXB0aDtcbiAgdmFyIG9mZiA9IChzZWNvbmRFbmQgPyBzZWNvbmQub2Zmc2V0IDogc2Vjb25kLnBhdGhbc2FtZV0pIC0gKGZpcnN0RW5kID8gZmlyc3Qub2Zmc2V0IDogZmlyc3QucGF0aFtzYW1lXSk7XG4gIHZhciBzaG9ydGVyID0gZmlyc3RFbmQgPyBwb3MubW92ZShvZmYpIDogcG9zLnNob3J0ZW4oc2FtZSwgb2ZmKTtcbiAgaWYgKHNlY29uZEVuZCkgcmV0dXJuIHNob3J0ZXI7ZWxzZSByZXR1cm4gc2hvcnRlci5leHRlbmQobmV3IF9tb2RlbC5Qb3Moc2Vjb25kLnBhdGguc2xpY2Uoc2FtZSksIHNlY29uZC5vZmZzZXQpKTtcbn1cblxuZnVuY3Rpb24gZmluZERpZmZFbmRDb25zdHJhaW5lZChhLCBiLCBzdGFydCkge1xuICB2YXIgZW5kID0gKDAsIF9tb2RlbC5maW5kRGlmZkVuZCkoYSwgYik7XG4gIGlmICghZW5kKSByZXR1cm4gZW5kO1xuICBpZiAoZW5kLmEuY21wKHN0YXJ0LmEpIDwgMCkgcmV0dXJuIHsgYTogc3RhcnQuYSwgYjogb2Zmc2V0QnkoZW5kLmEsIHN0YXJ0LmEsIGVuZC5iKSB9O1xuICBpZiAoZW5kLmIuY21wKHN0YXJ0LmIpIDwgMCkgcmV0dXJuIHsgYTogb2Zmc2V0QnkoZW5kLmIsIHN0YXJ0LmIsIGVuZC5hKSwgYjogc3RhcnQuYiB9O1xuICByZXR1cm4gZW5kO1xufVxuXG4vLyBUZXh0LW9ubHkgcXVlcmllcyBmb3IgY29tcG9zaXRpb24gZXZlbnRzXG5cbmZ1bmN0aW9uIHRleHRDb250ZXh0KGRhdGEpIHtcbiAgdmFyIHJhbmdlID0gZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKTtcbiAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXIsXG4gICAgICBlbmQgPSByYW5nZS5lbmRDb250YWluZXI7XG4gIGlmIChzdGFydCA9PSBlbmQgJiYgc3RhcnQubm9kZVR5cGUgPT0gMykge1xuICAgIHZhciB2YWx1ZSA9IHN0YXJ0Lm5vZGVWYWx1ZSxcbiAgICAgICAgbGVhZCA9IHJhbmdlLnN0YXJ0T2Zmc2V0LFxuICAgICAgICBfZW5kID0gcmFuZ2UuZW5kT2Zmc2V0O1xuICAgIGlmIChkYXRhICYmIF9lbmQgPj0gZGF0YS5sZW5ndGggJiYgdmFsdWUuc2xpY2UoX2VuZCAtIGRhdGEubGVuZ3RoLCBfZW5kKSA9PSBkYXRhKSBsZWFkID0gX2VuZCAtIGRhdGEubGVuZ3RoO1xuICAgIHJldHVybiB7IGluc2lkZTogc3RhcnQsIGxlYWQ6IGxlYWQsIHRyYWlsOiB2YWx1ZS5sZW5ndGggLSBfZW5kIH07XG4gIH1cblxuICB2YXIgc2l6ZUJlZm9yZSA9IG51bGwsXG4gICAgICBzaXplQWZ0ZXIgPSBudWxsO1xuICB2YXIgYmVmb3JlID0gc3RhcnQuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldCAtIDFdIHx8IG5vZGVCZWZvcmUoc3RhcnQpO1xuICB3aGlsZSAoYmVmb3JlLmxhc3RDaGlsZCkgYmVmb3JlID0gYmVmb3JlLmxhc3RDaGlsZDtcbiAgaWYgKGJlZm9yZSAmJiBiZWZvcmUubm9kZVR5cGUgPT0gMykge1xuICAgIHZhciB2YWx1ZSA9IGJlZm9yZS5ub2RlVmFsdWU7XG4gICAgc2l6ZUJlZm9yZSA9IHZhbHVlLmxlbmd0aDtcbiAgICBpZiAoZGF0YSAmJiB2YWx1ZS5zbGljZSh2YWx1ZS5sZW5ndGggLSBkYXRhLmxlbmd0aCkgPT0gZGF0YSkgc2l6ZUJlZm9yZSAtPSBkYXRhLmxlbmd0aDtcbiAgfVxuICB2YXIgYWZ0ZXIgPSBlbmQuY2hpbGROb2Rlc1tyYW5nZS5lbmRPZmZzZXRdIHx8IG5vZGVBZnRlcihlbmQpO1xuICB3aGlsZSAoYWZ0ZXIuZmlyc3RDaGlsZCkgYWZ0ZXIgPSBhZnRlci5maXJzdENoaWxkO1xuICBpZiAoYWZ0ZXIgJiYgYWZ0ZXIubm9kZVR5cGUgPT0gMykgc2l6ZUFmdGVyID0gYWZ0ZXIubm9kZVZhbHVlLmxlbmd0aDtcblxuICByZXR1cm4geyBiZWZvcmU6IGJlZm9yZSwgc2l6ZUJlZm9yZTogc2l6ZUJlZm9yZSxcbiAgICBhZnRlcjogYWZ0ZXIsIHNpemVBZnRlcjogc2l6ZUFmdGVyIH07XG59XG5cbmZ1bmN0aW9uIHRleHRJbkNvbnRleHQoY29udGV4dCwgZGVmbHQpIHtcbiAgaWYgKGNvbnRleHQuaW5zaWRlKSB7XG4gICAgdmFyIF92YWwgPSBjb250ZXh0Lmluc2lkZS5ub2RlVmFsdWU7XG4gICAgcmV0dXJuIF92YWwuc2xpY2UoY29udGV4dC5sZWFkLCBfdmFsLmxlbmd0aCAtIGNvbnRleHQudHJhaWwpO1xuICB9IGVsc2Uge1xuICAgIHZhciBiZWZvcmUgPSBjb250ZXh0LmJlZm9yZSxcbiAgICAgICAgYWZ0ZXIgPSBjb250ZXh0LmFmdGVyLFxuICAgICAgICB2YWwgPSBcIlwiO1xuICAgIGlmICghYmVmb3JlKSByZXR1cm4gZGVmbHQ7XG4gICAgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAzKSB2YWwgPSBiZWZvcmUubm9kZVZhbHVlLnNsaWNlKGNvbnRleHQuc2l6ZUJlZm9yZSk7XG4gICAgdmFyIHNjYW4gPSBzY2FuVGV4dChiZWZvcmUsIGFmdGVyKTtcbiAgICBpZiAoc2NhbiA9PSBudWxsKSByZXR1cm4gZGVmbHQ7XG4gICAgdmFsICs9IHNjYW47XG4gICAgaWYgKGFmdGVyICYmIGFmdGVyLm5vZGVUeXBlID09IDMpIHtcbiAgICAgIHZhciB2YWxBZnRlciA9IGFmdGVyLm5vZGVWYWx1ZTtcbiAgICAgIHZhbCArPSB2YWxBZnRlci5zbGljZSgwLCB2YWxBZnRlci5sZW5ndGggLSBjb250ZXh0LnNpemVBZnRlcik7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZUFmdGVyKG5vZGUpIHtcbiAgZm9yICg7Oykge1xuICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICBpZiAobmV4dCkge1xuICAgICAgd2hpbGUgKG5leHQuZmlyc3RDaGlsZCkgbmV4dCA9IG5leHQuZmlyc3RDaGlsZDtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZUJlZm9yZShub2RlKSB7XG4gIGZvciAoOzspIHtcbiAgICB2YXIgcHJldiA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgIGlmIChwcmV2KSB7XG4gICAgICB3aGlsZSAocHJldi5sYXN0Q2hpbGQpIHByZXYgPSBwcmV2Lmxhc3RDaGlsZDtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH1cbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2NhblRleHQoc3RhcnQsIGVuZCkge1xuICB2YXIgdGV4dCA9IFwiXCIsXG4gICAgICBjdXIgPSBub2RlQWZ0ZXIoc3RhcnQpO1xuICBmb3IgKDs7KSB7XG4gICAgaWYgKGN1ciA9PSBlbmQpIHJldHVybiB0ZXh0O1xuICAgIGlmICghY3VyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoY3VyLm5vZGVUeXBlID09IDMpIHRleHQgKz0gY3VyLm5vZGVWYWx1ZTtcbiAgICBjdXIgPSBjdXIuZmlyc3RDaGlsZCB8fCBub2RlQWZ0ZXIoY3VyKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kcmF3ID0gZHJhdztcbmV4cG9ydHMucmVkcmF3ID0gcmVkcmF3O1xuXG52YXIgX21vZGVsID0gcmVxdWlyZShcIi4uL21vZGVsXCIpO1xuXG52YXIgX3NlcmlhbGl6ZURvbSA9IHJlcXVpcmUoXCIuLi9zZXJpYWxpemUvZG9tXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XG5cbnZhciBub25FZGl0YWJsZSA9IHsgaHRtbF9ibG9jazogdHJ1ZSwgaHRtbF90YWc6IHRydWUsIGhvcml6b250YWxfcnVsZTogdHJ1ZSB9O1xuXG5mdW5jdGlvbiBvcHRpb25zKHBhdGgsIHJhbmdlcykge1xuICByZXR1cm4ge1xuICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcihub2RlLCBkb20sIG9mZnNldCkge1xuICAgICAgaWYgKCFub2RlLmlzSW5saW5lICYmIG9mZnNldCAhPSBudWxsKSBkb20uc2V0QXR0cmlidXRlKFwicG0tcGF0aFwiLCBvZmZzZXQpO1xuICAgICAgaWYgKG5vbkVkaXRhYmxlLmhhc093blByb3BlcnR5KG5vZGUudHlwZS5uYW1lKSkgZG9tLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9LFxuICAgIHJlbmRlcklubGluZUZsYXQ6IGZ1bmN0aW9uIHJlbmRlcklubGluZUZsYXQobm9kZSwgZG9tLCBvZmZzZXQpIHtcbiAgICAgIHJhbmdlcy5hZHZhbmNlVG8obmV3IF9tb2RlbC5Qb3MocGF0aCwgb2Zmc2V0KSk7XG4gICAgICB2YXIgZW5kID0gbmV3IF9tb2RlbC5Qb3MocGF0aCwgb2Zmc2V0ICsgbm9kZS5vZmZzZXQpO1xuICAgICAgdmFyIG5leHRDdXQgPSByYW5nZXMubmV4dENoYW5nZUJlZm9yZShlbmQpO1xuXG4gICAgICB2YXIgaW5uZXIgPSBkb20sXG4gICAgICAgICAgd3JhcHBlZCA9IHVuZGVmaW5lZDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5zdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5uZXIgPSBpbm5lci5maXJzdENoaWxkO1xuICAgICAgfWlmIChkb20ubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBkb20gPSAoMCwgX2RvbS5lbHQpKFwic3BhblwiLCBudWxsLCBkb20pO1xuICAgICAgICBpZiAoIW5leHRDdXQpIHdyYXBwZWQgPSBkb207XG4gICAgICB9XG4gICAgICBpZiAoIXdyYXBwZWQgJiYgKG5leHRDdXQgfHwgcmFuZ2VzLmN1cnJlbnQubGVuZ3RoKSkge1xuICAgICAgICB3cmFwcGVkID0gaW5uZXIgPT0gZG9tID8gZG9tID0gKDAsIF9kb20uZWx0KShcInNwYW5cIiwgbnVsbCwgaW5uZXIpIDogaW5uZXIucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCgoMCwgX2RvbS5lbHQpKFwic3BhblwiLCBudWxsLCBpbm5lcikpO1xuICAgICAgfVxuXG4gICAgICBkb20uc2V0QXR0cmlidXRlKFwicG0tc3BhblwiLCBvZmZzZXQgKyBcIi1cIiArIGVuZC5vZmZzZXQpO1xuICAgICAgaWYgKCFub2RlLmlzVGV4dCkgZG9tLnNldEF0dHJpYnV0ZShcInBtLXNwYW4tYXRvbVwiLCBcInRydWVcIik7XG5cbiAgICAgIHZhciBpbmxpbmVPZmZzZXQgPSAwO1xuICAgICAgd2hpbGUgKG5leHRDdXQpIHtcbiAgICAgICAgdmFyIHNpemUgPSBuZXh0Q3V0IC0gb2Zmc2V0O1xuICAgICAgICB2YXIgc3BsaXQgPSBzcGxpdFNwYW4od3JhcHBlZCwgc2l6ZSk7XG4gICAgICAgIGlmIChyYW5nZXMuY3VycmVudC5sZW5ndGgpIHNwbGl0LmNsYXNzTmFtZSA9IHJhbmdlcy5jdXJyZW50LmpvaW4oXCIgXCIpO1xuICAgICAgICBzcGxpdC5zZXRBdHRyaWJ1dGUoXCJwbS1zcGFuLW9mZnNldFwiLCBpbmxpbmVPZmZzZXQpO1xuICAgICAgICBpbmxpbmVPZmZzZXQgKz0gc2l6ZTtcbiAgICAgICAgb2Zmc2V0ICs9IHNpemU7XG4gICAgICAgIHJhbmdlcy5hZHZhbmNlVG8obmV3IF9tb2RlbC5Qb3MocGF0aCwgb2Zmc2V0KSk7XG4gICAgICAgIGlmICghKG5leHRDdXQgPSByYW5nZXMubmV4dENoYW5nZUJlZm9yZShlbmQpKSkgd3JhcHBlZC5zZXRBdHRyaWJ1dGUoXCJwbS1zcGFuLW9mZnNldFwiLCBpbmxpbmVPZmZzZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmFuZ2VzLmN1cnJlbnQubGVuZ3RoKSB3cmFwcGVkLmNsYXNzTmFtZSA9IHJhbmdlcy5jdXJyZW50LmpvaW4oXCIgXCIpO1xuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9LFxuICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICBwYXRoOiBwYXRoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNwbGl0U3BhbihzcGFuLCBhdCkge1xuICB2YXIgdGV4dE5vZGUgPSBzcGFuLmZpcnN0Q2hpbGQsXG4gICAgICB0ZXh0ID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICB2YXIgbmV3Tm9kZSA9IHNwYW4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoKDAsIF9kb20uZWx0KShcInNwYW5cIiwgbnVsbCwgdGV4dC5zbGljZSgwLCBhdCkpLCBzcGFuKTtcbiAgdGV4dE5vZGUubm9kZVZhbHVlID0gdGV4dC5zbGljZShhdCk7XG4gIHJldHVybiBuZXdOb2RlO1xufVxuXG5mdW5jdGlvbiBkcmF3KHBtLCBkb2MpIHtcbiAgcG0uY29udGVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIHBtLmNvbnRlbnQuYXBwZW5kQ2hpbGQoKDAsIF9zZXJpYWxpemVEb20udG9ET00pKGRvYywgb3B0aW9ucyhbXSwgcG0ucmFuZ2VzLmFjdGl2ZVJhbmdlVHJhY2tlcigpKSkpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVOZXh0Tm9kZXMocGFyZW50LCBhdCwgYW1vdW50KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICB2YXIgcHJldiA9IGF0O1xuICAgIGF0ID0gYXQubmV4dFNpYmxpbmc7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHByZXYpO1xuICB9XG4gIHJldHVybiBhdDtcbn1cblxuZnVuY3Rpb24gcmVkcmF3KHBtLCBkaXJ0eSwgZG9jLCBwcmV2KSB7XG4gIHZhciByYW5nZXMgPSBwbS5yYW5nZXMuYWN0aXZlUmFuZ2VUcmFja2VyKCk7XG4gIHZhciBwYXRoID0gW107XG5cbiAgZnVuY3Rpb24gc2Nhbihkb20sIG5vZGUsIHByZXYpIHtcbiAgICB2YXIgc3RhdHVzID0gW10sXG4gICAgICAgIGluUHJldiA9IFtdLFxuICAgICAgICBpbk5vZGUgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgX2ogPSAwOyBpIDwgcHJldi5sZW5ndGggJiYgX2ogPCBub2RlLndpZHRoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSBwcmV2LmNoaWxkKGkpLFxuICAgICAgICAgIGRpcnR5U3RhdHVzID0gZGlydHkuZ2V0KGN1cik7XG4gICAgICBzdGF0dXMucHVzaChkaXJ0eVN0YXR1cyk7XG4gICAgICB2YXIgbWF0Y2hpbmcgPSBkaXJ0eVN0YXR1cyA/IC0xIDogbm9kZS5jaGlsZHJlbi5pbmRleE9mKGN1ciwgX2opO1xuICAgICAgaWYgKG1hdGNoaW5nID4gLTEpIHtcbiAgICAgICAgaW5Ob2RlW2ldID0gbWF0Y2hpbmc7XG4gICAgICAgIGluUHJldlttYXRjaGluZ10gPSBpO1xuICAgICAgICBfaiA9IG1hdGNoaW5nICsgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZS5pc1RleHRibG9jaykge1xuICAgICAgdmFyIG5lZWRzQlIgPSBub2RlLmxlbmd0aCA9PSAwIHx8IG5vZGUubGFzdENoaWxkLnR5cGUgPT0gbm9kZS50eXBlLnNjaGVtYS5ub2Rlcy5oYXJkX2JyZWFrO1xuICAgICAgdmFyIGxhc3QgPSBkb20ubGFzdENoaWxkLFxuICAgICAgICAgIGhhc0JSID0gbGFzdCAmJiBsYXN0Lm5vZGVUeXBlID09IDEgJiYgbGFzdC5oYXNBdHRyaWJ1dGUoXCJwbS1mb3JjZS1iclwiKTtcbiAgICAgIGlmIChuZWVkc0JSICYmICFoYXNCUikgZG9tLmFwcGVuZENoaWxkKCgwLCBfZG9tLmVsdCkoXCJiclwiLCB7IFwicG0tZm9yY2UtYnJcIjogXCJ0cnVlXCIgfSkpO2Vsc2UgaWYgKCFuZWVkc0JSICYmIGhhc0JSKSBkb20ucmVtb3ZlQ2hpbGQobGFzdCk7XG4gICAgfVxuXG4gICAgdmFyIGRvbVBvcyA9IGRvbS5maXJzdENoaWxkLFxuICAgICAgICBqID0gMDtcbiAgICB2YXIgYmxvY2sgPSBub2RlLmlzVGV4dGJsb2NrO1xuICAgIGZvciAodmFyIGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZChpKTtcbiAgICAgIGlmICghYmxvY2spIHBhdGgucHVzaChpKTtcbiAgICAgIHZhciBmb3VuZCA9IGluUHJldltpXTtcbiAgICAgIHZhciBub2RlTGVmdCA9IHRydWU7XG4gICAgICBpZiAoZm91bmQgIT0gbnVsbCkge1xuICAgICAgICBkb21Qb3MgPSBkZWxldGVOZXh0Tm9kZXMoZG9tLCBkb21Qb3MsIGZvdW5kIC0gaik7XG4gICAgICAgIGogPSBmb3VuZDtcbiAgICAgIH0gZWxzZSBpZiAoIWJsb2NrICYmIGogPCBwcmV2Lmxlbmd0aCAmJiBpbk5vZGVbal0gPT0gbnVsbCAmJiBzdGF0dXNbal0gIT0gMiAmJiBjaGlsZC5zYW1lTWFya3VwKHByZXYuY2hpbGQoaikpKSB7XG4gICAgICAgIHNjYW4oZG9tUG9zLCBjaGlsZCwgcHJldi5jaGlsZChqKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb20uaW5zZXJ0QmVmb3JlKCgwLCBfc2VyaWFsaXplRG9tLnJlbmRlck5vZGVUb0RPTSkoY2hpbGQsIG9wdGlvbnMocGF0aCwgcmFuZ2VzKSwgYmxvY2sgPyBvZmZzZXQgOiBpKSwgZG9tUG9zKTtcbiAgICAgICAgbm9kZUxlZnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlTGVmdCkge1xuICAgICAgICBpZiAoYmxvY2spIGRvbVBvcy5zZXRBdHRyaWJ1dGUoXCJwbS1zcGFuXCIsIG9mZnNldCArIFwiLVwiICsgKG9mZnNldCArIGNoaWxkLm9mZnNldCkpO2Vsc2UgZG9tUG9zLnNldEF0dHJpYnV0ZShcInBtLXBhdGhcIiwgaSk7XG4gICAgICAgIGRvbVBvcyA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrKSBvZmZzZXQgKz0gY2hpbGQub2Zmc2V0O2Vsc2UgcGF0aC5wb3AoKTtcbiAgICB9XG4gICAgZGVsZXRlTmV4dE5vZGVzKGRvbSwgZG9tUG9zLCBwcmV2Lmxlbmd0aCAtIGopO1xuICB9XG4gIHNjYW4ocG0uY29udGVudCwgZG9jLCBwcmV2KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZXZlbnRNaXhpbiA9IGV2ZW50TWl4aW47XG52YXIgbWV0aG9kcyA9IHtcbiAgb246IGZ1bmN0aW9uIG9uKHR5cGUsIGYpIHtcbiAgICB2YXIgbWFwID0gdGhpcy5faGFuZGxlcnMgfHwgKHRoaXMuX2hhbmRsZXJzID0ge30pO1xuICAgIHZhciBhcnIgPSBtYXBbdHlwZV0gfHwgKG1hcFt0eXBlXSA9IFtdKTtcbiAgICBhcnIucHVzaChmKTtcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIG9mZih0eXBlLCBmKSB7XG4gICAgdmFyIGFyciA9IHRoaXMuX2hhbmRsZXJzICYmIHRoaXMuX2hhbmRsZXJzW3R5cGVdO1xuICAgIGlmIChhcnIpIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldID09IGYpIHtcbiAgICAgICAgYXJyLnNwbGljZShpLCAxKTticmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgc2lnbmFsOiBmdW5jdGlvbiBzaWduYWwodHlwZSkge1xuICAgIHZhciBhcnIgPSB0aGlzLl9oYW5kbGVycyAmJiB0aGlzLl9oYW5kbGVyc1t0eXBlXTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICB2YWx1ZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChhcnIpIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICBhcnJbaV0uYXBwbHkoYXJyLCB2YWx1ZXMpO1xuICAgIH1cbiAgfSxcblxuICBzaWduYWxIYW5kbGVhYmxlOiBmdW5jdGlvbiBzaWduYWxIYW5kbGVhYmxlKHR5cGUpIHtcbiAgICB2YXIgYXJyID0gdGhpcy5faGFuZGxlcnMgJiYgdGhpcy5faGFuZGxlcnNbdHlwZV07XG4gICAgaWYgKGFycikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHZhbHVlc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGFycltpXS5hcHBseShhcnIsIHZhbHVlcyk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IGZhbHNlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1yZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgaGFzSGFuZGxlcjogZnVuY3Rpb24gaGFzSGFuZGxlcih0eXBlKSB7XG4gICAgdmFyIGFyciA9IHRoaXMuX2hhbmRsZXJzICYmIHRoaXMuX2hhbmRsZXJzW3R5cGVdO1xuICAgIHJldHVybiBhcnIgJiYgYXJyLmxlbmd0aCA+IDA7XG4gIH1cbn07XG5cbi8vIEFkZCBldmVudC1yZWxhdGVkIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSwgdG8gbWFrZVxuLy8gcmVnaXN0ZXJpbmcgZXZlbnRzIG9uIHN1Y2ggb2JqZWN0cyBtb3JlIGNvbnZlbmllbnQuXG5cbmZ1bmN0aW9uIGV2ZW50TWl4aW4oY3Rvcikge1xuICB2YXIgcHJvdG8gPSBjdG9yLnByb3RvdHlwZTtcbiAgZm9yICh2YXIgcHJvcCBpbiBtZXRob2RzKSBpZiAobWV0aG9kcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgcHJvdG9bcHJvcF0gPSBtZXRob2RzW3Byb3BdO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfbW9kZWwgPSByZXF1aXJlKFwiLi4vbW9kZWxcIik7XG5cbnZhciBfdHJhbnNmb3JtID0gcmVxdWlyZShcIi4uL3RyYW5zZm9ybVwiKTtcblxudmFyIEludmVydGVkU3RlcCA9IGZ1bmN0aW9uIEludmVydGVkU3RlcChzdGVwLCB2ZXJzaW9uLCBpZCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52ZXJ0ZWRTdGVwKTtcblxuICB0aGlzLnN0ZXAgPSBzdGVwO1xuICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICB0aGlzLmlkID0gaWQ7XG59O1xuXG52YXIgQnJhbmNoUmVtYXBwaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnJhbmNoUmVtYXBwaW5nKGJyYW5jaCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcmFuY2hSZW1hcHBpbmcpO1xuXG4gICAgdGhpcy5icmFuY2ggPSBicmFuY2g7XG4gICAgdGhpcy5yZW1hcCA9IG5ldyBfdHJhbnNmb3JtLlJlbWFwcGluZygpO1xuICAgIHRoaXMudmVyc2lvbiA9IGJyYW5jaC52ZXJzaW9uO1xuICAgIHRoaXMubWlycm9yQnVmZmVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCcmFuY2hSZW1hcHBpbmcsIFt7XG4gICAga2V5OiBcIm1vdmVUb1ZlcnNpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZVRvVmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgICB3aGlsZSAodGhpcy52ZXJzaW9uID4gdmVyc2lvbikgdGhpcy5hZGROZXh0TWFwKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZE5leHRNYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmV4dE1hcCgpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuYnJhbmNoLm1pcnJvclt0aGlzLnZlcnNpb25dO1xuICAgICAgdmFyIG1hcE9mZnNldCA9IHRoaXMuYnJhbmNoLm1hcHMubGVuZ3RoIC0gKHRoaXMuYnJhbmNoLnZlcnNpb24gLSB0aGlzLnZlcnNpb24pIC0gMTtcbiAgICAgIHZhciBpZCA9IHRoaXMucmVtYXAuYWRkVG9Gcm9udCh0aGlzLmJyYW5jaC5tYXBzW21hcE9mZnNldF0sIHRoaXMubWlycm9yQnVmZmVyW3RoaXMudmVyc2lvbl0pO1xuICAgICAgLS10aGlzLnZlcnNpb247XG4gICAgICBpZiAoZm91bmQgIT0gbnVsbCkgdGhpcy5taXJyb3JCdWZmZXJbZm91bmRdID0gaWQ7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1vdmVQYXN0U3RlcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlUGFzdFN0ZXAocmVzdWx0KSB7XG4gICAgICB2YXIgaWQgPSB0aGlzLmFkZE5leHRNYXAoKTtcbiAgICAgIGlmIChyZXN1bHQpIHRoaXMucmVtYXAuYWRkVG9CYWNrKHJlc3VsdC5tYXAsIGlkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnJhbmNoUmVtYXBwaW5nO1xufSkoKTtcblxudmFyIHdvcmtUaW1lID0gMTAwLFxuICAgIHBhdXNlVGltZSA9IDE1MDtcblxudmFyIENvbXByZXNzaW9uV29ya2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29tcHJlc3Npb25Xb3JrZXIoZG9jLCBicmFuY2gsIGNhbGxiYWNrKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbXByZXNzaW9uV29ya2VyKTtcblxuICAgIHRoaXMuYnJhbmNoID0gYnJhbmNoO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnJlbWFwID0gbmV3IEJyYW5jaFJlbWFwcGluZyhicmFuY2gpO1xuXG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB0aGlzLm1hcHMgPSBbXTtcbiAgICB0aGlzLnZlcnNpb24gPSB0aGlzLnN0YXJ0VmVyc2lvbiA9IGJyYW5jaC52ZXJzaW9uO1xuXG4gICAgdGhpcy5pID0gYnJhbmNoLmV2ZW50cy5sZW5ndGg7XG4gICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb21wcmVzc2lvbldvcmtlciwgW3tcbiAgICBrZXk6IFwid29ya1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3b3JrKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgZW5kVGltZSA9IERhdGUubm93KCkgKyB3b3JrVGltZTtcblxuICAgICAgZm9yICg7Oykge1xuICAgICAgICBpZiAodGhpcy5pID09IDApIHJldHVybiB0aGlzLmZpbmlzaCgpO1xuICAgICAgICB2YXIgX2V2ZW50ID0gdGhpcy5icmFuY2guZXZlbnRzWy0tdGhpcy5pXSxcbiAgICAgICAgICAgIG91dEV2ZW50ID0gW107XG4gICAgICAgIGZvciAodmFyIGogPSBfZXZlbnQubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICB2YXIgX2V2ZW50JGogPSBfZXZlbnRbal07XG4gICAgICAgICAgdmFyIHN0ZXAgPSBfZXZlbnQkai5zdGVwO1xuICAgICAgICAgIHZhciBzdGVwVmVyc2lvbiA9IF9ldmVudCRqLnZlcnNpb247XG4gICAgICAgICAgdmFyIHN0ZXBJRCA9IF9ldmVudCRqLmlkO1xuXG4gICAgICAgICAgdGhpcy5yZW1hcC5tb3ZlVG9WZXJzaW9uKHN0ZXBWZXJzaW9uKTtcblxuICAgICAgICAgIHZhciBtYXBwZWRTdGVwID0gKDAsIF90cmFuc2Zvcm0ubWFwU3RlcCkoc3RlcCwgdGhpcy5yZW1hcC5yZW1hcCk7XG4gICAgICAgICAgaWYgKG1hcHBlZFN0ZXAgJiYgaXNEZWxTdGVwKHN0ZXApKSB7XG4gICAgICAgICAgICB2YXIgZXh0cmEgPSAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RlcC5mcm9tO1xuICAgICAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICAgIHZhciBuZXh0ID0gX2V2ZW50W2ogLSAxXTtcbiAgICAgICAgICAgICAgaWYgKG5leHQudmVyc2lvbiAhPSBzdGVwVmVyc2lvbiAtIDEgfHwgIWlzRGVsU3RlcChuZXh0LnN0ZXApIHx8IHN0YXJ0LmNtcChuZXh0LnN0ZXAudG8pKSBicmVhaztcbiAgICAgICAgICAgICAgZXh0cmEgKz0gbmV4dC5zdGVwLnRvLm9mZnNldCAtIG5leHQuc3RlcC5mcm9tLm9mZnNldDtcbiAgICAgICAgICAgICAgc3RhcnQgPSBuZXh0LnN0ZXAuZnJvbTtcbiAgICAgICAgICAgICAgc3RlcFZlcnNpb24tLTtcbiAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICB0aGlzLnJlbWFwLmFkZE5leHRNYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRyYSA+IDApIHtcbiAgICAgICAgICAgICAgdmFyIF9zdGFydCA9IG1hcHBlZFN0ZXAuZnJvbS5tb3ZlKC1leHRyYSk7XG4gICAgICAgICAgICAgIG1hcHBlZFN0ZXAgPSBuZXcgX3RyYW5zZm9ybS5TdGVwKFwicmVwbGFjZVwiLCBfc3RhcnQsIG1hcHBlZFN0ZXAudG8sIF9zdGFydCwgeyBub2RlczogW10sIG9wZW5MZWZ0OiAwLCBvcGVuUmlnaHQ6IDAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXN1bHQgPSBtYXBwZWRTdGVwICYmIG1hcHBlZFN0ZXAuYXBwbHkodGhpcy5kb2MpO1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jID0gcmVzdWx0LmRvYztcbiAgICAgICAgICAgIHRoaXMubWFwcy5wdXNoKHJlc3VsdC5tYXAuaW52ZXJ0KCkpO1xuICAgICAgICAgICAgb3V0RXZlbnQucHVzaChuZXcgSW52ZXJ0ZWRTdGVwKG1hcHBlZFN0ZXAsIHRoaXMudmVyc2lvbiwgc3RlcElEKSk7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb24tLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZW1hcC5tb3ZlUGFzdFN0ZXAocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0RXZlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgb3V0RXZlbnQucmV2ZXJzZSgpO1xuICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2gob3V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEYXRlLm5vdygpID4gZW5kVGltZSkge1xuICAgICAgICAgIHRoaXMudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy53b3JrKCk7XG4gICAgICAgICAgfSwgcGF1c2VUaW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluaXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5ldmVudHMucmV2ZXJzZSgpO1xuICAgICAgdGhpcy5tYXBzLnJldmVyc2UoKTtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYXBzLmNvbmNhdCh0aGlzLmJyYW5jaC5tYXBzLnNsaWNlKHRoaXMuYnJhbmNoLm1hcHMubGVuZ3RoIC0gKHRoaXMuYnJhbmNoLnZlcnNpb24gLSB0aGlzLnN0YXJ0VmVyc2lvbikpKSwgdGhpcy5ldmVudHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhYm9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbXByZXNzaW9uV29ya2VyO1xufSkoKTtcblxuZnVuY3Rpb24gaXNEZWxTdGVwKHN0ZXApIHtcbiAgcmV0dXJuIHN0ZXAubmFtZSA9PSBcInJlcGxhY2VcIiAmJiBzdGVwLmZyb20ub2Zmc2V0IDwgc3RlcC50by5vZmZzZXQgJiYgX21vZGVsLlBvcy5zYW1lUGF0aChzdGVwLmZyb20ucGF0aCwgc3RlcC50by5wYXRoKSAmJiBzdGVwLnBhcmFtLm5vZGVzLmxlbmd0aCA9PSAwO1xufVxuXG52YXIgY29tcHJlc3NTdGVwQ291bnQgPSAxNTA7XG5cbnZhciBCcmFuY2ggPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCcmFuY2gobWF4RGVwdGgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnJhbmNoKTtcblxuICAgIHRoaXMubWF4RGVwdGggPSBtYXhEZXB0aDtcbiAgICB0aGlzLnZlcnNpb24gPSAwO1xuICAgIHRoaXMubmV4dFN0ZXBJRCA9IDE7XG5cbiAgICB0aGlzLm1hcHMgPSBbXTtcbiAgICB0aGlzLm1pcnJvciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcblxuICAgIHRoaXMuc3RlcHNTaW5jZUNvbXByZXNzID0gMDtcbiAgICB0aGlzLmNvbXByZXNzaW5nID0gbnVsbDtcbiAgICB0aGlzLmNvbXByZXNzVGltZW91dCA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQnJhbmNoLCBbe1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcihmb3JjZSkge1xuICAgICAgaWYgKGZvcmNlIHx8ICF0aGlzLmVtcHR5KCkpIHtcbiAgICAgICAgdGhpcy5tYXBzLmxlbmd0aCA9IHRoaXMuZXZlbnRzLmxlbmd0aCA9IHRoaXMuc3RlcHNTaW5jZUNvbXByZXNzID0gMDtcbiAgICAgICAgdGhpcy5taXJyb3IgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLmFib3J0Q29tcHJlc3Npb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmV3RXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmV3RXZlbnQoKSB7XG4gICAgICB0aGlzLmFib3J0Q29tcHJlc3Npb24oKTtcbiAgICAgIHRoaXMuZXZlbnRzLnB1c2goW10pO1xuICAgICAgd2hpbGUgKHRoaXMuZXZlbnRzLmxlbmd0aCA+IHRoaXMubWF4RGVwdGgpIHRoaXMuZXZlbnRzLnNoaWZ0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZE1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNYXAobWFwKSB7XG4gICAgICBpZiAoIXRoaXMuZW1wdHkoKSkge1xuICAgICAgICB0aGlzLm1hcHMucHVzaChtYXApO1xuICAgICAgICB0aGlzLnZlcnNpb24rKztcbiAgICAgICAgdGhpcy5zdGVwc1NpbmNlQ29tcHJlc3MrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtcHR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtcHR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aCA9PSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRTdGVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0ZXAoc3RlcCwgbWFwLCBpZCkge1xuICAgICAgdGhpcy5hZGRNYXAobWFwKTtcbiAgICAgIGlmIChpZCA9PSBudWxsKSBpZCA9IHRoaXMubmV4dFN0ZXBJRCsrO1xuICAgICAgdGhpcy5ldmVudHNbdGhpcy5ldmVudHMubGVuZ3RoIC0gMV0ucHVzaChuZXcgSW52ZXJ0ZWRTdGVwKHN0ZXAsIHRoaXMudmVyc2lvbiwgaWQpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkVHJhbnNmb3JtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGlkcykge1xuICAgICAgdGhpcy5hYm9ydENvbXByZXNzaW9uKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zZm9ybS5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaW52ZXJ0ZWQgPSB0cmFuc2Zvcm0uc3RlcHNbaV0uaW52ZXJ0KHRyYW5zZm9ybS5kb2NzW2ldLCB0cmFuc2Zvcm0ubWFwc1tpXSk7XG4gICAgICAgIHRoaXMuYWRkU3RlcChpbnZlcnRlZCwgdHJhbnNmb3JtLm1hcHNbaV0sIGlkcyAmJiBpZHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3BFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3BFdmVudChkb2MsIGFsbG93Q29sbGFwc2luZykge1xuICAgICAgdGhpcy5hYm9ydENvbXByZXNzaW9uKCk7XG4gICAgICB2YXIgZXZlbnQgPSB0aGlzLmV2ZW50cy5wb3AoKTtcbiAgICAgIGlmICghZXZlbnQpIHJldHVybiBudWxsO1xuXG4gICAgICB2YXIgcmVtYXAgPSBuZXcgQnJhbmNoUmVtYXBwaW5nKHRoaXMpLFxuICAgICAgICAgIGNvbGxhcHNpbmcgPSBhbGxvd0NvbGxhcHNpbmc7XG4gICAgICB2YXIgdHIgPSBuZXcgX3RyYW5zZm9ybS5UcmFuc2Zvcm0oZG9jKTtcbiAgICAgIHZhciBpZHMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IGV2ZW50Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBpbnZlcnRlZFN0ZXAgPSBldmVudFtpXSxcbiAgICAgICAgICAgIHN0ZXAgPSBpbnZlcnRlZFN0ZXAuc3RlcDtcbiAgICAgICAgaWYgKCFjb2xsYXBzaW5nIHx8IGludmVydGVkU3RlcC52ZXJzaW9uICE9IHJlbWFwLnZlcnNpb24pIHtcbiAgICAgICAgICBjb2xsYXBzaW5nID0gZmFsc2U7XG4gICAgICAgICAgcmVtYXAubW92ZVRvVmVyc2lvbihpbnZlcnRlZFN0ZXAudmVyc2lvbik7XG5cbiAgICAgICAgICBzdGVwID0gKDAsIF90cmFuc2Zvcm0ubWFwU3RlcCkoc3RlcCwgcmVtYXAucmVtYXApO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBzdGVwICYmIHRyLnN0ZXAoc3RlcCk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgaWRzLnB1c2goaW52ZXJ0ZWRTdGVwLmlkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZE1hcChyZXN1bHQubWFwKSkgdGhpcy5taXJyb3JbdGhpcy52ZXJzaW9uXSA9IGludmVydGVkU3RlcC52ZXJzaW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpID4gMCkgcmVtYXAubW92ZVBhc3RTdGVwKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52ZXJzaW9uLS07XG4gICAgICAgICAgZGVsZXRlIHRoaXMubWlycm9yW3RoaXMudmVyc2lvbl07XG4gICAgICAgICAgdGhpcy5tYXBzLnBvcCgpO1xuICAgICAgICAgIHRyLnN0ZXAoc3RlcCk7XG4gICAgICAgICAgaWRzLnB1c2goaW52ZXJ0ZWRTdGVwLmlkKTtcbiAgICAgICAgICAtLXJlbWFwLnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVtcHR5KCkpIHRoaXMuY2xlYXIodHJ1ZSk7XG4gICAgICByZXR1cm4geyB0cmFuc2Zvcm06IHRyLCBpZHM6IGlkcyB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWZXJzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7XG4gICAgICByZXR1cm4geyBpZDogdGhpcy5uZXh0U3RlcElELCB2ZXJzaW9uOiB0aGlzLnZlcnNpb24gfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZFZlcnNpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZFZlcnNpb24odmVyc2lvbikge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuZXZlbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBfZXZlbnQyID0gdGhpcy5ldmVudHNbaV07XG4gICAgICAgIGZvciAodmFyIGogPSBfZXZlbnQyLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBfZXZlbnQyW2pdO1xuICAgICAgICAgIGlmIChzdGVwLmlkID09IHZlcnNpb24uaWQpIHJldHVybiB7IGV2ZW50OiBpLCBzdGVwOiBqIH07ZWxzZSBpZiAoc3RlcC5pZCA8IHZlcnNpb24uaWQpIHJldHVybiB7IGV2ZW50OiBpLCBzdGVwOiBqICsgMSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlYmFzZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmViYXNlZChuZXdNYXBzLCByZWJhc2VkVHJhbnNmb3JtLCBwb3NpdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLmVtcHR5KCkpIHJldHVybjtcbiAgICAgIHRoaXMuYWJvcnRDb21wcmVzc2lvbigpO1xuXG4gICAgICB2YXIgc3RhcnRWZXJzaW9uID0gdGhpcy52ZXJzaW9uIC0gcG9zaXRpb25zLmxlbmd0aDtcblxuICAgICAgLy8gVXBkYXRlIGFuZCBjbGVhbiB1cCB0aGUgZXZlbnRzXG4gICAgICBvdXQ6IGZvciAodmFyIGkgPSB0aGlzLmV2ZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgX2V2ZW50MyA9IHRoaXMuZXZlbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gX2V2ZW50My5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgIHZhciBzdGVwID0gX2V2ZW50M1tqXTtcbiAgICAgICAgICBpZiAoc3RlcC52ZXJzaW9uIDw9IHN0YXJ0VmVyc2lvbikgYnJlYWsgb3V0O1xuICAgICAgICAgIHZhciBvZmYgPSBwb3NpdGlvbnNbc3RlcC52ZXJzaW9uIC0gc3RhcnRWZXJzaW9uIC0gMV07XG4gICAgICAgICAgaWYgKG9mZiA9PSAtMSkge1xuICAgICAgICAgICAgX2V2ZW50My5zcGxpY2Uoai0tLCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGludiA9IHJlYmFzZWRUcmFuc2Zvcm0uc3RlcHNbb2ZmXS5pbnZlcnQocmViYXNlZFRyYW5zZm9ybS5kb2NzW29mZl0sIHJlYmFzZWRUcmFuc2Zvcm0ubWFwc1tvZmZdKTtcbiAgICAgICAgICAgIF9ldmVudDNbal0gPSBuZXcgSW52ZXJ0ZWRTdGVwKGludiwgc3RhcnRWZXJzaW9uICsgbmV3TWFwcy5sZW5ndGggKyBvZmYgKyAxLCBzdGVwLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU3luYyB0aGUgYXJyYXkgb2YgbWFwc1xuICAgICAgaWYgKHRoaXMubWFwcy5sZW5ndGggPiBwb3NpdGlvbnMubGVuZ3RoKSB0aGlzLm1hcHMgPSB0aGlzLm1hcHMuc2xpY2UoMCwgdGhpcy5tYXBzLmxlbmd0aCAtIHBvc2l0aW9ucy5sZW5ndGgpLmNvbmNhdChuZXdNYXBzKS5jb25jYXQocmViYXNlZFRyYW5zZm9ybS5tYXBzKTtlbHNlIHRoaXMubWFwcyA9IHJlYmFzZWRUcmFuc2Zvcm0ubWFwcy5zbGljZSgpO1xuXG4gICAgICB0aGlzLnZlcnNpb24gPSBzdGFydFZlcnNpb24gKyBuZXdNYXBzLmxlbmd0aCArIHJlYmFzZWRUcmFuc2Zvcm0ubWFwcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuc3RlcHNTaW5jZUNvbXByZXNzICs9IG5ld01hcHMubGVuZ3RoICsgcmViYXNlZFRyYW5zZm9ybS5zdGVwcy5sZW5ndGggLSBwb3NpdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhYm9ydENvbXByZXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0Q29tcHJlc3Npb24oKSB7XG4gICAgICBpZiAodGhpcy5jb21wcmVzc2luZykge1xuICAgICAgICB0aGlzLmNvbXByZXNzaW5nLmFib3J0KCk7XG4gICAgICAgIHRoaXMuY29tcHJlc3NpbmcgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJuZWVkc0NvbXByZXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lZWRzQ29tcHJlc3Npb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwc1NpbmNlQ29tcHJlc3MgPiBjb21wcmVzc1N0ZXBDb3VudCAmJiAhdGhpcy5jb21wcmVzc2luZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRDb21wcmVzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydENvbXByZXNzaW9uKGRvYykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY29tcHJlc3NpbmcgPSBuZXcgQ29tcHJlc3Npb25Xb3JrZXIoZG9jLCB0aGlzLCBmdW5jdGlvbiAobWFwcywgZXZlbnRzKSB7XG4gICAgICAgIF90aGlzMi5tYXBzID0gbWFwcztcbiAgICAgICAgX3RoaXMyLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgX3RoaXMyLm1pcnJvciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIF90aGlzMi5jb21wcmVzc2luZyA9IG51bGw7XG4gICAgICAgIF90aGlzMi5zdGVwc1NpbmNlQ29tcHJlc3MgPSAwO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbXByZXNzaW5nLndvcmsoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnJhbmNoO1xufSkoKTtcblxudmFyIGNvbXByZXNzRGVsYXkgPSA3NTA7XG5cbnZhciBIaXN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGlzdG9yeShwbSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpc3RvcnkpO1xuXG4gICAgdGhpcy5wbSA9IHBtO1xuXG4gICAgdGhpcy5kb25lID0gbmV3IEJyYW5jaChwbS5vcHRpb25zLmhpc3RvcnlEZXB0aCk7XG4gICAgdGhpcy51bmRvbmUgPSBuZXcgQnJhbmNoKHBtLm9wdGlvbnMuaGlzdG9yeURlcHRoKTtcblxuICAgIHRoaXMubGFzdEFkZGVkQXQgPSAwO1xuICAgIHRoaXMuaWdub3JlVHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICB0aGlzLmFsbG93Q29sbGFwc2luZyA9IHRydWU7XG5cbiAgICBwbS5vbihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAodHJhbnNmb3JtLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLnJlY29yZFRyYW5zZm9ybSh0cmFuc2Zvcm0sIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhpc3RvcnksIFt7XG4gICAga2V5OiBcInJlY29yZFRyYW5zZm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvcmRUcmFuc2Zvcm0odHJhbnNmb3JtLCBvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5pZ25vcmVUcmFuc2Zvcm0pIHJldHVybjtcblxuICAgICAgaWYgKG9wdGlvbnMuYWRkVG9IaXN0b3J5ID09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3JtLm1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbWFwID0gdHJhbnNmb3JtLm1hcHNbaV07XG4gICAgICAgICAgdGhpcy5kb25lLmFkZE1hcChtYXApO1xuICAgICAgICAgIHRoaXMudW5kb25lLmFkZE1hcChtYXApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuZG9uZS5jbGVhcigpO1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKG5vdyA+IHRoaXMubGFzdEFkZGVkQXQgKyB0aGlzLnBtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkpIHRoaXMuZG9uZS5uZXdFdmVudCgpO1xuXG4gICAgICAgIHRoaXMuZG9uZS5hZGRUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy5sYXN0QWRkZWRBdCA9IG5vdztcbiAgICAgIH1cbiAgICAgIHRoaXMubWF5YmVTY2hlZHVsZUNvbXByZXNzaW9uKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuZG9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5kbygpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoaWZ0KHRoaXMuZG9uZSwgdGhpcy51bmRvbmUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZG8oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGlmdCh0aGlzLnVuZG9uZSwgdGhpcy5kb25lKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuVW5kb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5VbmRvKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9uZS5ldmVudHMubGVuZ3RoID4gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuUmVkb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5SZWRvKCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5kb25lLmV2ZW50cy5sZW5ndGggPiAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaGlmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaGlmdChmcm9tLCB0bykge1xuICAgICAgdmFyIGV2ZW50ID0gZnJvbS5wb3BFdmVudCh0aGlzLnBtLmRvYywgdGhpcy5hbGxvd0NvbGxhcHNpbmcpO1xuICAgICAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IGV2ZW50LnRyYW5zZm9ybTtcbiAgICAgIHZhciBpZHMgPSBldmVudC5pZHM7XG5cbiAgICAgIHRoaXMuaWdub3JlVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgIHRoaXMucG0uYXBwbHkodHJhbnNmb3JtKTtcbiAgICAgIHRoaXMuaWdub3JlVHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICAgIGlmICghdHJhbnNmb3JtLnN0ZXBzLmxlbmd0aCkgcmV0dXJuIHRoaXMuc2hpZnQoZnJvbSwgdG8pO1xuXG4gICAgICBpZiAodG8pIHtcbiAgICAgICAgdG8ubmV3RXZlbnQoKTtcbiAgICAgICAgdG8uYWRkVHJhbnNmb3JtKHRyYW5zZm9ybSwgaWRzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdEFkZGVkQXQgPSAwO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmVyc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9uZS5nZXRWZXJzaW9uKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJhY2tUb1ZlcnNpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmFja1RvVmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLmRvbmUuZmluZFZlcnNpb24odmVyc2lvbik7XG4gICAgICBpZiAoIWZvdW5kKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgZXZlbnQgPSB0aGlzLmRvbmUuZXZlbnRzW2ZvdW5kLmV2ZW50XTtcbiAgICAgIHZhciBjb21iaW5lZCA9IHRoaXMuZG9uZS5ldmVudHMuc2xpY2UoZm91bmQuZXZlbnQgKyAxKS5yZWR1Y2UoZnVuY3Rpb24gKGNvbWIsIGFycikge1xuICAgICAgICByZXR1cm4gY29tYi5jb25jYXQoYXJyKTtcbiAgICAgIH0sIGV2ZW50LnNsaWNlKGZvdW5kLnN0ZXApKTtcbiAgICAgIHRoaXMuZG9uZS5ldmVudHMubGVuZ3RoID0gZm91bmQuZXZlbnQgKyAoKGV2ZW50Lmxlbmd0aCA9IGZvdW5kLnN0ZXApID8gMSA6IDApO1xuICAgICAgdGhpcy5kb25lLmV2ZW50cy5wdXNoKGNvbWJpbmVkKTtcblxuICAgICAgdGhpcy5zaGlmdCh0aGlzLmRvbmUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWJhc2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYmFzZWQobmV3TWFwcywgcmViYXNlZFRyYW5zZm9ybSwgcG9zaXRpb25zKSB7XG4gICAgICB0aGlzLmRvbmUucmViYXNlZChuZXdNYXBzLCByZWJhc2VkVHJhbnNmb3JtLCBwb3NpdGlvbnMpO1xuICAgICAgdGhpcy51bmRvbmUucmViYXNlZChuZXdNYXBzLCByZWJhc2VkVHJhbnNmb3JtLCBwb3NpdGlvbnMpO1xuICAgICAgdGhpcy5tYXliZVNjaGVkdWxlQ29tcHJlc3Npb24oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWF5YmVTY2hlZHVsZUNvbXByZXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1heWJlU2NoZWR1bGVDb21wcmVzc2lvbigpIHtcbiAgICAgIHRoaXMubWF5YmVTY2hlZHVsZUNvbXByZXNzaW9uRm9yQnJhbmNoKHRoaXMuZG9uZSk7XG4gICAgICB0aGlzLm1heWJlU2NoZWR1bGVDb21wcmVzc2lvbkZvckJyYW5jaCh0aGlzLnVuZG9uZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1heWJlU2NoZWR1bGVDb21wcmVzc2lvbkZvckJyYW5jaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXliZVNjaGVkdWxlQ29tcHJlc3Npb25Gb3JCcmFuY2goYnJhbmNoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgd2luZG93LmNsZWFyVGltZW91dChicmFuY2guY29tcHJlc3NUaW1lb3V0KTtcbiAgICAgIGlmIChicmFuY2gubmVlZHNDb21wcmVzc2lvbigpKSBicmFuY2guY29tcHJlc3NUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoYnJhbmNoLm5lZWRzQ29tcHJlc3Npb24oKSkgYnJhbmNoLnN0YXJ0Q29tcHJlc3Npb24oX3RoaXM0LnBtLmRvYyk7XG4gICAgICB9LCBjb21wcmVzc0RlbGF5KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGlzdG9yeTtcbn0pKCk7XG5cbmV4cG9ydHMuSGlzdG9yeSA9IEhpc3Rvcnk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbWFpbiA9IHJlcXVpcmUoXCIuL21haW5cIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlByb3NlTWlycm9yXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9tYWluLlByb3NlTWlycm9yO1xuICB9XG59KTtcblxudmFyIF9vcHRpb25zID0gcmVxdWlyZShcIi4vb3B0aW9uc1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVmaW5lT3B0aW9uXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9vcHRpb25zLmRlZmluZU9wdGlvbjtcbiAgfVxufSk7XG5cbnZhciBfc2VsZWN0aW9uID0gcmVxdWlyZShcIi4vc2VsZWN0aW9uXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSYW5nZVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc2VsZWN0aW9uLlJhbmdlO1xuICB9XG59KTtcblxudmFyIF9ldmVudCA9IHJlcXVpcmUoXCIuL2V2ZW50XCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJldmVudE1peGluXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9ldmVudC5ldmVudE1peGluO1xuICB9XG59KTtcblxudmFyIF9rZXlzID0gcmVxdWlyZShcIi4va2V5c1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiS2V5bWFwXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9rZXlzLktleW1hcDtcbiAgfVxufSk7XG5cbnZhciBfcmFuZ2UgPSByZXF1aXJlKFwiLi9yYW5nZVwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWFya2VkUmFuZ2VcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3JhbmdlLk1hcmtlZFJhbmdlO1xuICB9XG59KTtcblxudmFyIF9jb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWZpbmVDb21tYW5kXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9jb21tYW5kcy5kZWZpbmVDb21tYW5kO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlZmluZVBhcmFtSGFuZGxlclwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfY29tbWFuZHMuZGVmaW5lUGFyYW1IYW5kbGVyO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvbW1hbmRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2NvbW1hbmRzLkNvbW1hbmQ7XG4gIH1cbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHMuZGlzcGF0Y2hLZXkgPSBkaXNwYXRjaEtleTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9wYXJzZURvbSA9IHJlcXVpcmUoXCIuLi9wYXJzZS9kb21cIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcblxudmFyIF9zZXJpYWxpemVEb20gPSByZXF1aXJlKFwiLi4vc2VyaWFsaXplL2RvbVwiKTtcblxudmFyIF9zZXJpYWxpemVUZXh0ID0gcmVxdWlyZShcIi4uL3NlcmlhbGl6ZS90ZXh0XCIpO1xuXG52YXIgX3BhcnNlID0gcmVxdWlyZShcIi4uL3BhcnNlXCIpO1xuXG52YXIgX2tleXMgPSByZXF1aXJlKFwiLi9rZXlzXCIpO1xuXG52YXIgX2NhcHR1cmVrZXlzID0gcmVxdWlyZShcIi4vY2FwdHVyZWtleXNcIik7XG5cbnZhciBfZG9tY2hhbmdlID0gcmVxdWlyZShcIi4vZG9tY2hhbmdlXCIpO1xuXG52YXIgX3NlbGVjdGlvbiA9IHJlcXVpcmUoXCIuL3NlbGVjdGlvblwiKTtcblxudmFyIHN0b3BTZXEgPSBudWxsO1xuXG4vKipcclxuICogQSBjb2xsZWN0aW9uIG9mIERPTSBldmVudHMgdGhhdCBvY2N1ciB3aXRoaW4gdGhlIGVkaXRvciwgYW5kIGNhbGxiYWNrIGZ1bmN0aW9uc1xyXG4gKiB0byBpbnZva2Ugd2hlbiB0aGUgZXZlbnQgZmlyZXMuXHJcbiAqL1xudmFyIGhhbmRsZXJzID0ge307XG5cbnZhciBJbnB1dCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIElucHV0KHBtKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dCk7XG5cbiAgICB0aGlzLnBtID0gcG07XG5cbiAgICB0aGlzLmtleVNlcSA9IG51bGw7XG5cbiAgICAvLyBXaGVuIHRoZSB1c2VyIGlzIGNyZWF0aW5nIGEgY29tcG9zZWQgY2hhcmFjdGVyLFxuICAgIC8vIHRoaXMgaXMgc2V0IHRvIGEgQ29tcG9zaW5nIGluc3RhbmNlLlxuICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbDtcbiAgICB0aGlzLnNoaWZ0S2V5ID0gdGhpcy51cGRhdGluZ0NvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgdGhpcy5za2lwSW5wdXQgPSAwO1xuXG4gICAgdGhpcy5kcmFnZ2luZ0Zyb20gPSBmYWxzZTtcblxuICAgIHRoaXMua2V5bWFwcyA9IFtdO1xuXG4gICAgdGhpcy5zdG9yZWRTdHlsZXMgPSBudWxsO1xuXG4gICAgdGhpcy5kcm9wVGFyZ2V0ID0gcG0ud3JhcHBlci5hcHBlbmRDaGlsZCgoMCwgX2RvbS5lbHQpKFwiZGl2XCIsIHsgXCJjbGFzc1wiOiBcIlByb3NlTWlycm9yLWRyb3AtdGFyZ2V0XCIgfSkpO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgdmFyIGhhbmRsZXIgPSBoYW5kbGVyc1tfZXZlbnRdO1xuICAgICAgcG0uY29udGVudC5hZGRFdmVudExpc3RlbmVyKF9ldmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIocG0sIGUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIF9ldmVudCBpbiBoYW5kbGVycykge1xuICAgICAgX2xvb3AoX2V2ZW50KTtcbiAgICB9XG5cbiAgICBwbS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc3RvcmVkU3R5bGVzID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIERpc3BhdGNoIGEga2V5IHByZXNzIHRvIHRoZSBpbnRlcm5hbCBrZXltYXBzLCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0XHJcbiAgICogRE9NIGJlaGF2aW9yLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7UHJvc2VNaXJyb3J9ICAgcG0gVGhlIGVkaXRvciBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICBuYW1lIFRoZSBuYW1lIG9mIHRoZSBrZXkgcHJlc3NlZC5cclxuICAgKiBAcGFyYW0gIHtLZXlib2FyZEV2ZW50fSBlXHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBJZiB0aGUga2V5IG5hbWUgaGFzIGEgbWFwcGluZyBhbmQgdGhlIGNhbGxiYWNrIGlzIGludm9rZWQgKFwiaGFuZGxlZFwiKSxcclxuICAgKiAgICAgICAgICAgICAgICAgIGlmIHRoZSBrZXkgbmFtZSBuZWVkcyB0byBiZSBjb21iaW5lZCBpbiBzZXF1ZW5jZSB3aXRoIHRoZSBuZXh0IGtleSAoXCJtdWx0aVwiKSxcclxuICAgKiAgICAgICAgICAgICAgICAgIGlmIHRoZXJlIGlzIG5vIG1hcHBpbmcgKFwibm90aGluZ1wiKS5cclxuICAgKi9cblxuICBfY3JlYXRlQ2xhc3MoSW5wdXQsIFt7XG4gICAga2V5OiBcIm1heWJlQWJvcnRDb21wb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXliZUFib3J0Q29tcG9zaXRpb24oKSB7XG4gICAgICBpZiAodGhpcy5jb21wb3NpbmcgJiYgIXRoaXMudXBkYXRpbmdDb21wb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5jb21wb3NpbmcuZmluaXNoZWQpIHtcbiAgICAgICAgICBmaW5pc2hDb21wb3NpbmcodGhpcy5wbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVG9nZ2xlIHNlbGVjdGlvbiB0byBmb3JjZSBlbmQgb2YgY29tcG9zaXRpb25cbiAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5za2lwSW5wdXQrKztcbiAgICAgICAgICB2YXIgc2VsID0gZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKHNlbC5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnB1dDtcbn0pKCk7XG5cbmV4cG9ydHMuSW5wdXQgPSBJbnB1dDtcblxuZnVuY3Rpb24gZGlzcGF0Y2hLZXkocG0sIG5hbWUsIGUpIHtcbiAgdmFyIHNlcSA9IHBtLmlucHV0LmtleVNlcTtcbiAgLy8gSWYgdGhlIHByZXZpb3VzIGtleSBzaG91bGQgYmUgdXNlZCBpbiBzZXF1ZW5jZSB3aXRoIHRoaXMgb25lLCBtb2RpZnkgdGhlIG5hbWUgYWNjb3JkaW5nbHkuXG4gIGlmIChzZXEpIHtcbiAgICBpZiAoKDAsIF9rZXlzLmlzTW9kaWZpZXJLZXkpKG5hbWUpKSByZXR1cm4gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQoc3RvcFNlcSk7XG4gICAgc3RvcFNlcSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBtLmlucHV0LmtleVNlcSA9PSBzZXEpIHBtLmlucHV0LmtleVNlcSA9IG51bGw7XG4gICAgfSwgNTApO1xuICAgIG5hbWUgPSBzZXEgKyBcIiBcIiArIG5hbWU7XG4gIH1cblxuICB2YXIgaGFuZGxlID0gZnVuY3Rpb24gaGFuZGxlKGJvdW5kKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGJvdW5kKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IHJlc3VsdCA9PT0gZmFsc2UgJiYgaSA8IGJvdW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGhhbmRsZShib3VuZFtpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm91bmQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVzdWx0ID0gcG0uZXhlY0NvbW1hbmQoYm91bmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBib3VuZChwbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgIT09IGZhbHNlO1xuICB9O1xuXG4gIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG4gIGZvciAodmFyIGkgPSAwOyAhcmVzdWx0ICYmIGkgPCBwbS5pbnB1dC5rZXltYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ID0gKDAsIF9rZXlzLmxvb2t1cEtleSkobmFtZSwgcG0uaW5wdXQua2V5bWFwc1tpXS5tYXAsIGhhbmRsZSwgcG0pO1xuICB9aWYgKCFyZXN1bHQpIHJlc3VsdCA9ICgwLCBfa2V5cy5sb29rdXBLZXkpKG5hbWUsIHBtLm9wdGlvbnMua2V5bWFwLCBoYW5kbGUsIHBtKSB8fCAoMCwgX2tleXMubG9va3VwS2V5KShuYW1lLCBfY2FwdHVyZWtleXMuY2FwdHVyZUtleXMsIGhhbmRsZSwgcG0pO1xuXG4gIC8vIElmIHRoZSBrZXkgc2hvdWxkIGJlIHVzZWQgaW4gc2VxdWVuY2Ugd2l0aCB0aGUgbmV4dCBrZXksIHN0b3JlIHRoZSBrZXluYW1lIGludGVybmFsbHkuXG4gIGlmIChyZXN1bHQgPT0gXCJtdWx0aVwiKSBwbS5pbnB1dC5rZXlTZXEgPSBuYW1lO1xuXG4gIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIgfHwgcmVzdWx0ID09IFwibXVsdGlcIikgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGlmIChzZXEgJiYgIXJlc3VsdCAmJiAvXFwnJC8udGVzdChuYW1lKSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gISFyZXN1bHQ7XG59XG5cbmhhbmRsZXJzLmtleWRvd24gPSBmdW5jdGlvbiAocG0sIGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PSAxNikgcG0uaW5wdXQuc2hpZnRLZXkgPSB0cnVlO1xuICBpZiAocG0uaW5wdXQuY29tcG9zaW5nKSByZXR1cm47XG4gIHZhciBuYW1lID0gKDAsIF9rZXlzLmtleU5hbWUpKGUpO1xuICBpZiAobmFtZSAmJiBkaXNwYXRjaEtleShwbSwgbmFtZSwgZSkpIHJldHVybjtcbiAgcG0uc2VsLnBvbGxGb3JVcGRhdGUoKTtcbn07XG5cbmhhbmRsZXJzLmtleXVwID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIGlmIChlLmtleUNvZGUgPT0gMTYpIHBtLmlucHV0LnNoaWZ0S2V5ID0gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiBpbnB1dFRleHQocG0sIHJhbmdlLCB0ZXh0KSB7XG4gIGlmIChyYW5nZS5lbXB0eSAmJiAhdGV4dCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgc3R5bGVzID0gcG0uaW5wdXQuc3RvcmVkU3R5bGVzIHx8ICgwLCBfbW9kZWwuc3BhblN0eWxlc0F0KShwbS5kb2MsIHJhbmdlLmZyb20pO1xuICB2YXIgdHIgPSBwbS50cjtcbiAgdHIucmVwbGFjZVdpdGgocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHBtLnNjaGVtYS50ZXh0KHRleHQsIHN0eWxlcykpLmFwcGx5KCk7XG4gIHBtLnNjcm9sbEludG9WaWV3KCk7XG4gIHBtLnNpZ25hbChcInRleHRJbnB1dFwiLCB0ZXh0KTtcbn1cblxuaGFuZGxlcnMua2V5cHJlc3MgPSBmdW5jdGlvbiAocG0sIGUpIHtcbiAgaWYgKHBtLmlucHV0LmNvbXBvc2luZyB8fCAhZS5jaGFyQ29kZSB8fCBlLmN0cmxLZXkgJiYgIWUuYWx0S2V5IHx8IF9kb20uYnJvd3Nlci5tYWMgJiYgZS5tZXRhS2V5KSByZXR1cm47XG4gIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSk7XG4gIGlmIChkaXNwYXRjaEtleShwbSwgXCInXCIgKyBjaCArIFwiJ1wiLCBlKSkgcmV0dXJuO1xuICB2YXIgc2VsID0gcG0uc2VsZWN0aW9uO1xuICBpZiAoc2VsLm5vZGUgJiYgc2VsLm5vZGUuY29udGFpbnMgPT0gbnVsbCkge1xuICAgIHBtLnRyW1wiZGVsZXRlXCJdKHNlbC5mcm9tLCBzZWwudG8pLmFwcGx5KCk7XG4gICAgc2VsID0gcG0uc2VsZWN0aW9uO1xuICB9XG4gIGlucHV0VGV4dChwbSwgc2VsLCBjaCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5cbmZ1bmN0aW9uIHNlbGVjdENsaWNrZWROb2RlKHBtLCBlKSB7XG4gIHZhciBwb3MgPSAoMCwgX3NlbGVjdGlvbi5zZWxlY3RhYmxlTm9kZUFib3ZlKShwbSwgZS50YXJnZXQsIHsgbGVmdDogZS5jbGllbnRYLCB0b3A6IGUuY2xpZW50WSB9LCB0cnVlKTtcbiAgaWYgKCFwb3MpIHJldHVybiBwbS5zZWwucG9sbEZvclVwZGF0ZSgpO1xuXG4gIHZhciBfcG0kc2VsZWN0aW9uID0gcG0uc2VsZWN0aW9uO1xuICB2YXIgbm9kZSA9IF9wbSRzZWxlY3Rpb24ubm9kZTtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uLmZyb207XG5cbiAgaWYgKG5vZGUgJiYgcG9zLmRlcHRoID49IGZyb20uZGVwdGggJiYgcG9zLnNob3J0ZW4oZnJvbS5kZXB0aCkuY21wKGZyb20pID09IDApIHtcbiAgICBpZiAoZnJvbS5kZXB0aCA9PSAwKSByZXR1cm4gcG0uc2VsLnBvbGxGb3JVcGRhdGUoKTtcbiAgICBwb3MgPSBmcm9tLnNob3J0ZW4oKTtcbiAgfVxuXG4gIHBtLnNldE5vZGVTZWxlY3Rpb24ocG9zKTtcbiAgcG0uZm9jdXMoKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG52YXIgbGFzdENsaWNrID0gMDtcblxuaGFuZGxlcnMubW91c2Vkb3duID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIGlmIChlLmN0cmxLZXkpIHJldHVybiBzZWxlY3RDbGlja2VkTm9kZShwbSwgZSk7XG5cbiAgcG0uc2VsLnBvbGxGb3JVcGRhdGUoKTtcblxuICB2YXIgbm93ID0gRGF0ZS5ub3coKSxcbiAgICAgIG11bHRpID0gbm93IC0gbGFzdENsaWNrIDwgNTAwO1xuICBsYXN0Q2xpY2sgPSBub3c7XG4gIGlmIChwbS5pbnB1dC5zaGlmdEtleSB8fCBtdWx0aSkgcmV0dXJuO1xuXG4gIHZhciB4ID0gZS5jbGllbnRYLFxuICAgICAgeSA9IGUuY2xpZW50WTtcbiAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKCkge1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHVwKTtcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdmUpO1xuICB9O1xuICB2YXIgdXAgPSBmdW5jdGlvbiB1cCgpIHtcbiAgICBkb25lKCk7XG4gICAgdmFyIHBvcyA9ICgwLCBfc2VsZWN0aW9uLnNlbGVjdGFibGVOb2RlQWJvdmUpKHBtLCBlLnRhcmdldCwgeyBsZWZ0OiBlLmNsaWVudFgsIHRvcDogZS5jbGllbnRZIH0pO1xuICAgIGlmIChwb3MpIHtcbiAgICAgIHBtLnNldE5vZGVTZWxlY3Rpb24ocG9zKTtcbiAgICAgIHBtLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICB2YXIgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoZSkge1xuICAgIGlmIChNYXRoLmFicyh4IC0gZS5jbGllbnRYKSA+IDQgfHwgTWF0aC5hYnMoeSAtIGUuY2xpZW50WSkgPiA0KSBkb25lKCk7XG4gIH07XG4gIGFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHVwKTtcbiAgYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3ZlKTtcbn07XG5cbmhhbmRsZXJzLnRvdWNoZG93biA9IGZ1bmN0aW9uIChwbSkge1xuICBwbS5zZWwucG9sbEZvclVwZGF0ZSgpO1xufTtcblxuaGFuZGxlcnMubW91c2Vtb3ZlID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIGlmIChlLndoaWNoIHx8IGUuYnV0dG9uKSBwbS5zZWwucG9sbEZvclVwZGF0ZSgpO1xufTtcblxuLyoqXHJcbiAqIEEgY2xhc3MgdG8gdHJhY2sgc3RhdGUgd2hpbGUgY3JlYXRpbmcgYSBjb21wb3NlZCBjaGFyYWN0ZXIuXHJcbiAqL1xuXG52YXIgQ29tcG9zaW5nID0gZnVuY3Rpb24gQ29tcG9zaW5nKHBtLCBkYXRhKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb3NpbmcpO1xuXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgdGhpcy5jb250ZXh0ID0gKDAsIF9kb21jaGFuZ2UudGV4dENvbnRleHQpKGRhdGEpO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLmVuZERhdGEgPSBudWxsO1xuICB2YXIgcmFuZ2UgPSBwbS5zZWxlY3Rpb247XG4gIGlmIChkYXRhKSB7XG4gICAgdmFyIHBhdGggPSByYW5nZS5oZWFkLnBhdGgsXG4gICAgICAgIGxpbmUgPSBwbS5kb2MucGF0aChwYXRoKS50ZXh0Q29udGVudDtcbiAgICB2YXIgZm91bmQgPSBsaW5lLmluZGV4T2YoZGF0YSwgcmFuZ2UuaGVhZC5vZmZzZXQgLSBkYXRhLmxlbmd0aCk7XG4gICAgaWYgKGZvdW5kID4gLTEgJiYgZm91bmQgPD0gcmFuZ2UuaGVhZC5vZmZzZXQgKyBkYXRhLmxlbmd0aCkgcmFuZ2UgPSBuZXcgX3NlbGVjdGlvbi5UZXh0U2VsZWN0aW9uKG5ldyBfbW9kZWwuUG9zKHBhdGgsIGZvdW5kKSwgbmV3IF9tb2RlbC5Qb3MocGF0aCwgZm91bmQgKyBkYXRhLmxlbmd0aCkpO1xuICB9XG4gIHRoaXMucmFuZ2UgPSByYW5nZTtcbn07XG5cbmhhbmRsZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSBmdW5jdGlvbiAocG0sIGUpIHtcbiAgaWYgKHBtLmlucHV0Lm1heWJlQWJvcnRDb21wb3NpdGlvbigpKSByZXR1cm47XG5cbiAgcG0uZmx1c2goKTtcbiAgcG0uaW5wdXQuY29tcG9zaW5nID0gbmV3IENvbXBvc2luZyhwbSwgZS5kYXRhKTtcbiAgdmFyIGFib3ZlID0gcG0uc2VsZWN0aW9uLmhlYWQuc2hvcnRlbigpO1xuICBwbS5tYXJrUmFuZ2VEaXJ0eSh7IGZyb206IGFib3ZlLCB0bzogYWJvdmUubW92ZSgxKSB9KTtcbn07XG5cbmhhbmRsZXJzLmNvbXBvc2l0aW9udXBkYXRlID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIHZhciBpbmZvID0gcG0uaW5wdXQuY29tcG9zaW5nO1xuICBpZiAoaW5mbyAmJiBpbmZvLmRhdGEgIT0gZS5kYXRhKSB7XG4gICAgaW5mby5kYXRhID0gZS5kYXRhO1xuICAgIHBtLmlucHV0LnVwZGF0aW5nQ29tcG9zaXRpb24gPSB0cnVlO1xuICAgIGlucHV0VGV4dChwbSwgaW5mby5yYW5nZSwgaW5mby5kYXRhKTtcbiAgICBwbS5pbnB1dC51cGRhdGluZ0NvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgaW5mby5yYW5nZSA9IG5ldyBfc2VsZWN0aW9uLlRleHRTZWxlY3Rpb24oaW5mby5yYW5nZS5mcm9tLCBpbmZvLnJhbmdlLmZyb20ubW92ZShpbmZvLmRhdGEubGVuZ3RoKSk7XG4gIH1cbn07XG5cbmhhbmRsZXJzLmNvbXBvc2l0aW9uZW5kID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIHZhciBpbmZvID0gcG0uaW5wdXQuY29tcG9zaW5nO1xuICBpZiAoaW5mbykge1xuICAgIHBtLmlucHV0LmNvbXBvc2luZy5maW5pc2hlZCA9IHRydWU7XG4gICAgcG0uaW5wdXQuY29tcG9zaW5nLmVuZERhdGEgPSBlLmRhdGE7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocG0uaW5wdXQuY29tcG9zaW5nID09IGluZm8pIGZpbmlzaENvbXBvc2luZyhwbSk7XG4gICAgfSwgMjApO1xuICB9XG59O1xuXG5mdW5jdGlvbiBmaW5pc2hDb21wb3NpbmcocG0pIHtcbiAgdmFyIGluZm8gPSBwbS5pbnB1dC5jb21wb3Npbmc7XG4gIHZhciB0ZXh0ID0gKDAsIF9kb21jaGFuZ2UudGV4dEluQ29udGV4dCkoaW5mby5jb250ZXh0LCBpbmZvLmVuZERhdGEpO1xuICB2YXIgcmFuZ2UgPSAoMCwgX3NlbGVjdGlvbi5yYW5nZUZyb21ET01Mb29zZSkocG0pO1xuICBwbS5lbnN1cmVPcGVyYXRpb24oKTtcbiAgcG0uaW5wdXQuY29tcG9zaW5nID0gbnVsbDtcbiAgaWYgKHRleHQgIT0gaW5mby5kYXRhKSBpbnB1dFRleHQocG0sIGluZm8ucmFuZ2UsIHRleHQpO1xuICBpZiAocmFuZ2UgJiYgIXJhbmdlLmVxKHBtLnNlbC5yYW5nZSkpIHBtLnNldFNlbGVjdGlvbihyYW5nZSk7XG59XG5cbmhhbmRsZXJzLmlucHV0ID0gZnVuY3Rpb24gKHBtKSB7XG4gIGlmIChwbS5pbnB1dC5za2lwSW5wdXQpIHJldHVybiAtLXBtLmlucHV0LnNraXBJbnB1dDtcblxuICBpZiAocG0uaW5wdXQuY29tcG9zaW5nKSB7XG4gICAgaWYgKHBtLmlucHV0LmNvbXBvc2luZy5maW5pc2hlZCkgZmluaXNoQ29tcG9zaW5nKHBtKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAoMCwgX2RvbWNoYW5nZS5hcHBseURPTUNoYW5nZSkocG0pO1xuICBwbS5zY3JvbGxJbnRvVmlldygpO1xufTtcblxudmFyIGxhc3RDb3BpZWQgPSBudWxsO1xuXG5oYW5kbGVycy5jb3B5ID0gaGFuZGxlcnMuY3V0ID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIHZhciBfcG0kc2VsZWN0aW9uMiA9IHBtLnNlbGVjdGlvbjtcbiAgdmFyIGZyb20gPSBfcG0kc2VsZWN0aW9uMi5mcm9tO1xuICB2YXIgdG8gPSBfcG0kc2VsZWN0aW9uMi50bztcbiAgdmFyIGVtcHR5ID0gX3BtJHNlbGVjdGlvbjIuZW1wdHk7XG5cbiAgaWYgKGVtcHR5KSByZXR1cm47XG4gIHZhciBmcmFnbWVudCA9IHBtLnNlbGVjdGVkRG9jO1xuICBsYXN0Q29waWVkID0geyBkb2M6IHBtLmRvYywgZnJvbTogZnJvbSwgdG86IHRvLFxuICAgIGh0bWw6ICgwLCBfc2VyaWFsaXplRG9tLnRvSFRNTCkoZnJhZ21lbnQpLFxuICAgIHRleHQ6ICgwLCBfc2VyaWFsaXplVGV4dC50b1RleHQpKGZyYWdtZW50KSB9O1xuXG4gIGlmIChlLmNsaXBib2FyZERhdGEpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO1xuICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGxhc3RDb3BpZWQuaHRtbCk7XG4gICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIGxhc3RDb3BpZWQudGV4dCk7XG4gICAgaWYgKGUudHlwZSA9PSBcImN1dFwiICYmICFlbXB0eSkgcG0udHJbXCJkZWxldGVcIl0oZnJvbSwgdG8pLmFwcGx5KCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRvY1NpZGUoZG9jLCBzaWRlKSB7XG4gIHZhciBwYXRoID0gW107XG4gIGZvciAodmFyIG5vZGUgPSBkb2M7IG5vZGU7IG5vZGUgPSBzaWRlID09IFwiZW5kXCIgPyBub2RlLmxhc3RDaGlsZCA6IG5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGlmIChub2RlLmlzVGV4dGJsb2NrKSByZXR1cm4gbmV3IF9tb2RlbC5Qb3MocGF0aCwgc2lkZSA9PSBcImVuZFwiID8gbm9kZS5tYXhPZmZzZXQgOiAwKTtcbiAgICBpZiAobm9kZS50eXBlLmNvbnRhaW5zID09IG51bGwgJiYgbm9kZS50eXBlLnNlbGVjdGFibGUpIHJldHVybiBfbW9kZWwuUG9zLmZyb20ocGF0aCk7XG4gICAgcGF0aC5wdXNoKHNpZGUgPT0gXCJlbmRcIiA/IG5vZGUubWF4T2Zmc2V0IC0gMSA6IDApO1xuICB9XG59XG5cbmhhbmRsZXJzLnBhc3RlID0gZnVuY3Rpb24gKHBtLCBlKSB7XG4gIGlmICghZS5jbGlwYm9hcmREYXRhKSByZXR1cm47XG4gIHZhciBzZWwgPSBwbS5zZWxlY3Rpb247XG4gIHZhciB0eHQgPSBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7XG4gIHZhciBodG1sID0gZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIik7XG4gIGlmIChodG1sIHx8IHR4dCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZG9jID0gdW5kZWZpbmVkLFxuICAgICAgICBmcm9tID0gdW5kZWZpbmVkLFxuICAgICAgICB0byA9IHVuZGVmaW5lZDtcbiAgICBpZiAocG0uaW5wdXQuc2hpZnRLZXkgJiYgdHh0KSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFyYWdyYXBocyA9IHR4dC5zcGxpdCgvW1xcclxcbl0rLyk7XG4gICAgICAgIHZhciBzdHlsZXMgPSAoMCwgX21vZGVsLnNwYW5TdHlsZXNBdCkocG0uZG9jLCBzZWwuZnJvbSk7XG4gICAgICAgIGRvYyA9IHBtLnNjaGVtYS5ub2RlKFwiZG9jXCIsIG51bGwsIHBhcmFncmFwaHMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgcmV0dXJuIHBtLnNjaGVtYS5ub2RlKFwicGFyYWdyYXBoXCIsIG51bGwsIFtwbS5zY2hlbWEudGV4dChzLCBzdHlsZXMpXSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIGlmIChsYXN0Q29waWVkICYmIChsYXN0Q29waWVkLmh0bWwgPT0gaHRtbCB8fCBsYXN0Q29waWVkLnRleHQgPT0gdHh0KSkge1xuICAgICAgO3ZhciBfbGFzdENvcGllZCA9IGxhc3RDb3BpZWQ7XG4gICAgICBkb2MgPSBfbGFzdENvcGllZC5kb2M7XG4gICAgICBmcm9tID0gX2xhc3RDb3BpZWQuZnJvbTtcbiAgICAgIHRvID0gX2xhc3RDb3BpZWQudG87XG4gICAgfSBlbHNlIGlmIChodG1sKSB7XG4gICAgICBkb2MgPSAoMCwgX3BhcnNlRG9tLmZyb21IVE1MKShwbS5zY2hlbWEsIGh0bWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MgPSAoMCwgX3BhcnNlLmNvbnZlcnRGcm9tKShwbS5zY2hlbWEsIHR4dCwgKDAsIF9wYXJzZS5rbm93blNvdXJjZSkoXCJtYXJrZG93blwiKSA/IFwibWFya2Rvd25cIiA6IFwidGV4dFwiKTtcbiAgICB9XG4gICAgcG0udHIucmVwbGFjZShzZWwuZnJvbSwgc2VsLnRvLCBkb2MsIGZyb20gfHwgZG9jU2lkZShkb2MsIFwic3RhcnRcIiksIHRvIHx8IGRvY1NpZGUoZG9jLCBcImVuZFwiKSkuYXBwbHkoKTtcbiAgICBwbS5zY3JvbGxJbnRvVmlldygpO1xuICB9XG59O1xuXG5oYW5kbGVycy5kcmFnc3RhcnQgPSBmdW5jdGlvbiAocG0sIGUpIHtcbiAgaWYgKCFlLmRhdGFUcmFuc2ZlcikgcmV0dXJuO1xuXG4gIHZhciBmcmFnbWVudCA9IHBtLnNlbGVjdGVkRG9jO1xuXG4gIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIiwgKDAsIF9zZXJpYWxpemVEb20udG9IVE1MKShmcmFnbWVudCkpO1xuICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCAoMCwgX3NlcmlhbGl6ZVRleHQudG9UZXh0KShmcmFnbWVudCkpO1xuICBwbS5pbnB1dC5kcmFnZ2luZ0Zyb20gPSB0cnVlO1xufTtcblxuaGFuZGxlcnMuZHJhZ2VuZCA9IGZ1bmN0aW9uIChwbSkge1xuICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwbS5pbnB1dC5kcmFnZ2luRnJvbSA9IGZhbHNlO1xuICB9LCA1MCk7XG59O1xuXG5oYW5kbGVycy5kcmFnb3ZlciA9IGhhbmRsZXJzLmRyYWdlbnRlciA9IGZ1bmN0aW9uIChwbSwgZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHZhciBjdXJzb3JQb3MgPSBwbS5wb3NBdENvb3Jkcyh7IGxlZnQ6IGUuY2xpZW50WCwgdG9wOiBlLmNsaWVudFkgfSk7XG4gIGlmICghY3Vyc29yUG9zKSByZXR1cm47XG4gIHZhciBjb29yZHMgPSAoMCwgX3NlbGVjdGlvbi5jb29yZHNBdFBvcykocG0sIGN1cnNvclBvcyk7XG4gIHZhciByZWN0ID0gcG0ud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29vcmRzLnRvcCAtPSByZWN0LnRvcDtcbiAgY29vcmRzLnJpZ2h0IC09IHJlY3QubGVmdDtcbiAgY29vcmRzLmJvdHRvbSAtPSByZWN0LnRvcDtcbiAgY29vcmRzLmxlZnQgLT0gcmVjdC5sZWZ0O1xuICB2YXIgdGFyZ2V0ID0gcG0uaW5wdXQuZHJvcFRhcmdldDtcbiAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIHRhcmdldC5zdHlsZS5sZWZ0ID0gY29vcmRzLmxlZnQgLSAxICsgXCJweFwiO1xuICB0YXJnZXQuc3R5bGUudG9wID0gY29vcmRzLnRvcCArIFwicHhcIjtcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGNvb3Jkcy5ib3R0b20gLSBjb29yZHMudG9wICsgXCJweFwiO1xufTtcblxuaGFuZGxlcnMuZHJhZ2xlYXZlID0gZnVuY3Rpb24gKHBtKSB7XG4gIHJldHVybiBwbS5pbnB1dC5kcm9wVGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xufTtcblxuaGFuZGxlcnMuZHJvcCA9IGZ1bmN0aW9uIChwbSwgZSkge1xuICBwbS5pbnB1dC5kcm9wVGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXG4gIGlmICghZS5kYXRhVHJhbnNmZXIpIHJldHVybjtcblxuICB2YXIgaHRtbCA9IHVuZGVmaW5lZCxcbiAgICAgIHR4dCA9IHVuZGVmaW5lZCxcbiAgICAgIGRvYyA9IHVuZGVmaW5lZDtcbiAgaWYgKGh0bWwgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9odG1sXCIpKSBkb2MgPSAoMCwgX3BhcnNlRG9tLmZyb21IVE1MKShwbS5zY2hlbWEsIGh0bWwsIHsgZG9jdW1lbnQ6IGRvY3VtZW50IH0pO2Vsc2UgaWYgKHR4dCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKSBkb2MgPSAoMCwgX3BhcnNlLmNvbnZlcnRGcm9tKShwbS5zY2hlbWEsIHR4dCwgKDAsIF9wYXJzZS5rbm93blNvdXJjZSkoXCJtYXJrZG93blwiKSA/IFwibWFya2Rvd25cIiA6IFwidGV4dFwiKTtcblxuICBpZiAoZG9jKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBpbnNlcnRQb3MgPSBwbS5wb3NBdENvb3Jkcyh7IGxlZnQ6IGUuY2xpZW50WCwgdG9wOiBlLmNsaWVudFkgfSk7XG4gICAgaWYgKCFpbnNlcnRQb3MpIHJldHVybjtcbiAgICB2YXIgdHIgPSBwbS50cjtcbiAgICBpZiAocG0uaW5wdXQuZHJhZ2dpbmdGcm9tICYmICFlLmN0cmxLZXkpIHtcbiAgICAgIHRyLmRlbGV0ZVNlbGVjdGlvbigpO1xuICAgICAgaW5zZXJ0UG9zID0gdHIubWFwKGluc2VydFBvcykucG9zO1xuICAgIH1cbiAgICB0ci5yZXBsYWNlKGluc2VydFBvcywgaW5zZXJ0UG9zLCBkb2MsIGRvY1NpZGUoZG9jLCBcInN0YXJ0XCIpLCBkb2NTaWRlKGRvYywgXCJlbmRcIikpLmFwcGx5KCk7XG4gICAgcG0uc2V0U2VsZWN0aW9uKGluc2VydFBvcywgdHIubWFwKGluc2VydFBvcykucG9zKTtcbiAgICBwbS5mb2N1cygpO1xuICB9XG59O1xuXG5oYW5kbGVycy5mb2N1cyA9IGZ1bmN0aW9uIChwbSkge1xuICAoMCwgX2RvbS5hZGRDbGFzcykocG0ud3JhcHBlciwgXCJQcm9zZU1pcnJvci1mb2N1c2VkXCIpO1xuICBwbS5zaWduYWwoXCJmb2N1c1wiKTtcbn07XG5cbmhhbmRsZXJzLmJsdXIgPSBmdW5jdGlvbiAocG0pIHtcbiAgKDAsIF9kb20ucm1DbGFzcykocG0ud3JhcHBlciwgXCJQcm9zZU1pcnJvci1mb2N1c2VkXCIpO1xuICBwbS5zaWduYWwoXCJibHVyXCIpO1xufTsiLCIvLyBGcm9tIENvZGVNaXJyb3IsIHNob3VsZCBiZSBmYWN0b3JlZCBpbnRvIGl0cyBvd24gTlBNIG1vZHVsZVxuXG4vLyBkZWNsYXJlX2dsb2JhbDogbmF2aWdhdG9yXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzLmtleU5hbWUgPSBrZXlOYW1lO1xuZXhwb3J0cy5pc01vZGlmaWVyS2V5ID0gaXNNb2RpZmllcktleTtcbmV4cG9ydHMubm9ybWFsaXplS2V5TmFtZSA9IG5vcm1hbGl6ZUtleU5hbWU7XG5leHBvcnRzLmxvb2t1cEtleSA9IGxvb2t1cEtleTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlO1xuXG4vKipcclxuICogQSBtYXAgb2YgS2V5Ym9hcmRFdmVudCBrZXljb2RlcyB0byBrZXkgbmFtZXMuXHJcbiAqXHJcbiAqIEB0eXBlIHtBcnJheX1cclxuICovXG52YXIgbmFtZXMgPSB7XG4gIDM6IFwiRW50ZXJcIiwgODogXCJCYWNrc3BhY2VcIiwgOTogXCJUYWJcIiwgMTM6IFwiRW50ZXJcIiwgMTY6IFwiU2hpZnRcIiwgMTc6IFwiQ3RybFwiLCAxODogXCJBbHRcIixcbiAgMTk6IFwiUGF1c2VcIiwgMjA6IFwiQ2Fwc0xvY2tcIiwgMjc6IFwiRXNjXCIsIDMyOiBcIlNwYWNlXCIsIDMzOiBcIlBhZ2VVcFwiLCAzNDogXCJQYWdlRG93blwiLCAzNTogXCJFbmRcIixcbiAgMzY6IFwiSG9tZVwiLCAzNzogXCJMZWZ0XCIsIDM4OiBcIlVwXCIsIDM5OiBcIlJpZ2h0XCIsIDQwOiBcIkRvd25cIiwgNDQ6IFwiUHJpbnRTY3JuXCIsIDQ1OiBcIkluc2VydFwiLFxuICA0NjogXCJEZWxldGVcIiwgNTk6IFwiO1wiLCA2MTogXCI9XCIsIDkxOiBcIk1vZFwiLCA5MjogXCJNb2RcIiwgOTM6IFwiTW9kXCIsXG4gIDEwNjogXCIqXCIsIDEwNzogXCI9XCIsIDEwOTogXCItXCIsIDExMDogXCIuXCIsIDExMTogXCIvXCIsIDEyNzogXCJEZWxldGVcIixcbiAgMTczOiBcIi1cIiwgMTg2OiBcIjtcIiwgMTg3OiBcIj1cIiwgMTg4OiBcIixcIiwgMTg5OiBcIi1cIiwgMTkwOiBcIi5cIiwgMTkxOiBcIi9cIiwgMTkyOiBcImBcIiwgMjE5OiBcIltcIiwgMjIwOiBcIlxcXFxcIixcbiAgMjIxOiBcIl1cIiwgMjIyOiBcIidcIiwgNjMyMzI6IFwiVXBcIiwgNjMyMzM6IFwiRG93blwiLCA2MzIzNDogXCJMZWZ0XCIsIDYzMjM1OiBcIlJpZ2h0XCIsIDYzMjcyOiBcIkRlbGV0ZVwiLFxuICA2MzI3MzogXCJIb21lXCIsIDYzMjc1OiBcIkVuZFwiLCA2MzI3NjogXCJQYWdlVXBcIiwgNjMyNzc6IFwiUGFnZURvd25cIiwgNjMzMDI6IFwiSW5zZXJ0XCJcbn07XG5cbmV4cG9ydHMubmFtZXMgPSBuYW1lcztcbi8vIE51bWJlciBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgbmFtZXNbaSArIDQ4XSA9IG5hbWVzW2kgKyA5Nl0gPSBTdHJpbmcoaSk7XG59IC8vIEFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgbmFtZXNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xufSAvLyBGdW5jdGlvbiBrZXlzXG5mb3IgKHZhciBpID0gMTsgaSA8PSAxMjsgaSsrKSB7XG4gIG5hbWVzW2kgKyAxMTFdID0gbmFtZXNbaSArIDYzMjM1XSA9IFwiRlwiICsgaTtcbn0gLyoqXHJcbiAgICogR2l2ZW4gYSBrZXlwcmVzcyBldmVudCwgZ2V0IHRoZSBrZXkgbmFtZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge0tleWJvYXJkRXZlbnR9IGV2ZW50ICAgVGhlIGtleXByZXNzIGV2ZW50LlxyXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgIG5vU2hpZnRcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICAgIFRoZSBrZXkgbmFtZS5cclxuICAgKi9cblxuZnVuY3Rpb24ga2V5TmFtZShldmVudCwgbm9TaGlmdCkge1xuICB2YXIgYmFzZSA9IG5hbWVzW2V2ZW50LmtleUNvZGVdLFxuICAgICAgbmFtZSA9IGJhc2U7XG4gIGlmIChuYW1lID09IG51bGwgfHwgZXZlbnQuYWx0R3JhcGhLZXkpIHJldHVybiBmYWxzZTtcblxuICBpZiAoZXZlbnQuYWx0S2V5ICYmIGJhc2UgIT0gXCJBbHRcIikgbmFtZSA9IFwiQWx0LVwiICsgbmFtZTtcbiAgaWYgKGV2ZW50LmN0cmxLZXkgJiYgYmFzZSAhPSBcIkN0cmxcIikgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7XG4gIGlmIChldmVudC5tZXRhS2V5ICYmIGJhc2UgIT0gXCJDbWRcIikgbmFtZSA9IFwiQ21kLVwiICsgbmFtZTtcbiAgaWYgKCFub1NoaWZ0ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGJhc2UgIT0gXCJTaGlmdFwiKSBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gIHJldHVybiBuYW1lO1xufVxuXG5mdW5jdGlvbiBpc01vZGlmaWVyS2V5KHZhbHVlKSB7XG4gIHZhciBuYW1lID0gdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IG5hbWVzW3ZhbHVlLmtleUNvZGVdO1xuICByZXR1cm4gbmFtZSA9PSBcIkN0cmxcIiB8fCBuYW1lID09IFwiQWx0XCIgfHwgbmFtZSA9PSBcIlNoaWZ0XCIgfHwgbmFtZSA9PSBcIk1vZFwiO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKGZ1bGxOYW1lKSB7XG4gIHZhciBwYXJ0cyA9IGZ1bGxOYW1lLnNwbGl0KC8tKD8hJz8kKS8pLFxuICAgICAgbmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICB2YXIgYWx0ID0gdW5kZWZpbmVkLFxuICAgICAgY3RybCA9IHVuZGVmaW5lZCxcbiAgICAgIHNoaWZ0ID0gdW5kZWZpbmVkLFxuICAgICAgY21kID0gdW5kZWZpbmVkO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBtb2QgPSBwYXJ0c1tpXTtcbiAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSBjbWQgPSB0cnVlO2Vsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSkgYWx0ID0gdHJ1ZTtlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKSBjdHJsID0gdHJ1ZTtlbHNlIGlmICgvXnMoaGlmdCkkL2kudGVzdChtb2QpKSBzaGlmdCA9IHRydWU7ZWxzZSBpZiAoL15tb2QkL2kudGVzdChtb2QpKSB7XG4gICAgICBpZiAobWFjKSBjbWQgPSB0cnVlO2Vsc2UgY3RybCA9IHRydWU7XG4gICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCk7XG4gIH1cbiAgaWYgKGFsdCkgbmFtZSA9IFwiQWx0LVwiICsgbmFtZTtcbiAgaWYgKGN0cmwpIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICBpZiAoY21kKSBuYW1lID0gXCJDbWQtXCIgKyBuYW1lO1xuICBpZiAoc2hpZnQpIG5hbWUgPSBcIlNoaWZ0LVwiICsgbmFtZTtcbiAgcmV0dXJuIG5hbWU7XG59XG5cbi8qKlxyXG4gKiBBIGdyb3VwIG9mIGJpbmRpbmdzIG9mIGtleSBuYW1lcyBhbmQgZWRpdG9yIGNvbW1hbmRzLFxyXG4gKiB3aGljaCBvdmVycmlkZSB0aGUgZGVmYXVsdCBrZXkgcHJlc3MgZXZlbnQgYmVoYXZpb3IgaW4gdGhlIGVkaXRvcidzIERPTS5cclxuICovXG5cbnZhciBLZXltYXAgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBLZXltYXAoa2V5cywgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXltYXApO1xuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmJpbmRpbmdzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoa2V5cykgZm9yICh2YXIga2V5bmFtZSBpbiBrZXlzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGtleXMsIGtleW5hbWUpKSB0aGlzLmFkZEJpbmRpbmcoa2V5bmFtZSwga2V5c1trZXluYW1lXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXHJcbiAgICogTG9va3VwIGEga2V5IG5hbWUgaW4gYSBLZXlNYXAsIGFuZCBwYXNzIHRoZSBtYXBwZWQgdmFsdWUgdG8gYSBoYW5kbGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAga2V5ICAgICBUaGUga2V5IG5hbWUuXHJcbiAgICogQHBhcmFtIHtLZXltYXB9ICAgbWFwICAgICBUaGUga2V5IG1hcC4gSWYgdGhlIGtleW1hcCBoYXMgYW4gb3B0aW9ucy5jYWxsIG1ldGhvZCxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgd2lsbCBiZSBpbnZva2VkIHRvIGdldCB0aGUgbWFwcGVkIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZSAgQ2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge09iamVjdH0gICBjb250ZXh0XHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBJZiB0aGUga2V5IG5hbWUgaGFzIGEgbWFwcGluZyBhbmQgdGhlIGNhbGxiYWNrIGlzIGludm9rZWQgKFwiaGFuZGxlZFwiKSxcclxuICAgKiAgICAgICAgICAgICAgICAgIGlmIHRoZSBrZXkgbmFtZSBuZWVkcyB0byBiZSBjb21iaW5lZCBpbiBzZXF1ZW5jZSB3aXRoIHRoZSBuZXh0IGtleSAoXCJtdWx0aVwiKSxcclxuICAgKiAgICAgICAgICAgICAgICAgIGlmIHRoZXJlIGlzIG5vIG1hcHBpbmcgKFwibm90aGluZ1wiKS5cclxuICAgKi9cblxuICBfY3JlYXRlQ2xhc3MoS2V5bWFwLCBbe1xuICAgIGtleTogXCJhZGRCaW5kaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEJpbmRpbmcoa2V5bmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBrZXlzID0ga2V5bmFtZS5zcGxpdChcIiBcIikubWFwKG5vcm1hbGl6ZUtleU5hbWUpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBfbmFtZSA9IGtleXMuc2xpY2UoMCwgaSArIDEpLmpvaW4oXCIgXCIpO1xuICAgICAgICB2YXIgdmFsID0gaSA9PSBrZXlzLmxlbmd0aCAtIDEgPyB2YWx1ZSA6IFwiLi4uXCI7XG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5iaW5kaW5nc1tfbmFtZV07XG4gICAgICAgIGlmICghcHJldikgdGhpcy5iaW5kaW5nc1tfbmFtZV0gPSB2YWw7ZWxzZSBpZiAocHJldiAhPSB2YWwpIHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIgKyBfbmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUJpbmRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQmluZGluZyhrZXluYW1lKSB7XG4gICAgICB2YXIga2V5cyA9IGtleW5hbWUuc3BsaXQoXCIgXCIpLm1hcChub3JtYWxpemVLZXlOYW1lKTtcbiAgICAgIGZvciAodmFyIGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBfbmFtZTIgPSBrZXlzLnNsaWNlKDAsIGkpLmpvaW4oXCIgXCIpO1xuICAgICAgICB2YXIgdmFsID0gdGhpcy5iaW5kaW5nc1tfbmFtZTJdO1xuICAgICAgICBpZiAodmFsID09IFwiLi4uXCIgJiYgIXRoaXMudW51c2VkTXVsdGkoX25hbWUyKSkgYnJlYWs7ZWxzZSBpZiAodmFsKSBkZWxldGUgdGhpcy5iaW5kaW5nc1tfbmFtZTJdO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bnVzZWRNdWx0aVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnVzZWRNdWx0aShuYW1lKSB7XG4gICAgICBmb3IgKHZhciBiaW5kaW5nIGluIHRoaXMuYmluZGluZ3MpIHtcbiAgICAgICAgaWYgKGJpbmRpbmcubGVuZ3RoID4gbmFtZSAmJiBiaW5kaW5nLmluZGV4T2YobmFtZSkgPT0gMCAmJiBiaW5kaW5nLmNoYXJBdChuYW1lLmxlbmd0aCkgPT0gXCIgXCIpIHJldHVybiBmYWxzZTtcbiAgICAgIH1yZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5bWFwO1xufSkoKTtcblxuZXhwb3J0cy5LZXltYXAgPSBLZXltYXA7XG5cbmZ1bmN0aW9uIGxvb2t1cEtleShfeCwgX3gyLCBfeDMsIF94NCkge1xuICB2YXIgX2FnYWluID0gdHJ1ZTtcblxuICBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcbiAgICB2YXIga2V5ID0gX3gsXG4gICAgICAgIG1hcCA9IF94MixcbiAgICAgICAgaGFuZGxlID0gX3gzLFxuICAgICAgICBjb250ZXh0ID0gX3g0O1xuICAgIF9hZ2FpbiA9IGZhbHNlO1xuXG4gICAgdmFyIGZvdW5kID0gbWFwLm9wdGlvbnMuY2FsbCA/IG1hcC5vcHRpb25zLmNhbGwoa2V5LCBjb250ZXh0KSA6IG1hcC5iaW5kaW5nc1trZXldO1xuICAgIGlmIChmb3VuZCA9PT0gZmFsc2UpIHJldHVybiBcIm5vdGhpbmdcIjtcbiAgICBpZiAoZm91bmQgPT09IFwiLi4uXCIpIHJldHVybiBcIm11bHRpXCI7XG4gICAgaWYgKGZvdW5kICE9IG51bGwgJiYgaGFuZGxlKGZvdW5kKSkgcmV0dXJuIFwiaGFuZGxlZFwiO1xuXG4gICAgdmFyIGZhbGwgPSBtYXAub3B0aW9ucy5mYWxsdGhyb3VnaDtcbiAgICBpZiAoZmFsbCkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZhbGwpKSB7XG4gICAgICAgIF94ID0ga2V5O1xuICAgICAgICBfeDIgPSBmYWxsO1xuICAgICAgICBfeDMgPSBoYW5kbGU7XG4gICAgICAgIF94NCA9IGNvbnRleHQ7XG4gICAgICAgIF9hZ2FpbiA9IHRydWU7XG4gICAgICAgIGZvdW5kID0gZmFsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkoa2V5LCBmYWxsW2ldLCBoYW5kbGUsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeDQsIF94NSwgX3g2KSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94NCwgcHJvcGVydHkgPSBfeDUsIHJlY2VpdmVyID0gX3g2OyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94NCA9IHBhcmVudDsgX3g1ID0gcHJvcGVydHk7IF94NiA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnJlcXVpcmUoXCIuL2Nzc1wiKTtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF90cmFuc2Zvcm0gPSByZXF1aXJlKFwiLi4vdHJhbnNmb3JtXCIpO1xuXG52YXIgX3V0aWxTb3J0ZWRpbnNlcnQgPSByZXF1aXJlKFwiLi4vdXRpbC9zb3J0ZWRpbnNlcnRcIik7XG5cbnZhciBfdXRpbFNvcnRlZGluc2VydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlsU29ydGVkaW5zZXJ0KTtcblxudmFyIF91dGlsTWFwID0gcmVxdWlyZShcIi4uL3V0aWwvbWFwXCIpO1xuXG52YXIgX29wdGlvbnMgPSByZXF1aXJlKFwiLi9vcHRpb25zXCIpO1xuXG52YXIgX3NlbGVjdGlvbjIgPSByZXF1aXJlKFwiLi9zZWxlY3Rpb25cIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcblxudmFyIF9kcmF3ID0gcmVxdWlyZShcIi4vZHJhd1wiKTtcblxudmFyIF9pbnB1dCA9IHJlcXVpcmUoXCIuL2lucHV0XCIpO1xuXG52YXIgX2hpc3RvcnkgPSByZXF1aXJlKFwiLi9oaXN0b3J5XCIpO1xuXG52YXIgX2V2ZW50ID0gcmVxdWlyZShcIi4vZXZlbnRcIik7XG5cbnZhciBfc2VyaWFsaXplVGV4dCA9IHJlcXVpcmUoXCIuLi9zZXJpYWxpemUvdGV4dFwiKTtcblxucmVxdWlyZShcIi4uL3BhcnNlL3RleHRcIik7XG5cbnZhciBfcGFyc2UgPSByZXF1aXJlKFwiLi4vcGFyc2VcIik7XG5cbnZhciBfc2VyaWFsaXplID0gcmVxdWlyZShcIi4uL3NlcmlhbGl6ZVwiKTtcblxudmFyIF9jb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzXCIpO1xuXG52YXIgX3JhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIik7XG5cbnZhciBfa2V5cyA9IHJlcXVpcmUoXCIuL2tleXNcIik7XG5cbi8qKlxyXG4gKiBQcm9zZU1pcnJvciBlZGl0b3IgY2xhc3MuXHJcbiAqIEBjbGFzc1xyXG4gKi9cblxudmFyIFByb3NlTWlycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgICAgICAgIEluc3RhbmNlIG9wdGlvbnMgaGFzaC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cy5zY2hlbWEgVGhlIGRvY3VtZW50IG1vZGVsIHNjaGVtYSBmb3IgdGhlIGVkaXRvciBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cy5kb2MgICAgVGhlIGRvY3VtZW50IG1vZGVsIGZvciB0aGUgaW5zdGFuY2UuIE9wdGlvbmFsLlxyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIFByb3NlTWlycm9yKG9wdHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvc2VNaXJyb3IpO1xuXG4gICAgb3B0cyA9IHRoaXMub3B0aW9ucyA9ICgwLCBfb3B0aW9ucy5wYXJzZU9wdGlvbnMpKG9wdHMpO1xuICAgIHRoaXMuc2NoZW1hID0gb3B0cy5zY2hlbWE7XG4gICAgaWYgKG9wdHMuZG9jID09IG51bGwpIG9wdHMuZG9jID0gdGhpcy5zY2hlbWEubm9kZShcImRvY1wiLCBudWxsLCBbdGhpcy5zY2hlbWEubm9kZShcInBhcmFncmFwaFwiKV0pO1xuICAgIHRoaXMuY29udGVudCA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItY29udGVudFwiIH0pO1xuICAgIHRoaXMud3JhcHBlciA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3JcIiB9LCB0aGlzLmNvbnRlbnQpO1xuICAgIHRoaXMud3JhcHBlci5Qcm9zZU1pcnJvciA9IHRoaXM7XG5cbiAgICBpZiAob3B0cy5wbGFjZSAmJiBvcHRzLnBsYWNlLmFwcGVuZENoaWxkKSBvcHRzLnBsYWNlLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlcik7ZWxzZSBpZiAob3B0cy5wbGFjZSkgb3B0cy5wbGFjZSh0aGlzLndyYXBwZXIpO1xuXG4gICAgdGhpcy5zZXREb2NJbm5lcihvcHRzLmRvY0Zvcm1hdCA/ICgwLCBfcGFyc2UuY29udmVydEZyb20pKHRoaXMuc2NoZW1hLCBvcHRzLmRvYywgb3B0cy5kb2NGb3JtYXQsIHsgZG9jdW1lbnQ6IGRvY3VtZW50IH0pIDogb3B0cy5kb2MpO1xuICAgICgwLCBfZHJhdy5kcmF3KSh0aGlzLCB0aGlzLmRvYyk7XG4gICAgdGhpcy5jb250ZW50LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG4gICAgaWYgKG9wdHMubGFiZWwpIHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBvcHRzLmxhYmVsKTtcblxuICAgIHRoaXMubW9kID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLm9wZXJhdGlvbiA9IG51bGw7XG4gICAgdGhpcy5kaXJ0eU5vZGVzID0gbmV3IF91dGlsTWFwLk1hcCgpOyAvLyBNYXBzIG5vZGUgb2JqZWN0IHRvIDEgKHJlLXNjYW4gY29udGVudCkgb3IgMiAocmVkcmF3IGVudGlyZWx5KVxuICAgIHRoaXMuZmx1c2hTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuc2VsID0gbmV3IF9zZWxlY3Rpb24yLlNlbGVjdGlvblN0YXRlKHRoaXMpO1xuICAgIHRoaXMuaW5wdXQgPSBuZXcgX2lucHV0LklucHV0KHRoaXMpO1xuXG4gICAgdGhpcy5jb21tYW5kcyA9ICgwLCBfY29tbWFuZHMuaW5pdENvbW1hbmRzKSh0aGlzLnNjaGVtYSk7XG4gICAgdGhpcy5jb21tYW5kS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAoMCwgX29wdGlvbnMuaW5pdE9wdGlvbnMpKHRoaXMpO1xuICB9XG5cbiAgLyoqXHJcbiAgICogQHJldHVybiB7UmFuZ2V9IFRoZSBpbnN0YW5jZSBvZiB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIHJhbmdlLlxyXG4gICAqL1xuXG4gIF9jcmVhdGVDbGFzcyhQcm9zZU1pcnJvciwgW3tcbiAgICBrZXk6IFwiYXBwbHlcIixcblxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgYSB0cmFuc2Zvcm0gb24gdGhlIGVkaXRvci5cclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseSh0cmFuc2Zvcm0pIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbE9wdGlvbnMgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0cmFuc2Zvcm0uZG9jID09IHRoaXMuZG9jKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAodHJhbnNmb3JtLmRvY3NbMF0gIT0gdGhpcy5kb2MgJiYgKDAsIF9tb2RlbC5maW5kRGlmZlN0YXJ0KSh0cmFuc2Zvcm0uZG9jc1swXSwgdGhpcy5kb2MpKSB0aHJvdyBuZXcgRXJyb3IoXCJBcHBseWluZyBhIHRyYW5zZm9ybSB0aGF0IGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIGN1cnJlbnQgZG9jdW1lbnRcIik7XG5cbiAgICAgIHRoaXMudXBkYXRlRG9jKHRyYW5zZm9ybS5kb2MsIHRyYW5zZm9ybSwgb3B0aW9ucy5zZWxlY3Rpb24pO1xuICAgICAgdGhpcy5zaWduYWwoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtLCBvcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLnNjcm9sbEludG9WaWV3KSB0aGlzLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7VHJhbnNmb3JtfSBBIG5ldyB0cmFuc2Zvcm0gb2JqZWN0LlxyXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q29udGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb250ZW50KHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgIGlmIChmb3JtYXQpIHZhbHVlID0gKDAsIF9wYXJzZS5jb252ZXJ0RnJvbSkodGhpcy5zY2hlbWEsIHZhbHVlLCBmb3JtYXQpO1xuICAgICAgdGhpcy5zZXREb2ModmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb250ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRlbnQoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gZm9ybWF0ID8gKDAsIF9zZXJpYWxpemUuY29udmVydFRvKSh0aGlzLmRvYywgZm9ybWF0KSA6IHRoaXMuZG9jO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXREb2NJbm5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREb2NJbm5lcihkb2MpIHtcbiAgICAgIGlmIChkb2MudHlwZSAhPSB0aGlzLnNjaGVtYS5ub2Rlcy5kb2MpIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBzZXQgYSBkb2N1bWVudCB3aXRoIGEgZGlmZmVyZW50IHNjaGVtYVwiKTtcbiAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgdGhpcy5yYW5nZXMgPSBuZXcgX3JhbmdlLlJhbmdlU3RvcmUodGhpcyk7XG4gICAgICB0aGlzLmhpc3RvcnkgPSBuZXcgX2hpc3RvcnkuSGlzdG9yeSh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RG9jXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERvYyhkb2MsIHNlbCkge1xuICAgICAgaWYgKCFzZWwpIHNlbCA9ICgwLCBfc2VsZWN0aW9uMi5maW5kU2VsZWN0aW9uQXRTdGFydCkoZG9jKTtcbiAgICAgIHRoaXMuc2lnbmFsKFwiYmVmb3JlU2V0RG9jXCIsIGRvYywgc2VsKTtcbiAgICAgIHRoaXMuZW5zdXJlT3BlcmF0aW9uKCk7XG4gICAgICB0aGlzLnNldERvY0lubmVyKGRvYyk7XG4gICAgICB0aGlzLnNlbC5zZXQoc2VsLCB0cnVlKTtcbiAgICAgIHRoaXMuc2lnbmFsKFwic2V0RG9jXCIsIGRvYywgc2VsKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlRG9jXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURvYyhkb2MsIG1hcHBpbmcsIHNlbGVjdGlvbikge1xuICAgICAgdGhpcy5lbnN1cmVPcGVyYXRpb24oKTtcbiAgICAgIHRoaXMuaW5wdXQubWF5YmVBYm9ydENvbXBvc2l0aW9uKCk7XG4gICAgICB0aGlzLnJhbmdlcy50cmFuc2Zvcm0obWFwcGluZyk7XG4gICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgIHRoaXMuc2VsLnNldEFuZFNpZ25hbChzZWxlY3Rpb24gfHwgdGhpcy5zZWwucmFuZ2UubWFwKGRvYywgbWFwcGluZykpO1xuICAgICAgdGhpcy5zaWduYWwoXCJjaGFuZ2VcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrUG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrUG9zKHBvcywgYmxvY2spIHtcbiAgICAgIGlmICghdGhpcy5kb2MuaXNWYWxpZFBvcyhwb3MsIGJsb2NrKSkgdGhyb3cgbmV3IEVycm9yKFwiUG9zaXRpb24gXCIgKyBwb3MgKyBcIiBpcyBub3QgdmFsaWQgaW4gY3VycmVudCBkb2N1bWVudFwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2VsZWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGlvbihyYW5nZU9yQW5jaG9yLCBoZWFkKSB7XG4gICAgICB2YXIgcmFuZ2UgPSByYW5nZU9yQW5jaG9yO1xuICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBfc2VsZWN0aW9uMi5TZWxlY3Rpb24pKSByYW5nZSA9IG5ldyBfc2VsZWN0aW9uMi5UZXh0U2VsZWN0aW9uKHJhbmdlT3JBbmNob3IsIGhlYWQpO1xuICAgICAgaWYgKHJhbmdlIGluc3RhbmNlb2YgX3NlbGVjdGlvbjIuVGV4dFNlbGVjdGlvbikge1xuICAgICAgICB0aGlzLmNoZWNrUG9zKHJhbmdlLmhlYWQsIHRydWUpO1xuICAgICAgICB0aGlzLmNoZWNrUG9zKHJhbmdlLmFuY2hvciwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoZWNrUG9zKHJhbmdlLmZyb20sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jaGVja1BvcyhyYW5nZS50bywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbnN1cmVPcGVyYXRpb24oKTtcbiAgICAgIHRoaXMuaW5wdXQubWF5YmVBYm9ydENvbXBvc2l0aW9uKCk7XG4gICAgICBpZiAoIXJhbmdlLmVxKHRoaXMuc2VsLnJhbmdlKSkgdGhpcy5zZWwuc2V0QW5kU2lnbmFsKHJhbmdlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Tm9kZVNlbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROb2RlU2VsZWN0aW9uKHBvcykge1xuICAgICAgdGhpcy5jaGVja1Bvcyhwb3MsIGZhbHNlKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmRvYy5wYXRoKHBvcy5wYXRoKTtcbiAgICAgIGlmIChwb3Mub2Zmc2V0ID49IHBhcmVudC5tYXhPZmZzZXQpIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBzZXQgYSBub2RlIHNlbGVjdGlvbiBhdCB0aGUgZW5kIG9mIGEgbm9kZVwiKTtcbiAgICAgIHZhciBub2RlID0gcGFyZW50LmlzVGV4dGJsb2NrID8gcGFyZW50LmNoaWxkQWZ0ZXIocG9zLm9mZnNldCkubm9kZSA6IHBhcmVudC5jaGlsZChwb3Mub2Zmc2V0KTtcbiAgICAgIHRoaXMuaW5wdXQubWF5YmVBYm9ydENvbXBvc2l0aW9uKCk7XG4gICAgICB0aGlzLnNlbC5zZXRBbmRTaWduYWwobmV3IF9zZWxlY3Rpb24yLk5vZGVTZWxlY3Rpb24ocG9zLCBwb3MubW92ZSgxKSwgbm9kZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbnN1cmVPcGVyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5zdXJlT3BlcmF0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3BlcmF0aW9uIHx8IHRoaXMuc3RhcnRPcGVyYXRpb24oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRPcGVyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRPcGVyYXRpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLnNlbC5iZWZvcmVTdGFydE9wKCk7XG4gICAgICB0aGlzLm9wZXJhdGlvbiA9IG5ldyBPcGVyYXRpb24odGhpcyk7XG4gICAgICBpZiAoIXRoaXMuZmx1c2hTY2hlZHVsZWQpIHtcbiAgICAgICAgKDAsIF9kb20ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuZmx1c2hTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICBfdGhpcy5mbHVzaCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mbHVzaFNjaGVkdWxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcGVyYXRpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZsdXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgdmFyIG9wID0gdGhpcy5vcGVyYXRpb247XG4gICAgICBpZiAoIW9wIHx8ICFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMud3JhcHBlcikpIHJldHVybjtcbiAgICAgIHRoaXMub3BlcmF0aW9uID0gbnVsbDtcblxuICAgICAgdmFyIGRvY0NoYW5nZWQgPSBvcC5kb2MgIT0gdGhpcy5kb2MgfHwgdGhpcy5kaXJ0eU5vZGVzLnNpemUsXG4gICAgICAgICAgcmVkcmF3biA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLmlucHV0LmNvbXBvc2luZyAmJiAoZG9jQ2hhbmdlZCB8fCBvcC5jb21wb3NpbmdBdFN0YXJ0KSkge1xuICAgICAgICAoMCwgX2RyYXcucmVkcmF3KSh0aGlzLCB0aGlzLmRpcnR5Tm9kZXMsIHRoaXMuZG9jLCBvcC5kb2MpO1xuICAgICAgICB0aGlzLmRpcnR5Tm9kZXMuY2xlYXIoKTtcbiAgICAgICAgcmVkcmF3biA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgocmVkcmF3biB8fCAhb3Auc2VsLmVxKHRoaXMuc2VsLnJhbmdlKSkgJiYgIXRoaXMuaW5wdXQuY29tcG9zaW5nKSB0aGlzLnNlbC50b0RPTShvcC5mb2N1cyk7XG5cbiAgICAgIGlmIChvcC5zY3JvbGxJbnRvVmlldyAhPT0gZmFsc2UpICgwLCBfc2VsZWN0aW9uMi5zY3JvbGxJbnRvVmlldykodGhpcywgb3Auc2Nyb2xsSW50b1ZpZXcpO1xuICAgICAgaWYgKGRvY0NoYW5nZWQpIHRoaXMuc2lnbmFsKFwiZHJhd1wiKTtcbiAgICAgIHRoaXMuc2lnbmFsKFwiZmx1c2hcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldE9wdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICgwLCBfb3B0aW9ucy5zZXRPcHRpb24pKHRoaXMsIG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T3B0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9wdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zW25hbWVdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRLZXltYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkS2V5bWFwKG1hcCkge1xuICAgICAgdmFyIHJhbmsgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyA1MCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgKDAsIF91dGlsU29ydGVkaW5zZXJ0MltcImRlZmF1bHRcIl0pKHRoaXMuaW5wdXQua2V5bWFwcywgeyBtYXA6IG1hcCwgcmFuazogcmFuayB9LCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5yYW5rIC0gYi5yYW5rO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUtleW1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVLZXltYXAobWFwKSB7XG4gICAgICB2YXIgbWFwcyA9IHRoaXMuaW5wdXQua2V5bWFwcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAobWFwc1tpXS5tYXAgPT0gbWFwIHx8IG1hcHNbaV0ubWFwLm9wdGlvbnMubmFtZSA9PSBtYXApIHtcbiAgICAgICAgICBtYXBzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXJrUmFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFya1JhbmdlKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLmNoZWNrUG9zKGZyb20pO1xuICAgICAgdGhpcy5jaGVja1Bvcyh0byk7XG4gICAgICB2YXIgcmFuZ2UgPSBuZXcgX3JhbmdlLk1hcmtlZFJhbmdlKGZyb20sIHRvLCBvcHRpb25zKTtcbiAgICAgIHRoaXMucmFuZ2VzLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUmFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUmFuZ2UocmFuZ2UpIHtcbiAgICAgIHRoaXMucmFuZ2VzLnJlbW92ZVJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U3R5bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3R5bGUodHlwZSwgdG8sIGF0dHJzKSB7XG4gICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICBpZiAoc2VsLmVtcHR5KSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSB0aGlzLmFjdGl2ZVN0eWxlcygpO1xuICAgICAgICBpZiAodG8gPT0gbnVsbCkgdG8gPSAhKDAsIF9tb2RlbC5jb250YWluc1N0eWxlKShzdHlsZXMsIHR5cGUpO1xuICAgICAgICBpZiAodG8gJiYgIXRoaXMuZG9jLnBhdGgoc2VsLmhlYWQucGF0aCkudHlwZS5jYW5Db250YWluU3R5bGUodHlwZSkpIHJldHVybjtcbiAgICAgICAgdGhpcy5pbnB1dC5zdG9yZWRTdHlsZXMgPSB0byA/IHR5cGUuY3JlYXRlKGF0dHJzKS5hZGRUb1NldChzdHlsZXMpIDogKDAsIF9tb2RlbC5yZW1vdmVTdHlsZSkoc3R5bGVzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5zaWduYWwoXCJhY3RpdmVTdHlsZUNoYW5nZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0byAhPSBudWxsID8gdG8gOiAhKDAsIF9tb2RlbC5yYW5nZUhhc1N0eWxlKSh0aGlzLmRvYywgc2VsLmZyb20sIHNlbC50bywgdHlwZSkpIHRoaXMuYXBwbHkodGhpcy50ci5hZGRTdHlsZShzZWwuZnJvbSwgc2VsLnRvLCB0eXBlLmNyZWF0ZShhdHRycykpKTtlbHNlIHRoaXMuYXBwbHkodGhpcy50ci5yZW1vdmVTdHlsZShzZWwuZnJvbSwgc2VsLnRvLCB0eXBlKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFjdGl2ZVN0eWxlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhY3RpdmVTdHlsZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dC5zdG9yZWRTdHlsZXMgfHwgKDAsIF9tb2RlbC5zcGFuU3R5bGVzQXQpKHRoaXMuZG9jLCB0aGlzLnNlbGVjdGlvbi5oZWFkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9jdXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICBpZiAodGhpcy5vcGVyYXRpb24pIHRoaXMub3BlcmF0aW9uLmZvY3VzID0gdHJ1ZTtlbHNlIHRoaXMuc2VsLnRvRE9NKHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYXNGb2N1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNGb2N1cygpIHtcbiAgICAgIGlmICh0aGlzLnNlbC5yYW5nZSBpbnN0YW5jZW9mIF9zZWxlY3Rpb24yLk5vZGVTZWxlY3Rpb24pIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09IHRoaXMuY29udGVudDtlbHNlIHJldHVybiAoMCwgX3NlbGVjdGlvbjIuaGFzRm9jdXMpKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3NBdENvb3Jkc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NBdENvb3Jkcyhjb29yZHMpIHtcbiAgICAgIHJldHVybiAoMCwgX3NlbGVjdGlvbjIucG9zQXRDb29yZHMpKHRoaXMsIGNvb3Jkcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvb3Jkc0F0UG9zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvb3Jkc0F0UG9zKHBvcykge1xuICAgICAgdGhpcy5jaGVja1Bvcyhwb3MpO1xuICAgICAgcmV0dXJuICgwLCBfc2VsZWN0aW9uMi5jb29yZHNBdFBvcykodGhpcywgcG9zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsSW50b1ZpZXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICB2YXIgcG9zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKHBvcykgdGhpcy5jaGVja1Bvcyhwb3MpO1xuICAgICAgdGhpcy5lbnN1cmVPcGVyYXRpb24oKTtcbiAgICAgIHRoaXMub3BlcmF0aW9uLnNjcm9sbEludG9WaWV3ID0gcG9zO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleGVjQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjQ29tbWFuZChuYW1lLCBwYXJhbXMpIHtcbiAgICAgIHZhciBjbWQgPSB0aGlzLmNvbW1hbmRzW25hbWVdO1xuICAgICAgcmV0dXJuICEhKGNtZCAmJiBjbWQuZXhlYyh0aGlzLCBwYXJhbXMpICE9PSBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImtleUZvckNvbW1hbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24ga2V5Rm9yQ29tbWFuZChuYW1lKSB7XG4gICAgICB2YXIgY2FjaGVkID0gdGhpcy5jb21tYW5kS2V5c1tuYW1lXTtcbiAgICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGNhY2hlZDtcblxuICAgICAgdmFyIGNtZCA9IHRoaXMuY29tbWFuZHNbbmFtZV07XG4gICAgICBpZiAoIWNtZCkgcmV0dXJuIHRoaXMuY29tbWFuZEtleXNbbmFtZV0gPSBudWxsO1xuICAgICAgdmFyIGtleSA9IGNtZC5pbmZvLmtleSB8fCAoX2RvbS5icm93c2VyLm1hYyA/IGNtZC5pbmZvLm1hY0tleSA6IGNtZC5pbmZvLnBjS2V5KTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAga2V5ID0gKDAsIF9rZXlzLm5vcm1hbGl6ZUtleU5hbWUpKEFycmF5LmlzQXJyYXkoa2V5KSA/IGtleVswXSA6IGtleSk7XG4gICAgICAgIHZhciBkZWZsdCA9IHRoaXMub3B0aW9ucy5rZXltYXAuYmluZGluZ3Nba2V5XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmbHQpID8gZGVmbHQuaW5kZXhPZihuYW1lKSA+IC0xIDogZGVmbHQgPT0gbmFtZSkgcmV0dXJuIHRoaXMuY29tbWFuZEtleXNbbmFtZV0gPSBrZXk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBfa2V5IGluIHRoaXMub3B0aW9ucy5rZXltYXAuYmluZGluZ3MpIHtcbiAgICAgICAgdmFyIGJvdW5kID0gdGhpcy5vcHRpb25zLmtleW1hcC5iaW5kaW5nc1tfa2V5XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYm91bmQpID8gYm91bmQuaW5kZXhPZihuYW1lKSA+IC0xIDogYm91bmQgPT0gbmFtZSkgcmV0dXJuIHRoaXMuY29tbWFuZEtleXNbbmFtZV0gPSBfa2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEtleXNbbmFtZV0gPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXJrUmFuZ2VEaXJ0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXJrUmFuZ2VEaXJ0eShyYW5nZSkge1xuICAgICAgdGhpcy5lbnN1cmVPcGVyYXRpb24oKTtcbiAgICAgIHZhciBkaXJ0eSA9IHRoaXMuZGlydHlOb2RlcztcbiAgICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSxcbiAgICAgICAgICB0byA9IHJhbmdlLnRvO1xuICAgICAgZm9yICh2YXIgZGVwdGggPSAwLCBub2RlID0gdGhpcy5kb2M7OyBkZXB0aCsrKSB7XG4gICAgICAgIHZhciBmcm9tRW5kID0gZGVwdGggPT0gZnJvbS5kZXB0aCxcbiAgICAgICAgICAgIHRvRW5kID0gZGVwdGggPT0gdG8uZGVwdGg7XG4gICAgICAgIGlmICghZnJvbUVuZCAmJiAhdG9FbmQgJiYgZnJvbS5wYXRoW2RlcHRoXSA9PSB0by5wYXRoW2RlcHRoXSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQoZnJvbS5wYXRoW2RlcHRoXSk7XG4gICAgICAgICAgaWYgKCFkaXJ0eS5oYXMoY2hpbGQpKSBkaXJ0eS5zZXQoY2hpbGQsIDEpO1xuICAgICAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSBmcm9tRW5kID8gZnJvbS5vZmZzZXQgOiBmcm9tLnBhdGhbZGVwdGhdO1xuICAgICAgICAgIHZhciBlbmQgPSB0b0VuZCA/IHRvLm9mZnNldCA6IHRvLnBhdGhbZGVwdGhdICsgMTtcbiAgICAgICAgICBpZiAobm9kZS5pc1RleHRibG9jaykge1xuICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMCwgaSA9IDA7IG9mZnNldCA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQoaSk7XG4gICAgICAgICAgICAgIG9mZnNldCArPSBjaGlsZC5vZmZzZXQ7XG4gICAgICAgICAgICAgIGlmIChvZmZzZXQgPiBzdGFydCkgZGlydHkuc2V0KGNoaWxkLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgZGlydHkuc2V0KG5vZGUuY2hpbGQoaSksIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3Rpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHRoaXMuZW5zdXJlT3BlcmF0aW9uKCk7XG4gICAgICByZXR1cm4gdGhpcy5zZWwucmFuZ2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdGVkRG9jXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICByZXR1cm4gKDAsIF9tb2RlbC5zbGljZUJldHdlZW4pKHRoaXMuZG9jLCBzZWwuZnJvbSwgc2VsLnRvKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0ZWRUZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gKDAsIF9zZXJpYWxpemVUZXh0LnRvVGV4dCkodGhpcy5zZWxlY3RlZERvYyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEVkaXRvclRyYW5zZm9ybSh0aGlzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUHJvc2VNaXJyb3I7XG59KSgpO1xuXG5leHBvcnRzLlByb3NlTWlycm9yID0gUHJvc2VNaXJyb3I7XG5cbnZhciBudWxsT3B0aW9ucyA9IHt9O1xuXG4oMCwgX2V2ZW50LmV2ZW50TWl4aW4pKFByb3NlTWlycm9yKTtcblxudmFyIE9wZXJhdGlvbiA9IGZ1bmN0aW9uIE9wZXJhdGlvbihwbSkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3BlcmF0aW9uKTtcblxuICB0aGlzLmRvYyA9IHBtLmRvYztcbiAgdGhpcy5zZWwgPSBwbS5zZWwucmFuZ2U7XG4gIHRoaXMuc2Nyb2xsSW50b1ZpZXcgPSBmYWxzZTtcbiAgdGhpcy5mb2N1cyA9IGZhbHNlO1xuICB0aGlzLmNvbXBvc2luZ0F0U3RhcnQgPSAhIXBtLmlucHV0LmNvbXBvc2luZztcbn07XG5cbnZhciBFZGl0b3JUcmFuc2Zvcm0gPSAoZnVuY3Rpb24gKF9UcmFuc2Zvcm0pIHtcbiAgX2luaGVyaXRzKEVkaXRvclRyYW5zZm9ybSwgX1RyYW5zZm9ybSk7XG5cbiAgZnVuY3Rpb24gRWRpdG9yVHJhbnNmb3JtKHBtKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVkaXRvclRyYW5zZm9ybSk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihFZGl0b3JUcmFuc2Zvcm0ucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIHBtLmRvYyk7XG4gICAgdGhpcy5wbSA9IHBtO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEVkaXRvclRyYW5zZm9ybSwgW3tcbiAgICBrZXk6IFwiYXBwbHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHkob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMucG0uYXBwbHkodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlcGxhY2VTZWxlY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZVNlbGVjdGlvbihub2RlLCBpbmhlcml0U3R5bGVzKSB7XG4gICAgICB2YXIgX3NlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgdmFyIGVtcHR5ID0gX3NlbGVjdGlvbi5lbXB0eTtcbiAgICAgIHZhciBmcm9tID0gX3NlbGVjdGlvbi5mcm9tO1xuICAgICAgdmFyIHRvID0gX3NlbGVjdGlvbi50bztcbiAgICAgIHZhciBzZWxOb2RlID0gX3NlbGVjdGlvbi5ub2RlO3ZhciBwYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAobm9kZSAmJiBub2RlLmlzSW5saW5lICYmIGluaGVyaXRTdHlsZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIHZhciBzdHlsZXMgPSBlbXB0eSA/IHRoaXMucG0uaW5wdXQuc3RvcmVkU3R5bGVzIDogKDAsIF9tb2RlbC5zcGFuU3R5bGVzQXQpKHRoaXMuZG9jLCBmcm9tKTtcbiAgICAgICAgbm9kZSA9IG5vZGUudHlwZS5jcmVhdGUobm9kZS5hdHRycywgbm9kZS50ZXh0LCBzdHlsZXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsTm9kZSAmJiBzZWxOb2RlLmlzVGV4dGJsb2NrICYmIG5vZGUgJiYgbm9kZS5pc0lubGluZSkge1xuICAgICAgICAvLyBQdXR0aW5nIGlubGluZSBzdHVmZiBvbnRvIGEgc2VsZWN0ZWQgdGV4dGJsb2NrIHB1dHMgaXQgaW5zaWRlXG4gICAgICAgIGZyb20gPSBuZXcgX21vZGVsLlBvcyhmcm9tLnRvUGF0aCgpLCAwKTtcbiAgICAgICAgdG8gPSBuZXcgX21vZGVsLlBvcyhmcm9tLnBhdGgsIHNlbE5vZGUubWF4T2Zmc2V0KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsTm9kZSkge1xuICAgICAgICAvLyBUaGlzIG5vZGUgY2FuIG5vdCBzaW1wbHkgYmUgcmVtb3ZlZC9yZXBsYWNlZC4gUmVtb3ZlIGl0cyBwYXJlbnQgYXMgd2VsbFxuICAgICAgICB3aGlsZSAoZnJvbS5kZXB0aCAmJiBmcm9tLm9mZnNldCA9PSAwICYmIChwYXJlbnQgPSB0aGlzLmRvYy5wYXRoKGZyb20ucGF0aCkpICYmIGZyb20ub2Zmc2V0ID09IHBhcmVudC5tYXhPZmZzZXQgLSAxICYmICFwYXJlbnQudHlwZS5jYW5CZUVtcHR5ICYmICEobm9kZSAmJiBwYXJlbnQudHlwZS5jYW5Db250YWluKG5vZGUpKSkge1xuICAgICAgICAgIGZyb20gPSBmcm9tLnNob3J0ZW4oKTtcbiAgICAgICAgICB0byA9IHRvLnNob3J0ZW4obnVsbCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSAmJiBub2RlLmlzQmxvY2sgJiYgdGhpcy5kb2MucGF0aChmcm9tLnBhdGguc2xpY2UoMCwgZnJvbS5kZXB0aCAtIDEpKS50eXBlLmNhbkNvbnRhaW4obm9kZSkpIHtcbiAgICAgICAgLy8gSW5zZXJ0aW5nIGEgYmxvY2sgbm9kZSBpbnRvIGEgdGV4dGJsb2NrLiBUcnkgdG8gaW5zZXJ0IGl0IGFib3ZlIGJ5IHNwbGl0dGluZyB0aGUgdGV4dGJsb2NrXG4gICAgICAgIHRoaXNbXCJkZWxldGVcIl0oZnJvbSwgdG8pO1xuICAgICAgICB2YXIgX3BhcmVudCA9IHRoaXMuZG9jLnBhdGgoZnJvbS5wYXRoKTtcbiAgICAgICAgaWYgKGZyb20ub2Zmc2V0ICYmIGZyb20ub2Zmc2V0ICE9IF9wYXJlbnQubWF4T2Zmc2V0KSB0aGlzLnNwbGl0KGZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoZnJvbS5zaG9ydGVuKG51bGwsIGZyb20ub2Zmc2V0ID8gMSA6IDApLCBub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUpIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGZyb20sIHRvLCBub2RlKTtlbHNlIHJldHVybiB0aGlzW1wiZGVsZXRlXCJdKGZyb20sIHRvKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlU2VsZWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHlwZVRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHlwZVRleHQodGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVNlbGVjdGlvbih0aGlzLnBtLnNjaGVtYS50ZXh0KHRleHQpLCB0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0aW9uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwcy5sZW5ndGggPyB0aGlzLnBtLnNlbGVjdGlvbi5tYXAodGhpcykgOiB0aGlzLnBtLnNlbGVjdGlvbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRWRpdG9yVHJhbnNmb3JtO1xufSkoX3RyYW5zZm9ybS5UcmFuc2Zvcm0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZpbmVPcHRpb24gPSBkZWZpbmVPcHRpb247XG5leHBvcnRzLnBhcnNlT3B0aW9ucyA9IHBhcnNlT3B0aW9ucztcbmV4cG9ydHMuaW5pdE9wdGlvbnMgPSBpbml0T3B0aW9ucztcbmV4cG9ydHMuc2V0T3B0aW9uID0gc2V0T3B0aW9uO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgX21vZGVsID0gcmVxdWlyZShcIi4uL21vZGVsXCIpO1xuXG52YXIgX2NvbW1hbmRzID0gcmVxdWlyZShcIi4vY29tbWFuZHNcIik7XG5cbnZhciBPcHRpb24gPSBmdW5jdGlvbiBPcHRpb24oZGVmYXVsdFZhbHVlLCB1cGRhdGUsIHVwZGF0ZU9uSW5pdCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9uKTtcblxuICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgdGhpcy51cGRhdGUgPSB1cGRhdGU7XG4gIHRoaXMudXBkYXRlT25Jbml0ID0gdXBkYXRlT25Jbml0ICE9PSBmYWxzZTtcbn07XG5cbnZhciBvcHRpb25zID0ge1xuICBfX3Byb3RvX186IG51bGwsXG5cbiAgc2NoZW1hOiBuZXcgT3B0aW9uKF9tb2RlbC5kZWZhdWx0U2NoZW1hLCBmYWxzZSwgZmFsc2UpLFxuXG4gIGRvYzogbmV3IE9wdGlvbihudWxsLCBmdW5jdGlvbiAocG0sIHZhbHVlKSB7XG4gICAgcG0uc2V0RG9jKHZhbHVlKTtcbiAgfSwgZmFsc2UpLFxuXG4gIGRvY0Zvcm1hdDogbmV3IE9wdGlvbihudWxsKSxcblxuICBwbGFjZTogbmV3IE9wdGlvbihudWxsKSxcblxuICBrZXltYXA6IG5ldyBPcHRpb24obnVsbCwgZnVuY3Rpb24gKHBtLCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHBtLm9wdGlvbnMua2V5bWFwID0gKDAsIF9jb21tYW5kcy5kZWZhdWx0S2V5bWFwKShwbSk7XG4gIH0pLFxuXG4gIGhpc3RvcnlEZXB0aDogbmV3IE9wdGlvbig1MCksXG5cbiAgaGlzdG9yeUV2ZW50RGVsYXk6IG5ldyBPcHRpb24oNTAwKSxcblxuICBjb21tYW5kUGFyYW1IYW5kbGVyOiBuZXcgT3B0aW9uKFwiZGVmYXVsdFwiKSxcblxuICBsYWJlbDogbmV3IE9wdGlvbihudWxsKVxufTtcblxuZnVuY3Rpb24gZGVmaW5lT3B0aW9uKG5hbWUsIGRlZmF1bHRWYWx1ZSwgdXBkYXRlLCB1cGRhdGVPbkluaXQpIHtcbiAgb3B0aW9uc1tuYW1lXSA9IG5ldyBPcHRpb24oZGVmYXVsdFZhbHVlLCB1cGRhdGUsIHVwZGF0ZU9uSW5pdCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhvYmopIHtcbiAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBnaXZlbiA9IG9iaiA/IFtvYmpdLmNvbmNhdChvYmoudXNlIHx8IFtdKSA6IFtdO1xuICBvdXRlcjogZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdpdmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAob3B0IGluIGdpdmVuW2ldKSB7XG4gICAgICAgIHJlc3VsdFtvcHRdID0gZ2l2ZW5baV1bb3B0XTtcbiAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdFtvcHRdID0gb3B0aW9uc1tvcHRdLmRlZmF1bHRWYWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpbml0T3B0aW9ucyhwbSkge1xuICBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykge1xuICAgIHZhciBkZXNjID0gb3B0aW9uc1tvcHRdO1xuICAgIGlmIChkZXNjLnVwZGF0ZSAmJiBkZXNjLnVwZGF0ZU9uSW5pdCkgZGVzYy51cGRhdGUocG0sIHBtLm9wdGlvbnNbb3B0XSwgbnVsbCwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0T3B0aW9uKHBtLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgZGVzYyA9IG9wdGlvbnNbbmFtZV07XG4gIGlmIChkZXNjLnVwZGF0ZSA9PT0gZmFsc2UpIHRocm93IG5ldyBFcnJvcihcIk9wdGlvbiAnXCIgKyBuYW1lICsgXCInIGNhbiBub3QgYmUgY2hhbmdlZFwiKTtcbiAgdmFyIG9sZCA9IHBtLm9wdGlvbnNbbmFtZV07XG4gIHBtLm9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcbiAgaWYgKGRlc2MudXBkYXRlKSBkZXNjLnVwZGF0ZShwbSwgdmFsdWUsIG9sZCwgZmFsc2UpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfZXZlbnQgPSByZXF1aXJlKFwiLi9ldmVudFwiKTtcblxudmFyIE1hcmtlZFJhbmdlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFya2VkUmFuZ2UoZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFya2VkUmFuZ2UpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIHRoaXMudG8gPSB0bztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXJrZWRSYW5nZSwgW3tcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLnNpZ25hbChcInJlbW92ZWRcIiwgdGhpcy5mcm9tKTtcbiAgICAgIHRoaXMuZnJvbSA9IHRoaXMudG8gPSBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXJrZWRSYW5nZTtcbn0pKCk7XG5cbmV4cG9ydHMuTWFya2VkUmFuZ2UgPSBNYXJrZWRSYW5nZTtcblxuKDAsIF9ldmVudC5ldmVudE1peGluKShNYXJrZWRSYW5nZSk7XG5cbnZhciBSYW5nZVNvcnRlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJhbmdlU29ydGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5nZVNvcnRlcik7XG5cbiAgICB0aGlzLnNvcnRlZCA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJhbmdlU29ydGVyLCBbe1xuICAgIGtleTogXCJmaW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoYXQpIHtcbiAgICAgIHZhciBtaW4gPSAwLFxuICAgICAgICAgIG1heCA9IHRoaXMuc29ydGVkLmxlbmd0aDtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG1heCA8IG1pbiArIDEwKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IG1pbjsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zb3J0ZWRbaV0uYXQuY21wKGF0KSA+PSAwKSByZXR1cm4gaTtcbiAgICAgICAgICB9cmV0dXJuIG1heDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWlkID0gbWluICsgbWF4ID4+IDE7XG4gICAgICAgIGlmICh0aGlzLnNvcnRlZFttaWRdLmF0LmNtcChhdCkgPiAwKSBtYXggPSBtaWQ7ZWxzZSBtaW4gPSBtaWQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluc2VydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnNlcnQob2JqKSB7XG4gICAgICB0aGlzLnNvcnRlZC5zcGxpY2UodGhpcy5maW5kKG9iai5hdCksIDAsIG9iaik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoYXQsIHJhbmdlKSB7XG4gICAgICB2YXIgcG9zID0gdGhpcy5maW5kKGF0KTtcbiAgICAgIGZvciAodmFyIGRpc3QgPSAwOzsgZGlzdCsrKSB7XG4gICAgICAgIHZhciBsZWZ0UG9zID0gcG9zIC0gZGlzdCAtIDEsXG4gICAgICAgICAgICByaWdodFBvcyA9IHBvcyArIGRpc3Q7XG4gICAgICAgIGlmIChsZWZ0UG9zID49IDAgJiYgdGhpcy5zb3J0ZWRbbGVmdFBvc10ucmFuZ2UgPT0gcmFuZ2UpIHtcbiAgICAgICAgICB0aGlzLnNvcnRlZC5zcGxpY2UobGVmdFBvcywgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0UG9zIDwgdGhpcy5zb3J0ZWQubGVuZ3RoICYmIHRoaXMuc29ydGVkW3JpZ2h0UG9zXS5yYW5nZSA9PSByYW5nZSkge1xuICAgICAgICAgIHRoaXMuc29ydGVkLnNwbGljZShyaWdodFBvcywgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc29ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvcnQoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc29ydGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXIgPSB0aGlzLnNvcnRlZFtpXTtcbiAgICAgICAgdmFyIGF0ID0gY3VyLmF0ID0gY3VyLnR5cGUgPT0gXCJvcGVuXCIgPyBjdXIucmFuZ2UuZnJvbSA6IGN1ci5yYW5nZS50bztcbiAgICAgICAgdmFyIHBvcyA9IGk7XG4gICAgICAgIHdoaWxlIChwb3MgPiAwICYmIHRoaXMuc29ydGVkW3BvcyAtIDFdLmF0LmNtcChhdCkgPiAwKSB7XG4gICAgICAgICAgdGhpcy5zb3J0ZWRbcG9zXSA9IHRoaXMuc29ydGVkW3BvcyAtIDFdO1xuICAgICAgICAgIHRoaXMuc29ydGVkWy0tcG9zXSA9IGN1cjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYW5nZVNvcnRlcjtcbn0pKCk7XG5cbnZhciBSYW5nZVN0b3JlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmFuZ2VTdG9yZShwbSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5nZVN0b3JlKTtcblxuICAgIHRoaXMucG0gPSBwbTtcbiAgICB0aGlzLnJhbmdlcyA9IFtdO1xuICAgIHRoaXMuc29ydGVkID0gbmV3IFJhbmdlU29ydGVyKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmFuZ2VTdG9yZSwgW3tcbiAgICBrZXk6IFwiYWRkUmFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmFuZ2UocmFuZ2UpIHtcbiAgICAgIHRoaXMucmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgdGhpcy5zb3J0ZWQuaW5zZXJ0KHsgdHlwZTogXCJvcGVuXCIsIGF0OiByYW5nZS5mcm9tLCByYW5nZTogcmFuZ2UgfSk7XG4gICAgICB0aGlzLnNvcnRlZC5pbnNlcnQoeyB0eXBlOiBcImNsb3NlXCIsIGF0OiByYW5nZS50bywgcmFuZ2U6IHJhbmdlIH0pO1xuICAgICAgdGhpcy5wbS5tYXJrUmFuZ2VEaXJ0eShyYW5nZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVJhbmdlKHJhbmdlKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLnJhbmdlcy5pbmRleE9mKHJhbmdlKTtcbiAgICAgIGlmIChmb3VuZCA+IC0xKSB7XG4gICAgICAgIHRoaXMucmFuZ2VzLnNwbGljZShmb3VuZCwgMSk7XG4gICAgICAgIHRoaXMuc29ydGVkLnJlbW92ZShyYW5nZS5mcm9tLCByYW5nZSk7XG4gICAgICAgIHRoaXMuc29ydGVkLnJlbW92ZShyYW5nZS50bywgcmFuZ2UpO1xuICAgICAgICB0aGlzLnBtLm1hcmtSYW5nZURpcnR5KHJhbmdlKTtcbiAgICAgICAgcmFuZ2UuY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNmb3JtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zZm9ybShtYXBwaW5nKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2VzW2ldO1xuICAgICAgICByYW5nZS5mcm9tID0gbWFwcGluZy5tYXAocmFuZ2UuZnJvbSwgcmFuZ2Uub3B0aW9ucy5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAxKS5wb3M7XG4gICAgICAgIHJhbmdlLnRvID0gbWFwcGluZy5tYXAocmFuZ2UudG8sIHJhbmdlLm9wdGlvbnMuaW5jbHVzaXZlUmlnaHQgPyAxIDogLTEpLnBvcztcbiAgICAgICAgdmFyIGRpZmYgPSByYW5nZS5mcm9tLmNtcChyYW5nZS50byk7XG4gICAgICAgIGlmIChyYW5nZS5vcHRpb25zLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSAmJiBkaWZmID49IDApIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgICByYW5nZS50byA9IHJhbmdlLmZyb207XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc29ydGVkLnJlc29ydCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVSYW5nZVRyYWNrZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWN0aXZlUmFuZ2VUcmFja2VyKCkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZVRyYWNrZXIodGhpcy5zb3J0ZWQuc29ydGVkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmFuZ2VTdG9yZTtcbn0pKCk7XG5cbmV4cG9ydHMuUmFuZ2VTdG9yZSA9IFJhbmdlU3RvcmU7XG5cbnZhciBSYW5nZVRyYWNrZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSYW5nZVRyYWNrZXIoc29ydGVkKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmdlVHJhY2tlcik7XG5cbiAgICB0aGlzLnNvcnRlZCA9IHNvcnRlZDtcbiAgICB0aGlzLnBvcyA9IDA7XG4gICAgdGhpcy5jdXJyZW50ID0gW107XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmFuZ2VUcmFja2VyLCBbe1xuICAgIGtleTogXCJhZHZhbmNlVG9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWR2YW5jZVRvKHBvcykge1xuICAgICAgdmFyIG5leHQgPSB1bmRlZmluZWQ7XG4gICAgICB3aGlsZSAodGhpcy5wb3MgPCB0aGlzLnNvcnRlZC5sZW5ndGggJiYgKG5leHQgPSB0aGlzLnNvcnRlZFt0aGlzLnBvc10pLmF0LmNtcChwb3MpIDw9IDApIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG5leHQucmFuZ2Uub3B0aW9ucy5jbGFzc05hbWU7XG4gICAgICAgIGlmICghY2xhc3NOYW1lKSBjb250aW51ZTtcbiAgICAgICAgaWYgKG5leHQudHlwZSA9PSBcIm9wZW5cIikgdGhpcy5jdXJyZW50LnB1c2goY2xhc3NOYW1lKTtlbHNlIHRoaXMuY3VycmVudC5zcGxpY2UodGhpcy5jdXJyZW50LmluZGV4T2YoY2xhc3NOYW1lKSwgMSk7XG4gICAgICAgIHRoaXMucG9zKys7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm5leHRDaGFuZ2VCZWZvcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dENoYW5nZUJlZm9yZShwb3MpIHtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID09IHRoaXMuc29ydGVkLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBuZXh0ID0gdGhpcy5zb3J0ZWRbdGhpcy5wb3NdO1xuICAgICAgICBpZiAoIW5leHQucmFuZ2Uub3B0aW9ucy5jbGFzc05hbWUpIHRoaXMucG9zKys7ZWxzZSBpZiAobmV4dC5hdC5jbXAocG9zKSA+PSAwKSByZXR1cm4gbnVsbDtlbHNlIHJldHVybiBuZXh0LmF0Lm9mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmFuZ2VUcmFja2VyO1xufSkoKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHMucG9zRnJvbURPTSA9IHBvc0Zyb21ET007XG5leHBvcnRzLnJhbmdlRnJvbURPTUxvb3NlID0gcmFuZ2VGcm9tRE9NTG9vc2U7XG5leHBvcnRzLmZpbmRCeVBhdGggPSBmaW5kQnlQYXRoO1xuZXhwb3J0cy5yZXNvbHZlUGF0aCA9IHJlc29sdmVQYXRoO1xuZXhwb3J0cy5oYXNGb2N1cyA9IGhhc0ZvY3VzO1xuZXhwb3J0cy5wb3NBdENvb3JkcyA9IHBvc0F0Q29vcmRzO1xuZXhwb3J0cy5jb29yZHNBdFBvcyA9IGNvb3Jkc0F0UG9zO1xuZXhwb3J0cy5zY3JvbGxJbnRvVmlldyA9IHNjcm9sbEludG9WaWV3O1xuZXhwb3J0cy5maW5kU2VsZWN0aW9uRnJvbSA9IGZpbmRTZWxlY3Rpb25Gcm9tO1xuZXhwb3J0cy5maW5kU2VsZWN0aW9uTmVhciA9IGZpbmRTZWxlY3Rpb25OZWFyO1xuZXhwb3J0cy5maW5kU2VsZWN0aW9uQXRTdGFydCA9IGZpbmRTZWxlY3Rpb25BdFN0YXJ0O1xuZXhwb3J0cy5maW5kU2VsZWN0aW9uQXRFbmQgPSBmaW5kU2VsZWN0aW9uQXRFbmQ7XG5leHBvcnRzLnNlbGVjdGFibGVOb2RlQWJvdmUgPSBzZWxlY3RhYmxlTm9kZUFib3ZlO1xuZXhwb3J0cy52ZXJ0aWNhbE1vdGlvbkxlYXZlc1RleHRibG9jayA9IHZlcnRpY2FsTW90aW9uTGVhdmVzVGV4dGJsb2NrO1xuZXhwb3J0cy5zZXRET01TZWxlY3Rpb25Ub1BvcyA9IHNldERPTVNlbGVjdGlvblRvUG9zO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xuXG52YXIgU2VsZWN0aW9uU3RhdGUgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWxlY3Rpb25TdGF0ZShwbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aW9uU3RhdGUpO1xuXG4gICAgdGhpcy5wbSA9IHBtO1xuXG4gICAgdGhpcy5yYW5nZSA9IGZpbmRTZWxlY3Rpb25BdFN0YXJ0KHBtLmRvYyk7XG4gICAgdGhpcy5sYXN0Tm9uTm9kZVBvcyA9IG51bGw7XG5cbiAgICB0aGlzLnBvbGxTdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5wb2xsVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5sYXN0QW5jaG9yTm9kZSA9IHRoaXMubGFzdEhlYWROb2RlID0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gdGhpcy5sYXN0SGVhZE9mZnNldCA9IG51bGw7XG4gICAgdGhpcy5sYXN0Tm9kZSA9IG51bGw7XG5cbiAgICBwbS5jb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucmVjZWl2ZWRGb2N1cygpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlbGVjdGlvblN0YXRlLCBbe1xuICAgIGtleTogXCJzZXRBbmRTaWduYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QW5kU2lnbmFsKHJhbmdlLCBjbGVhckxhc3QpIHtcbiAgICAgIHRoaXMuc2V0KHJhbmdlLCBjbGVhckxhc3QpO1xuICAgICAgdGhpcy5wbS5zaWduYWwoXCJzZWxlY3Rpb25DaGFuZ2VcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQocmFuZ2UsIGNsZWFyTGFzdCkge1xuICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgaWYgKCFyYW5nZS5ub2RlKSB0aGlzLmxhc3ROb25Ob2RlUG9zID0gbnVsbDtcbiAgICAgIGlmIChjbGVhckxhc3QgIT09IGZhbHNlKSB0aGlzLmxhc3RBbmNob3JOb2RlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Tm9kZUFuZFNpZ25hbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROb2RlQW5kU2lnbmFsKHBvcykge1xuICAgICAgdGhpcy5zZXROb2RlKHBvcyk7XG4gICAgICB0aGlzLnBtLnNpZ25hbChcInNlbGVjdGlvbkNoYW5nZVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicG9sbEZvclVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb2xsRm9yVXBkYXRlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnBtLmlucHV0LmNvbXBvc2luZykgcmV0dXJuO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9sbFRpbWVvdXQpO1xuICAgICAgdGhpcy5wb2xsU3RhdGUgPSBcInVwZGF0ZVwiO1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICAgIGlmIChfdGhpczIucG0uaW5wdXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgLy8gQWJvcnRcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpczIucG0ub3BlcmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpczIucG9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCAyMCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMyLnJlYWRVcGRhdGUoKSAmJiArK24gPT0gMSkge1xuICAgICAgICAgICAgX3RoaXMyLnBvbGxUaW1lb3V0ID0gc2V0VGltZW91dChjaGVjaywgNTApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczIucG9sbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzMi5wb2xsVG9TeW5jKCk7XG4gICAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMucG9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCAyMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRvbUNoYW5nZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9tQ2hhbmdlZCgpIHtcbiAgICAgIHZhciBzZWwgPSBnZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSAhPSB0aGlzLmxhc3RBbmNob3JOb2RlIHx8IHNlbC5hbmNob3JPZmZzZXQgIT0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0IHx8IHNlbC5mb2N1c05vZGUgIT0gdGhpcy5sYXN0SGVhZE5vZGUgfHwgc2VsLmZvY3VzT2Zmc2V0ICE9IHRoaXMubGFzdEhlYWRPZmZzZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0b3JlRE9NU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcmVET01TdGF0ZSgpIHtcbiAgICAgIHZhciBzZWwgPSBnZXRTZWxlY3Rpb24oKTtcbiAgICAgIHRoaXMubGFzdEFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTt0aGlzLmxhc3RBbmNob3JPZmZzZXQgPSBzZWwuYW5jaG9yT2Zmc2V0O1xuICAgICAgdGhpcy5sYXN0SGVhZE5vZGUgPSBzZWwuZm9jdXNOb2RlO3RoaXMubGFzdEhlYWRPZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlYWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZFVwZGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLnBtLmlucHV0LmNvbXBvc2luZyB8fCAhaGFzRm9jdXModGhpcy5wbSkgfHwgIXRoaXMuZG9tQ2hhbmdlZCgpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHZhciBzZWwgPSBnZXRTZWxlY3Rpb24oKSxcbiAgICAgICAgICBkb2MgPSB0aGlzLnBtLmRvYztcbiAgICAgIHZhciBhbmNob3IgPSBwb3NGcm9tRE9NSW5uZXIodGhpcy5wbSwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgdmFyIGhlYWQgPSBwb3NGcm9tRE9NSW5uZXIodGhpcy5wbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgIHZhciBuZXdTZWwgPSBmaW5kU2VsZWN0aW9uTmVhcihkb2MsIGhlYWQsIHRoaXMucmFuZ2UuaGVhZCAmJiB0aGlzLnJhbmdlLmhlYWQuY21wKGhlYWQpIDwgMCA/IC0xIDogMSk7XG4gICAgICBpZiAobmV3U2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbiAmJiBkb2MucGF0aChhbmNob3IucGF0aCkuaXNUZXh0YmxvY2spIG5ld1NlbCA9IG5ldyBUZXh0U2VsZWN0aW9uKGFuY2hvciwgbmV3U2VsLmhlYWQpO1xuICAgICAgdGhpcy5zZXRBbmRTaWduYWwobmV3U2VsKTtcbiAgICAgIGlmIChuZXdTZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uIHx8IG5ld1NlbC5oZWFkLmNtcChoZWFkKSB8fCBuZXdTZWwuYW5jaG9yLmNtcChhbmNob3IpKSB7XG4gICAgICAgIHRoaXMudG9ET00oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xlYXJOb2RlKCk7XG4gICAgICAgIHRoaXMuc3RvcmVET01TdGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBvbGxUb1N5bmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9sbFRvU3luYygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wb2xsU3RhdGUpIHJldHVybjtcbiAgICAgIHRoaXMucG9sbFN0YXRlID0gXCJzeW5jXCI7XG4gICAgICB2YXIgc3luYyA9IGZ1bmN0aW9uIHN5bmMoKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9IF90aGlzMy5wbS5jb250ZW50KSB7XG4gICAgICAgICAgX3RoaXMzLnBvbGxTdGF0ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFfdGhpczMucG0ub3BlcmF0aW9uICYmICFfdGhpczMucG0uaW5wdXQuY29tcG9zaW5nKSBfdGhpczMuc3luY0RPTSgpO1xuICAgICAgICAgIF90aGlzMy5wb2xsVGltZW91dCA9IHNldFRpbWVvdXQoc3luYywgMjAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMucG9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KHN5bmMsIDIwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN5bmNET01cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3luY0RPTSgpIHtcbiAgICAgIGlmICghdGhpcy5wbS5pbnB1dC5jb21wb3NpbmcgJiYgaGFzRm9jdXModGhpcy5wbSkgJiYgdGhpcy5kb21DaGFuZ2VkKCkpIHRoaXMudG9ET00oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9ET01cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9ET00odGFrZUZvY3VzKSB7XG4gICAgICBpZiAodGhpcy5yYW5nZSBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pIHRoaXMubm9kZVRvRE9NKHRha2VGb2N1cyk7ZWxzZSB0aGlzLnJhbmdlVG9ET00odGFrZUZvY3VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibm9kZVRvRE9NXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vZGVUb0RPTSh0YWtlRm9jdXMpIHtcbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIGlmICh0YWtlRm9jdXMpIHRoaXMucG0uY29udGVudC5mb2N1cygpO1xuICAgICAgdmFyIHBvcyA9IHRoaXMucmFuZ2UuZnJvbSxcbiAgICAgICAgICBub2RlID0gdGhpcy5yYW5nZS5ub2RlLFxuICAgICAgICAgIGRvbSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChub2RlLmlzSW5saW5lKSBkb20gPSBmaW5kQnlPZmZzZXQocmVzb2x2ZVBhdGgodGhpcy5wbS5jb250ZW50LCBwb3MucGF0aCksIHBvcy5vZmZzZXQsIHRydWUpLm5vZGU7ZWxzZSBkb20gPSByZXNvbHZlUGF0aCh0aGlzLnBtLmNvbnRlbnQsIHBvcy50b1BhdGgoKSk7XG4gICAgICBpZiAoZG9tID09IHRoaXMubGFzdE5vZGUpIHJldHVybjtcbiAgICAgIHRoaXMuY2xlYXJOb2RlKCk7XG4gICAgICBhZGROb2RlU2VsZWN0aW9uKG5vZGUsIGRvbSk7XG4gICAgICB0aGlzLmxhc3ROb2RlID0gZG9tO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhck5vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJOb2RlKCkge1xuICAgICAgaWYgKHRoaXMubGFzdE5vZGUpIHtcbiAgICAgICAgY2xlYXJOb2RlU2VsZWN0aW9uKHRoaXMubGFzdE5vZGUpO1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJhbmdlVG9ET01cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmFuZ2VUb0RPTSh0YWtlRm9jdXMpIHtcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICBpZiAoIXRoaXMuY2xlYXJOb2RlKCkgJiYgIWhhc0ZvY3VzKHRoaXMucG0pKSB7XG4gICAgICAgIGlmICghdGFrZUZvY3VzKSByZXR1cm47XG4gICAgICAgIC8vIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05MjE0NDRcbiAgICAgICAgZWxzZSBpZiAoX2RvbS5icm93c2VyLmdlY2tvKSB0aGlzLnBtLmNvbnRlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kb21DaGFuZ2VkKCkpIHJldHVybjtcblxuICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wbS5jb250ZW50O1xuICAgICAgdmFyIGFuY2hvciA9IERPTUZyb21Qb3MoY29udGVudCwgdGhpcy5yYW5nZS5hbmNob3IpO1xuICAgICAgdmFyIGhlYWQgPSBET01Gcm9tUG9zKGNvbnRlbnQsIHRoaXMucmFuZ2UuaGVhZCk7XG5cbiAgICAgIGlmIChzZWwuZXh0ZW5kKSB7XG4gICAgICAgIHJhbmdlLnNldEVuZChhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlLmFuY2hvci5jbXAodGhpcy5yYW5nZS5oZWFkKSA+IDApIHtcbiAgICAgICAgICB2YXIgdG1wID0gYW5jaG9yO2FuY2hvciA9IGhlYWQ7aGVhZCA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICByYW5nZS5zZXRFbmQoaGVhZC5ub2RlLCBoZWFkLm9mZnNldCk7XG4gICAgICAgIHJhbmdlLnNldFN0YXJ0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgIH1cbiAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICBpZiAoc2VsLmV4dGVuZCkgc2VsLmV4dGVuZChoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgIHRoaXMuc3RvcmVET01TdGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWNlaXZlZEZvY3VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY2VpdmVkRm9jdXMoKSB7XG4gICAgICBpZiAoIXRoaXMucG9sbFN0YXRlKSB0aGlzLnBvbGxUb1N5bmMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmVmb3JlU3RhcnRPcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVTdGFydE9wKCkge1xuICAgICAgaWYgKHRoaXMucG9sbFN0YXRlID09IFwidXBkYXRlXCIgJiYgdGhpcy5yZWFkVXBkYXRlKCkpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9sbFRpbWVvdXQpO1xuICAgICAgICB0aGlzLnBvbGxTdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucG9sbFRvU3luYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zeW5jRE9NKCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlbGVjdGlvblN0YXRlO1xufSkoKTtcblxuZXhwb3J0cy5TZWxlY3Rpb25TdGF0ZSA9IFNlbGVjdGlvblN0YXRlO1xuXG5mdW5jdGlvbiBjbGVhck5vZGVTZWxlY3Rpb24oZG9tKSB7XG4gIGRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlXCIpO1xufVxuXG5mdW5jdGlvbiBhZGROb2RlU2VsZWN0aW9uKF9ub2RlLCBkb20pIHtcbiAgZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGVcIik7XG59XG5cbmZ1bmN0aW9uIHdpbmRvd1JlY3QoKSB7XG4gIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICB0b3A6IDAsIGJvdHRvbTogd2luZG93LmlubmVySGVpZ2h0IH07XG59XG5cbnZhciBTZWxlY3Rpb24gPSBmdW5jdGlvbiBTZWxlY3Rpb24oKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rpb24pO1xufTtcblxuZXhwb3J0cy5TZWxlY3Rpb24gPSBTZWxlY3Rpb247XG5cbnZhciBOb2RlU2VsZWN0aW9uID0gKGZ1bmN0aW9uIChfU2VsZWN0aW9uKSB7XG4gIF9pbmhlcml0cyhOb2RlU2VsZWN0aW9uLCBfU2VsZWN0aW9uKTtcblxuICBmdW5jdGlvbiBOb2RlU2VsZWN0aW9uKGZyb20sIHRvLCBub2RlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGVTZWxlY3Rpb24pO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm9kZVNlbGVjdGlvbi5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLnRvID0gdG87XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIFRleHQgc2VsZWN0aW9uIHJhbmdlIGNsYXNzLlxyXG4gICAqXHJcbiAgICogQSByYW5nZSBjb25zaXN0cyBvZiBhIGhlYWQgKHRoZSBhY3RpdmUgbG9jYXRpb24gb2YgdGhlIGN1cnNvcilcclxuICAgKiBhbmQgYW4gYW5jaG9yICh0aGUgc3RhcnQgbG9jYXRpb24gb2YgdGhlIHNlbGVjdGlvbikuXHJcbiAgICovXG5cbiAgX2NyZWF0ZUNsYXNzKE5vZGVTZWxlY3Rpb24sIFt7XG4gICAga2V5OiBcImVxXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxKG90aGVyKSB7XG4gICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmICF0aGlzLmZyb20uY21wKG90aGVyLmZyb20pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKGRvYywgbWFwcGluZykge1xuICAgICAgdmFyIGZyb20gPSBtYXBwaW5nLm1hcCh0aGlzLmZyb20sIDEpLnBvcztcbiAgICAgIHZhciB0byA9IG1hcHBpbmcubWFwKHRoaXMudG8sIC0xKS5wb3M7XG4gICAgICBpZiAoX21vZGVsLlBvcy5zYW1lUGF0aChmcm9tLnBhdGgsIHRvLnBhdGgpICYmIGZyb20ub2Zmc2V0ID09IHRvLm9mZnNldCAtIDEpIHtcbiAgICAgICAgdmFyIF9wYXJlbnQgPSBkb2MucGF0aChmcm9tLnBhdGgpO1xuICAgICAgICB2YXIgbm9kZSA9IF9wYXJlbnQuaXNUZXh0YmxvY2sgPyBfcGFyZW50LmNoaWxkQWZ0ZXIoZnJvbS5vZmZzZXQpLm5vZGUgOiBfcGFyZW50LmNoaWxkKGZyb20ub2Zmc2V0KTtcbiAgICAgICAgaWYgKG5vZGUudHlwZS5zZWxlY3RhYmxlKSByZXR1cm4gbmV3IE5vZGVTZWxlY3Rpb24oZnJvbSwgdG8sIG5vZGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbmRTZWxlY3Rpb25OZWFyKGRvYywgZnJvbSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtcHR5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vZGVTZWxlY3Rpb247XG59KShTZWxlY3Rpb24pO1xuXG5leHBvcnRzLk5vZGVTZWxlY3Rpb24gPSBOb2RlU2VsZWN0aW9uO1xuXG52YXIgVGV4dFNlbGVjdGlvbiA9IChmdW5jdGlvbiAoX1NlbGVjdGlvbjIpIHtcbiAgX2luaGVyaXRzKFRleHRTZWxlY3Rpb24sIF9TZWxlY3Rpb24yKTtcblxuICBmdW5jdGlvbiBUZXh0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0U2VsZWN0aW9uKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFRleHRTZWxlY3Rpb24ucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yO1xuICAgIHRoaXMuaGVhZCA9IGhlYWQgfHwgYW5jaG9yO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRleHRTZWxlY3Rpb24sIFt7XG4gICAga2V5OiBcImVxXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxKG90aGVyKSB7XG4gICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uICYmICFvdGhlci5oZWFkLmNtcCh0aGlzLmhlYWQpICYmICFvdGhlci5hbmNob3IuY21wKHRoaXMuYW5jaG9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChkb2MsIG1hcHBpbmcpIHtcbiAgICAgIHZhciBoZWFkID0gbWFwcGluZy5tYXAodGhpcy5oZWFkKS5wb3M7XG4gICAgICBpZiAoIWRvYy5wYXRoKGhlYWQucGF0aCkuaXNUZXh0YmxvY2spIHJldHVybiBmaW5kU2VsZWN0aW9uTmVhcihkb2MsIGhlYWQpO1xuICAgICAgdmFyIGFuY2hvciA9IG1hcHBpbmcubWFwKHRoaXMuYW5jaG9yKS5wb3M7XG4gICAgICByZXR1cm4gbmV3IFRleHRTZWxlY3Rpb24oZG9jLnBhdGgoYW5jaG9yLnBhdGgpLmlzVGV4dGJsb2NrID8gYW5jaG9yIDogaGVhZCwgaGVhZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludmVydGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmNob3IuY21wKHRoaXMuaGVhZCkgPiAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmcm9tXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZlcnRlZCA/IHRoaXMuaGVhZCA6IHRoaXMuYW5jaG9yO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52ZXJ0ZWQgPyB0aGlzLmFuY2hvciA6IHRoaXMuaGVhZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1wdHlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuY2hvci5jbXAodGhpcy5oZWFkKSA9PSAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUZXh0U2VsZWN0aW9uO1xufSkoU2VsZWN0aW9uKTtcblxuZXhwb3J0cy5UZXh0U2VsZWN0aW9uID0gVGV4dFNlbGVjdGlvbjtcblxuZnVuY3Rpb24gcGF0aEZyb21Ob2RlKG5vZGUpIHtcbiAgdmFyIHBhdGggPSBbXTtcbiAgZm9yICg7Oykge1xuICAgIHZhciBhdHRyID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJwbS1wYXRoXCIpO1xuICAgIGlmICghYXR0cikgcmV0dXJuIHBhdGg7XG4gICAgcGF0aC51bnNoaWZ0KCthdHRyKTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc0Zyb21ET01Jbm5lcihwbSwgbm9kZSwgZG9tT2Zmc2V0LCBsb29zZSkge1xuICBpZiAoIWxvb3NlICYmIHBtLm9wZXJhdGlvbiAmJiBwbS5kb2MgIT0gcG0ub3BlcmF0aW9uLmRvYykgdGhyb3cgbmV3IEVycm9yKFwiRmV0Y2hpbmcgYSBwb3NpdGlvbiBmcm9tIGFuIG91dGRhdGVkIERPTSBzdHJ1Y3R1cmVcIik7XG5cbiAgdmFyIGV4dHJhT2Zmc2V0ID0gMCxcbiAgICAgIHRhZyA9IHVuZGVmaW5lZDtcbiAgZm9yICg7Oykge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIGV4dHJhT2Zmc2V0ICs9IGRvbU9mZnNldDtlbHNlIGlmIChub2RlLmhhc0F0dHJpYnV0ZShcInBtLXBhdGhcIikgfHwgbm9kZSA9PSBwbS5jb250ZW50KSBicmVhaztlbHNlIGlmICh0YWcgPSBub2RlLmdldEF0dHJpYnV0ZShcInBtLXNwYW4tb2Zmc2V0XCIpKSBleHRyYU9mZnNldCArPSArdGFnO1xuXG4gICAgdmFyIF9wYXJlbnQyID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGRvbU9mZnNldCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoX3BhcmVudDIuY2hpbGROb2Rlcywgbm9kZSkgKyAobm9kZS5ub2RlVHlwZSAhPSAzICYmIGRvbU9mZnNldCA9PSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoID8gMSA6IDApO1xuICAgIG5vZGUgPSBfcGFyZW50MjtcbiAgfVxuXG4gIHZhciBvZmZzZXQgPSAwO1xuICBmb3IgKHZhciBpID0gZG9tT2Zmc2V0IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMpIHtcbiAgICAgIGlmIChsb29zZSkgZXh0cmFPZmZzZXQgKz0gY2hpbGQubm9kZVZhbHVlLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHRhZyA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInBtLXNwYW5cIikpIHtcbiAgICAgIG9mZnNldCA9IHBhcnNlU3Bhbih0YWcpLnRvO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmICh0YWcgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJwbS1wYXRoXCIpKSB7XG4gICAgICBvZmZzZXQgPSArdGFnICsgMTtcbiAgICAgIGV4dHJhT2Zmc2V0ID0gMDtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAobG9vc2UpIHtcbiAgICAgIGV4dHJhT2Zmc2V0ICs9IGNoaWxkLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBfbW9kZWwuUG9zKHBhdGhGcm9tTm9kZShub2RlKSwgb2Zmc2V0ICsgZXh0cmFPZmZzZXQpO1xufVxuXG5mdW5jdGlvbiBwb3NGcm9tRE9NKHBtLCBub2RlLCBvZmZzZXQpIHtcbiAgaWYgKG9mZnNldCA9PSBudWxsKSB7XG4gICAgb2Zmc2V0ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChub2RlLnBhcmVudE5vZGUuY2hpbGROb2Rlcywgbm9kZSk7XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcG9zRnJvbURPTUlubmVyKHBtLCBub2RlLCBvZmZzZXQpO1xufVxuXG5mdW5jdGlvbiByYW5nZUZyb21ET01Mb29zZShwbSkge1xuICBpZiAoIWhhc0ZvY3VzKHBtKSkgcmV0dXJuIG51bGw7XG4gIHZhciBzZWwgPSBnZXRTZWxlY3Rpb24oKTtcbiAgcmV0dXJuIG5ldyBUZXh0U2VsZWN0aW9uKHBvc0Zyb21ET01Jbm5lcihwbSwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQsIHRydWUpLCBwb3NGcm9tRE9NSW5uZXIocG0sIHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgdHJ1ZSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kQnlQYXRoKG5vZGUsIG4sIGZyb21FbmQpIHtcbiAgZm9yICh2YXIgY2ggPSBmcm9tRW5kID8gbm9kZS5sYXN0Q2hpbGQgOiBub2RlLmZpcnN0Q2hpbGQ7IGNoOyBjaCA9IGZyb21FbmQgPyBjaC5wcmV2aW91c1NpYmxpbmcgOiBjaC5uZXh0U2libGluZykge1xuICAgIGlmIChjaC5ub2RlVHlwZSAhPSAxKSBjb250aW51ZTtcbiAgICB2YXIgcGF0aCA9IGNoLmdldEF0dHJpYnV0ZShcInBtLXBhdGhcIik7XG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICB2YXIgZm91bmQgPSBmaW5kQnlQYXRoKGNoLCBuKTtcbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGZvdW5kO1xuICAgIH0gZWxzZSBpZiAoK3BhdGggPT0gbikge1xuICAgICAgcmV0dXJuIGNoO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlUGF0aChwYXJlbnQsIHBhdGgpIHtcbiAgdmFyIG5vZGUgPSBwYXJlbnQ7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIG5vZGUgPSBmaW5kQnlQYXRoKG5vZGUsIHBhdGhbaV0pO1xuICAgIGlmICghbm9kZSkgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlc29sdmUgcGF0aCBcIiArIHBhdGguam9pbihcIi9cIikpO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNwYW4oc3Bhbikge1xuICB2YXIgX2REJCRleGVjID0gL14oXFxkKyktKFxcZCspJC8uZXhlYyhzcGFuKTtcblxuICB2YXIgX2REJCRleGVjMiA9IF9zbGljZWRUb0FycmF5KF9kRCQkZXhlYywgMyk7XG5cbiAgdmFyIF8gPSBfZEQkJGV4ZWMyWzBdO1xuICB2YXIgZnJvbSA9IF9kRCQkZXhlYzJbMV07XG4gIHZhciB0byA9IF9kRCQkZXhlYzJbMl07XG5cbiAgcmV0dXJuIHsgZnJvbTogK2Zyb20sIHRvOiArdG8gfTtcbn1cblxuZnVuY3Rpb24gZmluZEJ5T2Zmc2V0KG5vZGUsIG9mZnNldCwgYWZ0ZXIpIHtcbiAgZnVuY3Rpb24gc2VhcmNoKG5vZGUpIHtcbiAgICBmb3IgKHZhciBjaCA9IG5vZGUuZmlyc3RDaGlsZCwgaSA9IDAsIGF0dHIgPSB1bmRlZmluZWQ7IGNoOyBjaCA9IGNoLm5leHRTaWJsaW5nLCBpKyspIHtcbiAgICAgIGlmIChjaC5ub2RlVHlwZSAhPSAxKSBjb250aW51ZTtcbiAgICAgIGlmIChhdHRyID0gY2guZ2V0QXR0cmlidXRlKFwicG0tc3BhblwiKSkge1xuICAgICAgICB2YXIgX3BhcnNlU3BhbiA9IHBhcnNlU3BhbihhdHRyKTtcblxuICAgICAgICB2YXIgZnJvbSA9IF9wYXJzZVNwYW4uZnJvbTtcbiAgICAgICAgdmFyIHRvID0gX3BhcnNlU3Bhbi50bztcblxuICAgICAgICBpZiAoYWZ0ZXIgPyBmcm9tID09IG9mZnNldCA6IHRvID49IG9mZnNldCkgcmV0dXJuIHsgbm9kZTogY2gsIG9mZnNldDogaSwgaW5uZXJPZmZzZXQ6IG9mZnNldCAtIGZyb20gfTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0ciA9IGNoLmdldEF0dHJpYnV0ZShcInBtLXBhdGhcIikpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBvZmZzZXQgLSArYXR0cjtcbiAgICAgICAgaWYgKGRpZmYgPT0gMCB8fCBhZnRlciAmJiBkaWZmID09IDEpIHJldHVybiB7IG5vZGU6IGNoLCBvZmZzZXQ6IGksIGlubmVyT2Zmc2V0OiBkaWZmIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gc2VhcmNoKGNoKTtcbiAgICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlYXJjaChub2RlKTtcbn1cblxuZnVuY3Rpb24gbGVhZkF0KG5vZGUsIG9mZnNldCkge1xuICBmb3IgKDs7KSB7XG4gICAgdmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgIGlmICghY2hpbGQpIHJldHVybiB7IG5vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IH07XG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9IDEpIHJldHVybiB7IG5vZGU6IGNoaWxkLCBvZmZzZXQ6IG9mZnNldCB9O1xuICAgIGlmIChjaGlsZC5oYXNBdHRyaWJ1dGUoXCJwbS1zcGFuLW9mZnNldFwiKSkge1xuICAgICAgdmFyIG5vZGVPZmZzZXQgPSAwO1xuICAgICAgZm9yICg7Oykge1xuICAgICAgICB2YXIgbmV4dFNpYiA9IGNoaWxkLm5leHRTaWJsaW5nLFxuICAgICAgICAgICAgbmV4dE9mZnNldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFuZXh0U2liIHx8IChuZXh0T2Zmc2V0ID0gK25leHRTaWIuZ2V0QXR0cmlidXRlKFwicG0tc3Bhbi1vZmZzZXRcIikpID49IG9mZnNldCkgYnJlYWs7XG4gICAgICAgIGNoaWxkID0gbmV4dFNpYjtcbiAgICAgICAgbm9kZU9mZnNldCA9IG5leHRPZmZzZXQ7XG4gICAgICB9XG4gICAgICBvZmZzZXQgLT0gbm9kZU9mZnNldDtcbiAgICB9XG4gICAgbm9kZSA9IGNoaWxkO1xuICB9XG59XG5cbi8qKlxyXG4gKiBHZXQgYSBET00gZWxlbWVudCBhdCBhIGdpdmVuIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cclxuICpcclxuICogQHBhcmFtIHtOb2RlfSBwYXJlbnQgVGhlIHBhcmVudCBET00gbm9kZS5cclxuICogQHBhcmFtIHtQb3N9IHBvcyAgICAgVGhlIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cclxuICogQHJldHVybiB7T2JqZWN0fSAgICAgVGhlIERPTSBub2RlIGFuZCBjaGFyYWN0ZXIgb2Zmc2V0IGluc2lkZSB0aGUgbm9kZS5cclxuICovXG5mdW5jdGlvbiBET01Gcm9tUG9zKHBhcmVudCwgcG9zKSB7XG4gIHZhciBub2RlID0gcmVzb2x2ZVBhdGgocGFyZW50LCBwb3MucGF0aCk7XG4gIHZhciBmb3VuZCA9IGZpbmRCeU9mZnNldChub2RlLCBwb3Mub2Zmc2V0KSxcbiAgICAgIGlubmVyID0gdW5kZWZpbmVkO1xuICBpZiAoIWZvdW5kKSByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IDAgfTtcbiAgaWYgKGZvdW5kLm5vZGUuaGFzQXR0cmlidXRlKFwicG0tc3Bhbi1hdG9tXCIpIHx8ICEoaW5uZXIgPSBsZWFmQXQoZm91bmQubm9kZSwgZm91bmQuaW5uZXJPZmZzZXQpKSkgcmV0dXJuIHsgbm9kZTogZm91bmQubm9kZS5wYXJlbnROb2RlLCBvZmZzZXQ6IGZvdW5kLm9mZnNldCArIChmb3VuZC5pbm5lck9mZnNldCA/IDEgOiAwKSB9O2Vsc2UgcmV0dXJuIGlubmVyO1xufVxuXG5mdW5jdGlvbiBoYXNGb2N1cyhwbSkge1xuICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICByZXR1cm4gc2VsLnJhbmdlQ291bnQgJiYgKDAsIF9kb20uY29udGFpbnMpKHBtLmNvbnRlbnQsIHNlbC5hbmNob3JOb2RlKTtcbn1cblxuLyoqXHJcbiAqIEdpdmVuIGFuIHgseSBwb3NpdGlvbiBvbiB0aGUgZWRpdG9yLCBnZXQgdGhlIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cclxuICpcclxuICogQHBhcmFtICB7UHJvc2VNaXJyb3J9IHBtICAgICBFZGl0b3IgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSAge09iamVjdH0gICAgICBjb29yZHMgVGhlIHgsIHkgY29vcmRpbmF0ZXMuXHJcbiAqIEByZXR1cm4ge1Bvc31cclxuICovXG4vLyBGSVhNRSBmYWlscyBvbiB0aGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuLy8gRklYTUUgcmVmb3JtdWxhdGUgYXMgc2VsZWN0aW9uQXRDb29yZHM/IFNvIHRoYXQgaXQgY2FuJ3QgcmV0dXJuIG51bGxcblxuZnVuY3Rpb24gcG9zQXRDb29yZHMocG0sIGNvb3Jkcykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3AgKyAxKTtcbiAgaWYgKCEoMCwgX2RvbS5jb250YWlucykocG0uY29udGVudCwgZWxlbWVudCkpIHJldHVybiBudWxsO1xuXG4gIHZhciBvZmZzZXQgPSB1bmRlZmluZWQ7XG4gIGlmIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09IDEgJiYgZWxlbWVudC5maXJzdENoaWxkLm5vZGVUeXBlID09IDMpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5maXJzdENoaWxkO1xuICAgIG9mZnNldCA9IG9mZnNldEluVGV4dE5vZGUoZWxlbWVudCwgY29vcmRzKTtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXQgPSBvZmZzZXRJbkVsZW1lbnQoZWxlbWVudCwgY29vcmRzKTtcbiAgfVxuXG4gIHJldHVybiBwb3NGcm9tRE9NKHBtLCBlbGVtZW50LCBvZmZzZXQpO1xufVxuXG5mdW5jdGlvbiB0ZXh0UmVjdChub2RlLCBmcm9tLCB0bykge1xuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRFbmQobm9kZSwgdG8pO1xuICByYW5nZS5zZXRTdGFydChub2RlLCBmcm9tKTtcbiAgcmV0dXJuIHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xufVxuXG4vKipcclxuICogR2l2ZW4gYSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgbW9kZWwsIGdldCBhIGJvdW5kaW5nIGJveCBvZiB0aGUgY2hhcmFjdGVyIGF0XHJcbiAqIHRoYXQgcG9zaXRpb24sIHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXHJcbiAqXHJcbiAqIEBwYXJhbSAge1Byb3NlTWlycm9yfSBwbSBUaGUgZWRpdG9yIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0gIHtQb3N9ICAgICAgICAgcG9zXHJcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGJvdW5kaW5nIGJveC5cclxuICovXG5cbmZ1bmN0aW9uIGNvb3Jkc0F0UG9zKHBtLCBwb3MpIHtcbiAgdmFyIF9ET01Gcm9tUG9zID0gRE9NRnJvbVBvcyhwbS5jb250ZW50LCBwb3MpO1xuXG4gIHZhciBub2RlID0gX0RPTUZyb21Qb3Mubm9kZTtcbiAgdmFyIG9mZnNldCA9IF9ET01Gcm9tUG9zLm9mZnNldDtcblxuICB2YXIgc2lkZSA9IHVuZGVmaW5lZCxcbiAgICAgIHJlY3QgPSB1bmRlZmluZWQ7XG4gIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICBpZiAob2Zmc2V0IDwgbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSB7XG4gICAgICByZWN0ID0gdGV4dFJlY3Qobm9kZSwgb2Zmc2V0LCBvZmZzZXQgKyAxKTtcbiAgICAgIHNpZGUgPSBcImxlZnRcIjtcbiAgICB9XG4gICAgaWYgKCghcmVjdCB8fCByZWN0LmxlZnQgPT0gcmVjdC5yaWdodCkgJiYgb2Zmc2V0KSB7XG4gICAgICByZWN0ID0gdGV4dFJlY3Qobm9kZSwgb2Zmc2V0IC0gMSwgb2Zmc2V0KTtcbiAgICAgIHNpZGUgPSBcInJpZ2h0XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGlmIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgIHJlY3QgPSBjaGlsZC5ub2RlVHlwZSA9PSAzID8gdGV4dFJlY3QoY2hpbGQsIDAsIGNoaWxkLm5vZGVWYWx1ZS5sZW5ndGgpIDogY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBzaWRlID0gXCJsZWZ0XCI7XG4gICAgfVxuICAgIGlmICgoIXJlY3QgfHwgcmVjdC5sZWZ0ID09IHJlY3QucmlnaHQpICYmIG9mZnNldCkge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgcmVjdCA9IGNoaWxkLm5vZGVUeXBlID09IDMgPyB0ZXh0UmVjdChjaGlsZCwgMCwgY2hpbGQubm9kZVZhbHVlLmxlbmd0aCkgOiBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHNpZGUgPSBcInJpZ2h0XCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHNpZGUgPSBcImxlZnRcIjtcbiAgfVxuICB2YXIgeCA9IHJlY3Rbc2lkZV07XG4gIHJldHVybiB7IHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC5ib3R0b20sIGxlZnQ6IHgsIHJpZ2h0OiB4IH07XG59XG5cbnZhciBzY3JvbGxNYXJnaW4gPSA1O1xuXG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhwbSwgcG9zKSB7XG4gIGlmICghcG9zKSBwb3MgPSBwbS5zZWwucmFuZ2UuaGVhZCB8fCBwbS5zZWwucmFuZ2UuZnJvbTtcbiAgdmFyIGNvb3JkcyA9IGNvb3Jkc0F0UG9zKHBtLCBwb3MpO1xuICBmb3IgKHZhciBfcGFyZW50MyA9IHBtLmNvbnRlbnQ7OyBfcGFyZW50MyA9IF9wYXJlbnQzLnBhcmVudE5vZGUpIHtcbiAgICB2YXIgYXRCb2R5ID0gX3BhcmVudDMgPT0gZG9jdW1lbnQuYm9keTtcbiAgICB2YXIgcmVjdCA9IGF0Qm9keSA/IHdpbmRvd1JlY3QoKSA6IF9wYXJlbnQzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBtb3ZlWCA9IDAsXG4gICAgICAgIG1vdmVZID0gMDtcbiAgICBpZiAoY29vcmRzLnRvcCA8IHJlY3QudG9wKSBtb3ZlWSA9IC0ocmVjdC50b3AgLSBjb29yZHMudG9wICsgc2Nyb2xsTWFyZ2luKTtlbHNlIGlmIChjb29yZHMuYm90dG9tID4gcmVjdC5ib3R0b20pIG1vdmVZID0gY29vcmRzLmJvdHRvbSAtIHJlY3QuYm90dG9tICsgc2Nyb2xsTWFyZ2luO1xuICAgIGlmIChjb29yZHMubGVmdCA8IHJlY3QubGVmdCkgbW92ZVggPSAtKHJlY3QubGVmdCAtIGNvb3Jkcy5sZWZ0ICsgc2Nyb2xsTWFyZ2luKTtlbHNlIGlmIChjb29yZHMucmlnaHQgPiByZWN0LnJpZ2h0KSBtb3ZlWCA9IGNvb3Jkcy5yaWdodCAtIHJlY3QucmlnaHQgKyBzY3JvbGxNYXJnaW47XG4gICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICBpZiAoYXRCb2R5KSB3aW5kb3cuc2Nyb2xsQnkobW92ZVgsIG1vdmVZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1vdmVZKSBfcGFyZW50My5zY3JvbGxUb3AgKz0gbW92ZVk7XG4gICAgICBpZiAobW92ZVgpIF9wYXJlbnQzLnNjcm9sbExlZnQgKz0gbW92ZVg7XG4gICAgfVxuICAgIGlmIChhdEJvZHkpIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9mZnNldEluUmVjdHMoY29vcmRzLCByZWN0cywgc3RyaWN0KSB7XG4gIHZhciB5ID0gY29vcmRzLnRvcDtcbiAgdmFyIHggPSBjb29yZHMubGVmdDtcblxuICB2YXIgbWluWSA9IDFlOCxcbiAgICAgIG1pblggPSAxZTgsXG4gICAgICBvZmZzZXQgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJlY3QgPSByZWN0c1tpXTtcbiAgICBpZiAoIXJlY3QgfHwgcmVjdC50b3AgPT0gcmVjdC5ib3R0b20pIGNvbnRpbnVlO1xuICAgIHZhciBkWCA9IHggPCByZWN0LmxlZnQgPyByZWN0LmxlZnQgLSB4IDogeCA+IHJlY3QucmlnaHQgPyB4IC0gcmVjdC5yaWdodCA6IDA7XG4gICAgaWYgKGRYID4gbWluWCkgY29udGludWU7XG4gICAgaWYgKGRYIDwgbWluWCkge1xuICAgICAgbWluWCA9IGRYO21pblkgPSAxZTg7XG4gICAgfVxuICAgIHZhciBkWSA9IHkgPCByZWN0LnRvcCA/IHJlY3QudG9wIC0geSA6IHkgPiByZWN0LmJvdHRvbSA/IHkgLSByZWN0LmJvdHRvbSA6IDA7XG4gICAgaWYgKGRZIDwgbWluWSkge1xuICAgICAgbWluWSA9IGRZO1xuICAgICAgb2Zmc2V0ID0geCA8IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyBpIDogaSArIDE7XG4gICAgfVxuICB9XG4gIGlmIChzdHJpY3QgJiYgKG1pblggfHwgbWluWSkpIHJldHVybiBudWxsO1xuICByZXR1cm4gb2Zmc2V0O1xufVxuXG5mdW5jdGlvbiBvZmZzZXRJblRleHROb2RlKHRleHQsIGNvb3Jkcywgc3RyaWN0KSB7XG4gIHZhciBsZW4gPSB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGg7XG4gIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIHZhciByZWN0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmFuZ2Uuc2V0RW5kKHRleHQsIGkgKyAxKTtcbiAgICByYW5nZS5zZXRTdGFydCh0ZXh0LCBpKTtcbiAgICByZWN0cy5wdXNoKHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0SW5SZWN0cyhjb29yZHMsIHJlY3RzLCBzdHJpY3QpO1xufVxuXG5mdW5jdGlvbiBvZmZzZXRJbkVsZW1lbnQoZWxlbWVudCwgY29vcmRzKSB7XG4gIHZhciByZWN0cyA9IFtdO1xuICBmb3IgKHZhciBjaGlsZCA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICBpZiAoY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSByZWN0cy5wdXNoKGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtlbHNlIHJlY3RzLnB1c2gobnVsbCk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldEluUmVjdHMoY29vcmRzLCByZWN0cyk7XG59XG5cbmZ1bmN0aW9uIGZpbmRTZWxlY3Rpb25Jbihkb2MsIHBhdGgsIG9mZnNldCwgZGlyLCB0ZXh0KSB7XG4gIHZhciBub2RlID0gZG9jLnBhdGgocGF0aCk7XG4gIGlmIChub2RlLmlzVGV4dGJsb2NrKSByZXR1cm4gbmV3IFRleHRTZWxlY3Rpb24obmV3IF9tb2RlbC5Qb3MocGF0aCwgb2Zmc2V0KSk7XG5cbiAgZm9yICh2YXIgaSA9IG9mZnNldCArIChkaXIgPiAwID8gMCA6IC0xKTsgZGlyID4gMCA/IGkgPCBub2RlLm1heE9mZnNldCA6IGkgPj0gMDsgaSArPSBkaXIpIHtcbiAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkKGkpO1xuICAgIGlmICghdGV4dCAmJiBjaGlsZC50eXBlLmNvbnRhaW5zID09IG51bGwgJiYgY2hpbGQudHlwZS5zZWxlY3RhYmxlKSByZXR1cm4gbmV3IE5vZGVTZWxlY3Rpb24obmV3IF9tb2RlbC5Qb3MocGF0aCwgaSksIG5ldyBfbW9kZWwuUG9zKHBhdGgsIGkgKyAxKSwgY2hpbGQpO1xuICAgIHBhdGgucHVzaChpKTtcbiAgICB2YXIgaW5zaWRlID0gZmluZFNlbGVjdGlvbkluKGRvYywgcGF0aCwgZGlyIDwgMCA/IGNoaWxkLm1heE9mZnNldCA6IDAsIGRpciwgdGV4dCk7XG4gICAgaWYgKGluc2lkZSkgcmV0dXJuIGluc2lkZTtcbiAgICBwYXRoLnBvcCgpO1xuICB9XG59XG5cbi8vIEZJWE1FIHdlJ2xsIG5lZWQgc29tZSBhd2FyZW5lc3Mgb2YgYmlkaSBtb3Rpb24gd2hlbiBkZXRlcm1pbmluZyBibG9jayBzdGFydCBhbmQgZW5kXG5cbmZ1bmN0aW9uIGZpbmRTZWxlY3Rpb25Gcm9tKGRvYywgcG9zLCBkaXIsIHRleHQpIHtcbiAgZm9yICh2YXIgcGF0aCA9IHBvcy5wYXRoLnNsaWNlKCksIG9mZnNldCA9IHBvcy5vZmZzZXQ7Oykge1xuICAgIHZhciBmb3VuZCA9IGZpbmRTZWxlY3Rpb25Jbihkb2MsIHBhdGgsIG9mZnNldCwgZGlyLCB0ZXh0KTtcbiAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICBpZiAoIXBhdGgubGVuZ3RoKSBicmVhaztcbiAgICBvZmZzZXQgPSBwYXRoLnBvcCgpICsgKGRpciA+IDAgPyAxIDogMCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFNlbGVjdGlvbk5lYXIoZG9jLCBwb3MsIGJpYXMsIHRleHQpIHtcbiAgaWYgKGJpYXMgPT09IHVuZGVmaW5lZCkgYmlhcyA9IDE7XG5cbiAgdmFyIHJlc3VsdCA9IGZpbmRTZWxlY3Rpb25Gcm9tKGRvYywgcG9zLCBiaWFzLCB0ZXh0KSB8fCBmaW5kU2VsZWN0aW9uRnJvbShkb2MsIHBvcywgLWJpYXMsIHRleHQpO1xuICBpZiAoIXJlc3VsdCkgdGhyb3cgbmV3IEVycm9yKFwiU2VhcmNoaW5nIGZvciBzZWxlY3Rpb24gaW4gaW52YWxpZCBkb2N1bWVudCBcIiArIGRvYyk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRTZWxlY3Rpb25BdFN0YXJ0KG5vZGUsIHBhdGgsIHRleHQpIHtcbiAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkgcGF0aCA9IFtdO1xuXG4gIHJldHVybiBmaW5kU2VsZWN0aW9uSW4obm9kZSwgcGF0aC5zbGljZSgpLCAwLCAxLCB0ZXh0KTtcbn1cblxuZnVuY3Rpb24gZmluZFNlbGVjdGlvbkF0RW5kKG5vZGUsIHBhdGgsIHRleHQpIHtcbiAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkgcGF0aCA9IFtdO1xuXG4gIHJldHVybiBmaW5kU2VsZWN0aW9uSW4obm9kZSwgcGF0aC5zbGljZSgpLCBub2RlLm1heE9mZnNldCwgLTEsIHRleHQpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RhYmxlTm9kZUFib3ZlKHBtLCBkb20sIGNvb3JkcywgbGliZXJhbCkge1xuICBmb3IgKDsgZG9tICYmIGRvbSAhPSBwbS5jb250ZW50OyBkb20gPSBkb20ucGFyZW50Tm9kZSkge1xuICAgIGlmIChkb20uaGFzQXR0cmlidXRlKFwicG0tcGF0aFwiKSkge1xuICAgICAgdmFyIHBhdGggPSBwYXRoRnJvbU5vZGUoZG9tKTtcbiAgICAgIHZhciBub2RlID0gcG0uZG9jLnBhdGgocGF0aCk7XG4gICAgICAvLyBMZWFmIG5vZGVzIGFyZSBpbXBsaWNpdGx5IGNsaWNrYWJsZVxuICAgICAgaWYgKG5vZGUudHlwZS5jbGlja2VkKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBub2RlLnR5cGUuY2xpY2tlZChub2RlLCBwYXRoLCBkb20sIGNvb3Jkcyk7XG4gICAgICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoKGxpYmVyYWwgfHwgbm9kZS50eXBlLmNvbnRhaW5zID09IG51bGwpICYmIG5vZGUudHlwZS5zZWxlY3RhYmxlKSByZXR1cm4gX21vZGVsLlBvcy5mcm9tKHBhdGgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmIChkb20uaGFzQXR0cmlidXRlKFwicG0tc3Bhbi1hdG9tXCIpKSB7XG4gICAgICB2YXIgcGF0aCA9IHBhdGhGcm9tTm9kZShkb20ucGFyZW50Tm9kZSk7XG4gICAgICB2YXIgX3BhcmVudDQgPSBwbS5kb2MucGF0aChwYXRoKSxcbiAgICAgICAgICBzcGFuID0gcGFyc2VTcGFuKGRvbS5nZXRBdHRyaWJ1dGUoXCJwbS1zcGFuXCIpKTtcbiAgICAgIHZhciBub2RlID0gX3BhcmVudDQuY2hpbGRBZnRlcihzcGFuLmZyb20pLm5vZGU7XG4gICAgICByZXR1cm4gbm9kZS50eXBlLnNlbGVjdGFibGUgPyBuZXcgX21vZGVsLlBvcyhwYXRoLCBzcGFuLmZyb20pIDogbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmVydGljYWxNb3Rpb25MZWF2ZXNUZXh0YmxvY2socG0sIHBvcywgZGlyKSB7XG4gIHZhciBkb20gPSByZXNvbHZlUGF0aChwbS5jb250ZW50LCBwb3MucGF0aCk7XG4gIHZhciBjb29yZHMgPSBjb29yZHNBdFBvcyhwbSwgcG9zKTtcbiAgZm9yICh2YXIgY2hpbGQgPSBkb20uZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICB2YXIgYm94ZXMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBib3ggPSBib3hlc1tpXTtcbiAgICAgIGlmIChkaXIgPCAwID8gYm94LmJvdHRvbSA8IGNvb3Jkcy50b3AgOiBib3gudG9wID4gY29vcmRzLmJvdHRvbSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0RE9NU2VsZWN0aW9uVG9Qb3MocG0sIHBvcykge1xuICB2YXIgX0RPTUZyb21Qb3MyID0gRE9NRnJvbVBvcyhwbS5jb250ZW50LCBwb3MpO1xuXG4gIHZhciBub2RlID0gX0RPTUZyb21Qb3MyLm5vZGU7XG4gIHZhciBvZmZzZXQgPSBfRE9NRnJvbVBvczIub2Zmc2V0O1xuXG4gIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIHJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpO1xuICByYW5nZS5zZXRTdGFydChub2RlLCBvZmZzZXQpO1xuICB2YXIgc2VsID0gZ2V0U2VsZWN0aW9uKCk7XG4gIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9lZGl0ID0gcmVxdWlyZShcIi4uL2VkaXRcIik7XG5cbnZhciBfaW5wdXRydWxlcyA9IHJlcXVpcmUoXCIuL2lucHV0cnVsZXNcIik7XG5cbigwLCBfZWRpdC5kZWZpbmVPcHRpb24pKFwiYXV0b0lucHV0XCIsIGZhbHNlLCBmdW5jdGlvbiAocG0sIHZhbCwgb2xkKSB7XG4gIGlmICh2YWwgJiYgIW9sZCkgKDAsIF9pbnB1dHJ1bGVzLmFkZElucHV0UnVsZXMpKHBtLCBydWxlcyk7ZWxzZSBpZiAoIXZhbCAmJiBvbGQpICgwLCBfaW5wdXRydWxlcy5yZW1vdmVJbnB1dFJ1bGVzKShwbSwgcnVsZXMpO1xufSk7XG5cbnZhciBydWxlcyA9IFtuZXcgX2lucHV0cnVsZXMuUnVsZShcIi1cIiwgLy0tJC8sIFwi4oCUXCIpLCBuZXcgX2lucHV0cnVsZXMuUnVsZSgnXCInLCAvXFxzKFwiKSQvLCBcIuKAnFwiKSwgbmV3IF9pbnB1dHJ1bGVzLlJ1bGUoJ1wiJywgL1wiJC8sIFwi4oCdXCIpLCBuZXcgX2lucHV0cnVsZXMuUnVsZShcIidcIiwgL1xccygnKSQvLCBcIuKAmFwiKSwgbmV3IF9pbnB1dHJ1bGVzLlJ1bGUoXCInXCIsIC8nJC8sIFwi4oCZXCIpLCBuZXcgX2lucHV0cnVsZXMuUnVsZShcIiBcIiwgL15cXHMqPiAkLywgZnVuY3Rpb24gKHBtLCBfLCBwb3MpIHtcbiAgd3JhcEFuZEpvaW4ocG0sIHBvcywgXCJibG9ja3F1b3RlXCIpO1xufSksIG5ldyBfaW5wdXRydWxlcy5SdWxlKFwiIFwiLCAvXihcXGQrKVxcLiAkLywgZnVuY3Rpb24gKHBtLCBtYXRjaCwgcG9zKSB7XG4gIHZhciBvcmRlciA9ICttYXRjaFsxXTtcbiAgd3JhcEFuZEpvaW4ocG0sIHBvcywgXCJvcmRlcmVkX2xpc3RcIiwgeyBvcmRlcjogb3JkZXIgfHwgbnVsbCwgdGlnaHQ6IHRydWUgfSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5sZW5ndGggKyAobm9kZS5hdHRycy5vcmRlciB8fCAxKSA9PSBvcmRlcjtcbiAgfSk7XG59KSwgbmV3IF9pbnB1dHJ1bGVzLlJ1bGUoXCIgXCIsIC9eXFxzKihbLSsqXSkgJC8sIGZ1bmN0aW9uIChwbSwgbWF0Y2gsIHBvcykge1xuICB2YXIgYnVsbGV0ID0gbWF0Y2hbMV07XG4gIHdyYXBBbmRKb2luKHBtLCBwb3MsIFwiYnVsbGV0X2xpc3RcIiwgeyBidWxsZXQ6IGJ1bGxldCwgdGlnaHQ6IHRydWUgfSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5hdHRycy5idWxsZXQgPT0gYnVsbGV0O1xuICB9KTtcbn0pLCBuZXcgX2lucHV0cnVsZXMuUnVsZShcImBcIiwgL15gYGAkLywgZnVuY3Rpb24gKHBtLCBfLCBwb3MpIHtcbiAgc2V0QXMocG0sIHBvcywgXCJjb2RlX2Jsb2NrXCIsIHsgcGFyYW1zOiBcIlwiIH0pO1xufSksIG5ldyBfaW5wdXRydWxlcy5SdWxlKFwiIFwiLCAvXigjezEsNn0pICQvLCBmdW5jdGlvbiAocG0sIG1hdGNoLCBwb3MpIHtcbiAgc2V0QXMocG0sIHBvcywgXCJoZWFkaW5nXCIsIHsgbGV2ZWw6IG1hdGNoWzFdLmxlbmd0aCB9KTtcbn0pXTtcblxuZXhwb3J0cy5ydWxlcyA9IHJ1bGVzO1xuZnVuY3Rpb24gd3JhcEFuZEpvaW4ocG0sIHBvcywgdHlwZSkge1xuICB2YXIgYXR0cnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzNdO1xuICB2YXIgcHJlZGljYXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1s0XTtcblxuICB2YXIgYmVmb3JlID0gcG9zLnNob3J0ZW4oKTtcbiAgdmFyIHNpYmxpbmcgPSBiZWZvcmUub2Zmc2V0ID4gMCAmJiBwbS5kb2MucGF0aChiZWZvcmUucGF0aCkuY2hpbGQoYmVmb3JlLm9mZnNldCAtIDEpO1xuICB2YXIgam9pbiA9IHNpYmxpbmcgJiYgc2libGluZy50eXBlLm5hbWUgPT0gdHlwZSAmJiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoc2libGluZykpO1xuICB2YXIgdHIgPSBwbS50ci53cmFwKHBvcywgcG9zLCBwbS5zY2hlbWEubm9kZSh0eXBlLCBhdHRycykpO1xuICB2YXIgZGVsUG9zID0gdHIubWFwKHBvcykucG9zO1xuICB0cltcImRlbGV0ZVwiXShuZXcgX21vZGVsLlBvcyhkZWxQb3MucGF0aCwgMCksIGRlbFBvcyk7XG4gIGlmIChqb2luKSB0ci5qb2luKGJlZm9yZSk7XG4gIHRyLmFwcGx5KCk7XG59XG5cbmZ1bmN0aW9uIHNldEFzKHBtLCBwb3MsIHR5cGUsIGF0dHJzKSB7XG4gIHBtLnRyLnNldEJsb2NrVHlwZShwb3MsIHBvcywgcG0uc2NoZW1hLm5vZGUodHlwZSwgYXR0cnMpKVtcImRlbGV0ZVwiXShuZXcgX21vZGVsLlBvcyhwb3MucGF0aCwgMCksIHBvcykuYXBwbHkoKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzLmFkZElucHV0UnVsZXMgPSBhZGRJbnB1dFJ1bGVzO1xuZXhwb3J0cy5yZW1vdmVJbnB1dFJ1bGVzID0gcmVtb3ZlSW5wdXRSdWxlcztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9lZGl0ID0gcmVxdWlyZShcIi4uL2VkaXRcIik7XG5cbmZ1bmN0aW9uIGFkZElucHV0UnVsZXMocG0sIHJ1bGVzKSB7XG4gIGlmICghcG0ubW9kLmludGVycHJldElucHV0KSBwbS5tb2QuaW50ZXJwcmV0SW5wdXQgPSBuZXcgSW5wdXRSdWxlcyhwbSk7XG4gIHBtLm1vZC5pbnRlcnByZXRJbnB1dC5hZGRSdWxlcyhydWxlcyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUlucHV0UnVsZXMocG0sIHJ1bGVzKSB7XG4gIHZhciBpaSA9IHBtLm1vZC5pbnRlcnByZXRJbnB1dDtcbiAgaWYgKCFpaSkgcmV0dXJuO1xuICBpaS5yZW1vdmVSdWxlcyhydWxlcyk7XG4gIGlmIChpaS5ydWxlcy5sZW5ndGggPT0gMCkge1xuICAgIGlpLnVucmVnaXN0ZXIoKTtcbiAgICBwbS5tb2QuaW50ZXJwcmV0SW5wdXQgPSBudWxsO1xuICB9XG59XG5cbnZhciBSdWxlID0gZnVuY3Rpb24gUnVsZShsYXN0Q2hhciwgbWF0Y2gsIGhhbmRsZXIpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJ1bGUpO1xuXG4gIHRoaXMubGFzdENoYXIgPSBsYXN0Q2hhcjtcbiAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xufTtcblxuZXhwb3J0cy5SdWxlID0gUnVsZTtcblxudmFyIElucHV0UnVsZXMgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbnB1dFJ1bGVzKHBtKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dFJ1bGVzKTtcblxuICAgIHRoaXMucG0gPSBwbTtcbiAgICB0aGlzLnJ1bGVzID0gW107XG4gICAgdGhpcy5jYW5jZWxWZXJzaW9uID0gbnVsbDtcblxuICAgIHBtLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsIHRoaXMub25TZWxDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY2FuY2VsVmVyc2lvbiA9IG51bGw7XG4gICAgfSk7XG4gICAgcG0ub24oXCJ0ZXh0SW5wdXRcIiwgdGhpcy5vblRleHRJbnB1dCA9IHRoaXMub25UZXh0SW5wdXQuYmluZCh0aGlzKSk7XG4gICAgcG0uYWRkS2V5bWFwKG5ldyBfZWRpdC5LZXltYXAoeyBCYWNrc3BhY2U6IGZ1bmN0aW9uIEJhY2tzcGFjZShwbSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuYmFja3NwYWNlKHBtKTtcbiAgICAgIH0gfSwgeyBuYW1lOiBcImlucHV0UnVsZXNcIiB9KSwgMjApO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKElucHV0UnVsZXMsIFt7XG4gICAga2V5OiBcInVucmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3RlcigpIHtcbiAgICAgIHRoaXMucG0ub2ZmKFwic2VsZWN0aW9uQ2hhbmdlXCIsIHRoaXMub25TZWxDaGFuZ2UpO1xuICAgICAgdGhpcy5wbS5vZmYoXCJ0ZXh0SW5wdXRcIiwgdGhpcy5vblRleHRJbnB1dCk7XG4gICAgICB0aGlzLnBtLnJlbW92ZUtleW1hcChcImlucHV0UnVsZXNcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZFJ1bGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJ1bGVzKHJ1bGVzKSB7XG4gICAgICB0aGlzLnJ1bGVzID0gdGhpcy5ydWxlcy5jb25jYXQocnVsZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVSdWxlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSdWxlcyhydWxlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm91bmQgPSB0aGlzLnJ1bGVzLmluZGV4T2YocnVsZXNbaV0pO1xuICAgICAgICBpZiAoZm91bmQgPiAtMSkgdGhpcy5ydWxlcy5zcGxpY2UoZm91bmQsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblRleHRJbnB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRleHRJbnB1dCh0ZXh0KSB7XG4gICAgICB2YXIgcG9zID0gdGhpcy5wbS5zZWxlY3Rpb24uaGVhZDtcbiAgICAgIGlmICghcG9zKSByZXR1cm47XG5cbiAgICAgIHZhciB0ZXh0QmVmb3JlID0gdW5kZWZpbmVkLFxuICAgICAgICAgIGlzQ29kZSA9IHVuZGVmaW5lZDtcbiAgICAgIHZhciBsYXN0Q2ggPSB0ZXh0W3RleHQubGVuZ3RoIC0gMV07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcnVsZSA9IHRoaXMucnVsZXNbaV0sXG4gICAgICAgICAgICBtYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJ1bGUubGFzdENoYXIgJiYgcnVsZS5sYXN0Q2hhciAhPSBsYXN0Q2gpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodGV4dEJlZm9yZSA9PSBudWxsKSB7XG4gICAgICAgICAgO1xuICAgICAgICAgIHZhciBfZ2V0Q29udGV4dCA9IGdldENvbnRleHQodGhpcy5wbS5kb2MsIHBvcyk7XG5cbiAgICAgICAgICB0ZXh0QmVmb3JlID0gX2dldENvbnRleHQudGV4dEJlZm9yZTtcbiAgICAgICAgICBpc0NvZGUgPSBfZ2V0Q29udGV4dC5pc0NvZGU7XG5cbiAgICAgICAgICBpZiAoaXNDb2RlKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoID0gcnVsZS5tYXRjaC5leGVjKHRleHRCZWZvcmUpKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0VmVyc2lvbiA9IHRoaXMucG0uaGlzdG9yeS5nZXRWZXJzaW9uKCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBydWxlLmhhbmRsZXIgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBvcy5vZmZzZXQgLSAobWF0Y2hbMV0gfHwgbWF0Y2hbMF0pLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBfbW9kZWwuUG9zKHBvcy5wYXRoLCBvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHN0eWxlcyA9ICgwLCBfbW9kZWwuc3BhblN0eWxlc0F0KSh0aGlzLnBtLmRvYywgcG9zKTtcbiAgICAgICAgICAgIHRoaXMucG0udHJbXCJkZWxldGVcIl0oc3RhcnQsIHBvcykuaW5zZXJ0KHN0YXJ0LCB0aGlzLnBtLnNjaGVtYS50ZXh0KHJ1bGUuaGFuZGxlciwgc3R5bGVzKSkuYXBwbHkoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcnVsZS5oYW5kbGVyKHRoaXMucG0sIG1hdGNoLCBwb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmNhbmNlbFZlcnNpb24gPSBzdGFydFZlcnNpb247XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJhY2tzcGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBiYWNrc3BhY2UoKSB7XG4gICAgICBpZiAodGhpcy5jYW5jZWxWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMucG0uaGlzdG9yeS5iYWNrVG9WZXJzaW9uKHRoaXMuY2FuY2VsVmVyc2lvbik7XG4gICAgICAgIHRoaXMuY2FuY2VsVmVyc2lvbiA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIElucHV0UnVsZXM7XG59KSgpO1xuXG5mdW5jdGlvbiBnZXRDb250ZXh0KGRvYywgcG9zKSB7XG4gIHZhciBwYXJlbnQgPSBkb2MucGF0aChwb3MucGF0aCk7XG4gIHZhciBpc0NvZGUgPSBwYXJlbnQudHlwZS5pc0NvZGU7XG4gIHZhciB0ZXh0QmVmb3JlID0gXCJcIjtcbiAgZm9yICh2YXIgb2Zmc2V0ID0gMCwgaSA9IDA7IG9mZnNldCA8IHBvcy5vZmZzZXQ7KSB7XG4gICAgdmFyIGNoaWxkID0gcGFyZW50LmNoaWxkKGkrKyksXG4gICAgICAgIHNpemUgPSBjaGlsZC5vZmZzZXQ7XG4gICAgdGV4dEJlZm9yZSArPSBvZmZzZXQgKyBzaXplID4gcG9zLm9mZnNldCA/IGNoaWxkLnRleHQuc2xpY2UoMCwgcG9zLm9mZnNldCAtIG9mZnNldCkgOiBjaGlsZC50ZXh0O1xuICAgIGlmIChvZmZzZXQgKyBzaXplID49IHBvcy5vZmZzZXQpIHtcbiAgICAgIGlmIChjaGlsZC5zdHlsZXMuc29tZShmdW5jdGlvbiAoc3QpIHtcbiAgICAgICAgcmV0dXJuIHN0LnR5cGUuaXNDb2RlO1xuICAgICAgfSkpIGlzQ29kZSA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2Zmc2V0ICs9IHNpemU7XG4gIH1cbiAgcmV0dXJuIHsgdGV4dEJlZm9yZTogdGV4dEJlZm9yZSwgaXNDb2RlOiBpc0NvZGUgfTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xuXG4oMCwgX2RvbS5pbnNlcnRDU1MpKFwiXFxuXFxuLlByb3NlTWlycm9yLWljb24tbGlmdDphZnRlciB7XFxuICBmb250LWZhbWlseTogUHJvc2VNaXJyb3ItaWNvbnM7XFxuICBjb250ZW50OiBcXFwi7piMXFxcIjtcXG59XFxuLlByb3NlTWlycm9yLWljb24tam9pblVwOmFmdGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIGNvbnRlbnQ6IFxcXCLuqYZcXFwiO1xcbn1cXG4uUHJvc2VNaXJyb3ItaWNvbi1pbnNlcnRJbWFnZTphZnRlciB7XFxuICBmb250LWZhbWlseTogUHJvc2VNaXJyb3ItaWNvbnM7XFxuICBjb250ZW50OiBcXFwi7piGXFxcIjtcXG59XFxuLlByb3NlTWlycm9yLWljb24tc3Ryb25nOmFmdGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIGNvbnRlbnQ6IFxcXCLumIdcXFwiO1xcbn1cXG4uUHJvc2VNaXJyb3ItaWNvbi1lbTphZnRlciB7XFxuICBmb250LWZhbWlseTogUHJvc2VNaXJyb3ItaWNvbnM7XFxuICBjb250ZW50OiBcXFwi7piKXFxcIjtcXG59XFxuLlByb3NlTWlycm9yLWljb24tbGluazphZnRlciwgLlByb3NlTWlycm9yLWljb24tdW5saW5rOmFmdGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIGNvbnRlbnQ6IFxcXCLumIhcXFwiO1xcbn1cXG4uUHJvc2VNaXJyb3ItaWNvbi1jb2RlOmFmdGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIGZvbnQtc2l6ZTogMTEwJTtcXG4gIGNvbnRlbnQ6IFxcXCLumIFcXFwiO1xcbn1cXG4uUHJvc2VNaXJyb3ItaWNvbi13cmFwT3JkZXJlZExpc3Q6YWZ0ZXIge1xcbiAgZm9udC1mYW1pbHk6IFByb3NlTWlycm9yLWljb25zO1xcbiAgZm9udC1zaXplOiAxMTAlO1xcbiAgY29udGVudDogXFxcIu6YhFxcXCI7XFxufVxcbi5Qcm9zZU1pcnJvci1pY29uLXdyYXBCdWxsZXRMaXN0OmFmdGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIGZvbnQtc2l6ZTogMTEwJTtcXG4gIGNvbnRlbnQ6IFxcXCLumINcXFwiO1xcbn1cXG4uUHJvc2VNaXJyb3ItaWNvbi13cmFwQmxvY2tRdW90ZTphZnRlciB7XFxuICBmb250LWZhbWlseTogUHJvc2VNaXJyb3ItaWNvbnM7XFxuICBmb250LXNpemU6IDExMCU7XFxuICBjb250ZW50OiBcXFwi7piCXFxcIjtcXG59XFxuLlByb3NlTWlycm9yLWljb24taW5zZXJ0SG9yaXpvbnRhbFJ1bGU6YWZ0ZXIge1xcbiAgZm9udC1mYW1pbHk6IFByb3NlTWlycm9yLWljb25zO1xcbiAgY29udGVudDogXFxcIu6YgFxcXCI7XFxufVxcbi5Qcm9zZU1pcnJvci1pY29uLXVuZG86YWZ0ZXIge1xcbiAgZm9udC1mYW1pbHk6IFByb3NlTWlycm9yLWljb25zO1xcbiAgY29udGVudDogXFxcIu6lp1xcXCI7XFxufVxcbi5Qcm9zZU1pcnJvci1pY29uLXJlZG86YWZ0ZXIge1xcbiAgZm9udC1mYW1pbHk6IFByb3NlTWlycm9yLWljb25zO1xcbiAgY29udGVudDogXFxcIu6lqFxcXCI7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1pY29uLXNlbGVjdFBhcmVudEJsb2NrOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCLirJpcXFwiO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogMjAlO1xcbn1cXG5cXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBQcm9zZU1pcnJvci1pY29ucztcXG4gIHNyYzogdXJsKGRhdGE6YXBwbGljYXRpb24veC1mb250LXdvZmY7YmFzZTY0LGQwOUdSZ0FCQUFBQUFBMlFBQXNBQUFBQURVUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCUFV5OHlBQUFCQ0FBQUFHQUFBQUJnRHhJRzAyTnRZWEFBQUFGb0FBQUFmQUFBQUh5MnZMWnlaMkZ6Y0FBQUFlUUFBQUFJQUFBQUNBQUFBQkJuYkhsbUFBQUI3QUFBQ1JnQUFBa1lPc0RTREdobFlXUUFBQXNFQUFBQU5nQUFBRFlITTdVcGFHaGxZUUFBQ3p3QUFBQWtBQUFBSkFnTEJCdG9iWFI0QUFBTFlBQUFBRVFBQUFCRU0yNEI1R3h2WTJFQUFBdWtBQUFBSkFBQUFDUU55QkFlYldGNGNBQUFDOGdBQUFBZ0FBQUFJQUFkQUpCdVlXMWxBQUFMNkFBQUFZWUFBQUdHbVVvSiszQnZjM1FBQUExd0FBQUFJQUFBQUNBQUF3QUFBQU1EWXdHUUFBVUFBQUtaQXN3QUFBQ1BBcGtDekFBQUFlc0FNd0VKQUFBQUFBQUFBQUFBQUFBQUFBQUFBUkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBNmtZRHdQL0FBRUFEd0FCQUFBQUFBUUFBQUFBQUFBQUFBQUFBSUFBQUFBQUFBd0FBQUFNQUFBQWNBQUVBQXdBQUFCd0FBd0FCQUFBQUhBQUVBR0FBQUFBVUFCQUFBd0FFQUFFQUlPWUU1Z2ptQ3VZTTZXanFSdi85Ly84QUFBQUFBQ0RtQU9ZRzVncm1ET2xuNmtiLy9mLy9BQUgvNHhvRUdnTWFBaG9CRnFjVnlnQURBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBSC8vd0FQQUFFQUFBQUFBQUFBQUFBQ0FBQTNPUUVBQUFBQUFRQUFBQUFBQUFBQUFBSUFBRGM1QVFBQUFBQUJBQUFBQUFBQUFBQUFBZ0FBTnprQkFBQUFBQUVBVlFHQUE2c0IxUUFTQUFBVElUSVhGaFVVQndZaklTSW5KalUwTnpZemdBTUFFZ3dORFF3Uy9RQVNEQTBOREJJQjFRd05FUklOREF3TkVoRU5EQUFDQUFBQWdBT0FBd0FBQmdBTkFBQUJCeGNIRndrQklRa0JOeWMzSndKZ1lPRGdZQUVnL3VEK3dQN2dBU0JnNE9CZ0F3Qmc0T0JnQVVBQlFQN0Evc0JnNE9CZ0FBSUFBQURBQW9BQ3dBQU5BQnNBQUJNUklSRWpNRFl6TlRBT0FoVWxOVEFPQWhVUklSRWpNRFl6QUFFQWdDQmdVR0JRQW9CUVlGQUJBSUFnWUFIQS93QUJBSUNBQ0RCb1lJQ0FDREJvWVA4QUFRQ0FBQVlBQUFDQUF3QURBQUFFQUFrQURnQVRBQmdBSFFBQUV6TTFJeFVSTXpVakZSRXpOU01WQVNFMUlSVVJJVFVoRlJFaE5TRVZBSUNBZ0lDQWdBRUFBZ0QrQUFJQS9nQUNBUDRBQVlDQWdBRUFnSUQrQUlDQUFRQ0FnQUVBZ0lEK0FJQ0FBQUFGQUFBQWZ3TUFBd0FBQkFBSkFBNEFGZ0F2QUFBQklUVWhGUkVoTlNFVkVSVWhOU0VETXhFakJ4VTNGUmMwSmlNaUJnY1hQZ0V6TWhZVkZBWUhGVE0xQno0Qk5UY0JRQUhBL2tBQndQNUFBY0QrUVBGT0pGVXJiaUUvR1N3T0FSQWdFeE1OTWp6QVd5VXlBUUdBZ0lEL0FJQ0FBb0NBZ1A4QUFRQVhNZ0s1emhzekNBaENCd2dQRFJNMEtUSkRBaFk0SXdFQUJBQUFBQUFFU1FOdUFCQUFGd0FzQUVFQUFBRVVCd1lqSWljbU5UUTNOak15RnhZVkJSRWhOVGNYQVNVaElnY0dGUkVVRnhZeklUSTNOalVSTkNjbUl4Y1JGQWNHSXlFaUp5WTFFVFEzTmpNaE1oY1dGUUZ1SUNBdUxpQWdJQ0F1TGlBZ0FrbjgyN2RjQVNRQkpmeHRCd1VHQmdVSEE1TUhCZ1VGQmdkYkd4c2wvRzBsR3hzYkd5VURreVViR3dKdUxpQWdJQ0F1TFNBZ0lDQXQzUDhBYnJkY0FTV2xCZ1VJL1VrSEJRWUdCUWNDdHdnRkJoUDlTU1ViR3hzYkpRSzNKaHNiR3hzbUFBQURBQUFBQUFNbEEyNEFIZ0E5QUkwQUFDVVdNekkxTkNjbUp5WW5KaWNtSnlZaklnY1VGUlFWRkFjR0Z4UVhGaGNERmpNeU56WTNOamMyTlRRbkppY21KeVlqSWdjVUZ4WVZGQlVVRlJRVkFUYzJOelkzTmpjMk56WTNOalUwUFFFUUp5WW5KaWNtSnlZbkppTW5OamMyTXpJWE1qTXlGeFlYRmhjV0Z4WVZGQWNHQndZSEJnY0dCeFlYRmhVVUJ3WUhCZ2NHQndZaklpY21JeUlIQmdjQlBTb20xeGNRRkJNVEV4c2JGUlVoS2hBQkFRRUNBd1FJR0NZdkl5TWNIQThPRUJFZEhDRWhKaDB0QWdMK3l3RUpLQ2dVQkFNRUFRSUJBZ3dDQ3dvUER3ME9EZzhEQWppS2kwc05HaG9NS0NZbUpDTWFHeEFRQ2drTkRSZ1lFaEVmV0RzN0ZCUWlJUzR0TURBMUdUSXlHanh6Y3hGU0U4QkJKaGtSRVFvSkJRVUJBUVllUFR3ZUJDSWlGaFVhR3dzQnFnUUhDQklTSVNFd0tCNGVFUkVJQ0FnY09qb2REeDRmRHhvTi9nUTJBZ2NIQ0FjSkNBc0tDQWdPRFFZbUFqRVlCUVFEQXdNQkFRSUJNQUVGQmdFSENCQVJHQmdrSXlzZUdSa1FFQkVRQ1FvTkZEazRWamt0TGgwZEZCTUlDQUVDQmdZQkFBTUFDUUFKQTY0RHJnQXJBRmNBZ0FBQUFUUXZBU1lqSWdjV0Z4WVhGaGNXRnhZVkZBY0dJeUluSmljbUp5WW5KaWNHRlJRZkFSWXpNajhCTmpVQk5DOEJKaU1pRHdFR0ZSUWZBUll6TWpjbUp5WW5KaWNtSnlZMU5EYzJNeklYRmhjV0Z4WVhGaGMyTlFFVUR3RUdJeUl2QVNZMU5EY25CaU1pTHdFbU5UUS9BVFl6TWg4QkZoVVVCeGMyTXpJZkFSWVZBMEFRZHhBWEdCRUNDUWtEQXdZRkFnSVFFQmNJQndjSUJ3UURDUWtDRWhCMUVCY1hFRlFRL200UWRSQVhGeEJVRUJCM0R4Z1lFUUlKQ1FNRUJRVUNBaEFRRmdrSEJ3Z0hCQU1KQ1FFVEFnQXhWQzlGUlM5Mk1ETXpNVVZGTUhjd01WUXZSVVV2ZGk4eU1qSkZSVEIzTUFFQUZ4QjNFQk1CQ1FrREJBY0lCd2NKRmhBUUFnSUZCUVFEQ1FrQ0VoZ1hFSFlRRDFRUUZnR1RGeEIyRUE5VUVCWVhFSGNQRVFJSkNRTUVCd2dIQndnWEVCQUNBZ1VHQXdNSkNRSVNHUDV0UlM5VE1ERjJMMFZHTVRNek1IY3dSVVF3VXpBeGRqQkVSakl5TWpCMk1FVUFBQUVBQUFBQUFra0RiZ0JPQUFBL0FUWTNOamMyTnpZM05qYzJQUUVtSnlZbkppYzNGaGNXRnhZek1qYzJOelkzQmdjR0J3WUhCZ2NHQndZSEJnY0dCd1lIQmdjR0J3WUhCaFVYRmhjR0J5SUhCaU1pSnlZakppTWlCd1lIQUFvREt5c1ZFQWNCSXlNZUhnNFJFaFlXQ3dzU01qSWtJeUVjSFIwb0tCQURDQkVwS1JVRUJBTUNBZ0lEQVE4aklnb0JCd1lGQlFRRUFRcGdBZ2NIREF3SEVDRWhFRThuSFRVMEVRRXhBUXNMQ2hRbUJLR2hscFVVRHdjREF3SUJBanNCQXdNQkFRRUJBd01CRnh3R0Nnc0pDZzROQ2drUkVBaFVtNXd3QlJ3Y0Z4Z1lHQWtLQWhBWkh3RUJCZ1VDQmdVQkFBVUFBQUJKQkFBRGJnQVRBQ2dBUFFCU0FHY0FBQk1SRkFjR0l5SXZBU1kxTkQ4Qk5qTXlGeFlWQVJVVUJ3WWpJU0luSmowQk5EYzJNeUV5RnhZVk5SVVVCd1lqSVNJbkpqMEJORGMyTXlFeUZ4WVZOUlVVQndZaklTSW5KajBCTkRjMk15RXlGeFlWTlJVVUJ3WWpJU0luSmowQk5EYzJNeUV5RnhZVjJ3VUZDQWdGcFFVRnBRVUlDQVVGQXlVRkJnZjhKQWNHQlFVR0J3UGNCd1lGQlFZSC9aSUhCZ1VGQmdjQ2JnY0dCUVVHQi8yU0J3WUZCUVlIQW00SEJnVUZCZ2Y4SkFjR0JRVUdCd1BjQndZRkFvRCt0d2dGQlFXa0JRZ0lCcVFGQlFZSC9rbHVCd1VHQmdVSGJnZ0ZCUVVGQ054dUNBVUZCUVVJYmdjRkJnWUZCOXR1QndZRkJRWUhiZ2NHQlFVR0I5dHRDQVVHQmdVSWJRZ0ZCZ1lGQ0FBQUFBRUFRUC9BQXZvRHdBQU9BQUFGUGdFdUFRY1ZDUUVWTmg0QkFnY0MraXNtT0t1by9vQUJnTW5qUms5cFFFMjJtbVVFL2dHQUFZRDRCWnpzL3UxeUFBQUJBUWIvd0FQQUE4QUFEZ0FBQVRVSkFUVW1EZ0VXRnlZQ1BnRVhBa0FCZ1A2QXFLczRKaXRwVDBianlRTEkrUDZBL29EK0JHV2F0azF5QVJQc25BVUFDd0JBQUFBRG9BTUFBQVlBQ3dBUUFCVUFHZ0FmQUNRQUtRQXVBRE1BT0FBQUFSRXpFVE1uQndFekZTTTFPd0VWSXpVN0FSVWpOUVV6RlNNMUZ6TVZJelU3QVJVak5TY3pGU00xQlRNVkl6VVJGU00xTXpjaEVTRVJBc0JBb01EQS9pQmdZSUJnWUlCQVFQOEFRRUJnWUdDQVlHRGdRRUFCQUVCQXdNQkEvc0FCUUFIQS9vQUJnTURBQVVCQVFFQkFZR0RnWUdBZ1FFQkFRS0JnWUNCZ1lQNkF3TUJBL3NBQlFBQUFBQUVBQUFBQUFBQnBXUTFqWHc4ODlRQUxCQUFBQUFBQTBlWTRWZ0FBQUFEUjVqaFdBQUQvd0FSSkE4QUFBQUFJQUFJQUFBQUFBQUFBQVFBQUE4RC93QUFBQkVrQUFBQUFCRWtBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQkVFQUFBQUFBQUFBQUFBQUFBQ0FBQUFCQUFBVlFPQUFBQUNnQUFBQXdBQUFBTUFBQUFFU1FBQUF5VUFBQU8zQUFrQ1NRQUFCQUFBQUFRQUFFQUVBQUVHQkFBQVFBQUFBQUFBQ2dBVUFCNEFQZ0JnQUlvQXZBRUdBV29DTkFMdUEyWUQ5Z1FXQkRZRWpBQUJBQUFBRVFDT0FBc0FBQUFBQUFJQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQURnQ3VBQUVBQUFBQUFBRUFCd0FBQUFFQUFBQUFBQUlBQndCZ0FBRUFBQUFBQUFNQUJ3QTJBQUVBQUFBQUFBUUFCd0IxQUFFQUFBQUFBQVVBQ3dBVkFBRUFBQUFBQUFZQUJ3QkxBQUVBQUFBQUFBb0FHZ0NLQUFNQUFRUUpBQUVBRGdBSEFBTUFBUVFKQUFJQURnQm5BQU1BQVFRSkFBTUFEZ0E5QUFNQUFRUUpBQVFBRGdCOEFBTUFBUVFKQUFVQUZnQWdBQU1BQVFRSkFBWUFEZ0JTQUFNQUFRUUpBQW9BTkFDa2FXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVWbVZ5YzJsdmJpQXhMakFBVmdCbEFISUFjd0JwQUc4QWJnQWdBREVBTGdBd2FXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVhV052Ylc5dmJnQnBBR01BYndCdEFHOEFid0J1VW1WbmRXeGhjZ0JTQUdVQVp3QjFBR3dBWVFCeWFXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVSbTl1ZENCblpXNWxjbUYwWldRZ1lua2dTV052VFc5dmJpNEFSZ0J2QUc0QWRBQWdBR2NBWlFCdUFHVUFjZ0JoQUhRQVpRQmtBQ0FBWWdCNUFDQUFTUUJqQUc4QVRRQnZBRzhBYmdBdUFBQUFBd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PSkgZm9ybWF0KCd3b2ZmJyk7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbn1cXG5cXG5cIik7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZXhwb3J0cy5zaG93U2VsZWN0TWVudSA9IHNob3dTZWxlY3RNZW51O1xuZXhwb3J0cy5yZWFkUGFyYW1zID0gcmVhZFBhcmFtcztcbmV4cG9ydHMuY29tbWFuZEdyb3VwcyA9IGNvbW1hbmRHcm91cHM7XG5leHBvcnRzLmZvcmNlRm9udExvYWQgPSBmb3JjZUZvbnRMb2FkO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF90b29sdGlwID0gcmVxdWlyZShcIi4vdG9vbHRpcFwiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xuXG52YXIgX2VkaXQgPSByZXF1aXJlKFwiLi4vZWRpdFwiKTtcblxudmFyIF91dGlsU29ydGVkaW5zZXJ0ID0gcmVxdWlyZShcIi4uL3V0aWwvc29ydGVkaW5zZXJ0XCIpO1xuXG52YXIgX3V0aWxTb3J0ZWRpbnNlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbFNvcnRlZGluc2VydCk7XG5cbnZhciBNZW51ID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVudShwbSwgZGlzcGxheSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51KTtcblxuICAgIHRoaXMuZGlzcGxheSA9IGRpc3BsYXk7XG4gICAgdGhpcy5zdGFjayA9IFtdO1xuICAgIHRoaXMucG0gPSBwbTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNZW51LCBbe1xuICAgIGtleTogXCJzaG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coY29udGVudCwgZGlzcGxheUluZm8pIHtcbiAgICAgIHRoaXMuc3RhY2subGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZW50ZXIoY29udGVudCwgZGlzcGxheUluZm8pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuc3RhY2subGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZGlzcGxheS5yZXNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbnRlcihjb250ZW50LCBkaXNwbGF5SW5mbykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHBpZWNlcyA9IFtdLFxuICAgICAgICAgIGV4cGxvcmUgPSBmdW5jdGlvbiBleHBsb3JlKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cGxvcmUodmFsdWVbaV0pO1xuICAgICAgICAgIH1waWVjZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZS5zZWxlY3QgfHwgdmFsdWUuc2VsZWN0KF90aGlzLnBtKSkge1xuICAgICAgICAgIHBpZWNlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGV4cGxvcmUoY29udGVudCk7XG4gICAgICAvLyBSZW1vdmUgc3VwZXJmbHVvdXMgc2VwYXJhdG9yc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBpZWNlc1tpXSA9PSBzZXBhcmF0b3IgJiYgKGkgPT0gMCB8fCBpID09IHBpZWNlcy5sZW5ndGggLSAxIHx8IHBpZWNlc1tpICsgMV0gPT0gc2VwYXJhdG9yKSkgcGllY2VzLnNwbGljZShpLS0sIDEpO1xuICAgICAgfWlmICghcGllY2VzLmxlbmd0aCkgcmV0dXJuIHRoaXMuZGlzcGxheS5jbGVhcigpO1xuXG4gICAgICB0aGlzLnN0YWNrLnB1c2gocGllY2VzKTtcbiAgICAgIHRoaXMuZHJhdyhkaXNwbGF5SW5mbyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhkaXNwbGF5SW5mbykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjdXIgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICB2YXIgcmVuZGVyZWQgPSAoMCwgX2RvbS5lbHQpKFwiZGl2XCIsIHsgXCJjbGFzc1wiOiBcIlByb3NlTWlycm9yLW1lbnVcIiB9LCBjdXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJJdGVtKGl0ZW0sIF90aGlzMik7XG4gICAgICB9KSk7XG4gICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPiAxKSB0aGlzLmRpc3BsYXkuZW50ZXIocmVuZGVyZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5sZWF2ZSgpO1xuICAgICAgfSwgZGlzcGxheUluZm8pO2Vsc2UgdGhpcy5kaXNwbGF5LnNob3cocmVuZGVyZWQsIGRpc3BsYXlJbmZvKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmUoKSB7XG4gICAgICB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKSB0aGlzLmRyYXcoKTtlbHNlIHRoaXMuZGlzcGxheS5yZXNldCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YWNrLmxlbmd0aCA+IDE7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lbnU7XG59KSgpO1xuXG5leHBvcnRzLk1lbnUgPSBNZW51O1xuXG52YXIgVG9vbHRpcERpc3BsYXkgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUb29sdGlwRGlzcGxheSh0b29sdGlwLCByZXNldEZ1bmMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcERpc3BsYXkpO1xuXG4gICAgdGhpcy50b29sdGlwID0gdG9vbHRpcDtcbiAgICB0aGlzLnJlc2V0RnVuYyA9IHJlc2V0RnVuYztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUb29sdGlwRGlzcGxheSwgW3tcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLnRvb2x0aXAuY2xvc2UoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBpZiAodGhpcy5yZXNldEZ1bmMpIHRoaXMucmVzZXRGdW5jKCk7ZWxzZSB0aGlzLmNsZWFyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhkb20sIGluZm8pIHtcbiAgICAgIHRoaXMudG9vbHRpcC5vcGVuKGRvbSwgaW5mbyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVudGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVudGVyKGRvbSwgYmFjaywgaW5mbykge1xuICAgICAgdmFyIGJ1dHRvbiA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItdG9vbHRpcC1iYWNrXCIsIHRpdGxlOiBcIkJhY2tcIiB9KTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBiYWNrKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2hvdygoMCwgX2RvbS5lbHQpKFwiZGl2XCIsIHsgXCJjbGFzc1wiOiBcIlByb3NlTWlycm9yLXRvb2x0aXAtYmFjay13cmFwcGVyXCIgfSwgZG9tLCBidXR0b24pLCBpbmZvKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG9vbHRpcERpc3BsYXk7XG59KSgpO1xuXG5leHBvcnRzLlRvb2x0aXBEaXNwbGF5ID0gVG9vbHRpcERpc3BsYXk7XG5cbmZ1bmN0aW9uIHRpdGxlKHBtLCBjb21tYW5kKSB7XG4gIHZhciBrZXkgPSBwbS5rZXlGb3JDb21tYW5kKGNvbW1hbmQubmFtZSk7XG4gIHJldHVybiBrZXkgPyBjb21tYW5kLmxhYmVsICsgXCIgKFwiICsga2V5ICsgXCIpXCIgOiBjb21tYW5kLmxhYmVsO1xufVxuXG5mdW5jdGlvbiByZW5kZXJJY29uKGNvbW1hbmQsIG1lbnUpIHtcbiAgdmFyIGljb25DbGFzcyA9IFwiUHJvc2VNaXJyb3ItbWVudWljb25cIjtcbiAgaWYgKGNvbW1hbmQuYWN0aXZlKG1lbnUucG0pKSBpY29uQ2xhc3MgKz0gXCIgUHJvc2VNaXJyb3ItbWVudWljb24tYWN0aXZlXCI7XG5cbiAgdmFyIGRvbSA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IGljb25DbGFzcywgdGl0bGU6IHRpdGxlKG1lbnUucG0sIGNvbW1hbmQpIH0sICgwLCBfZG9tLmVsdCkoXCJzcGFuXCIsIHsgXCJjbGFzc1wiOiBcIlByb3NlTWlycm9yLW1lbnVpY29uIFByb3NlTWlycm9yLWljb24tXCIgKyBjb21tYW5kLm5hbWUgfSkpO1xuICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghY29tbWFuZC5wYXJhbXMubGVuZ3RoKSB7XG4gICAgICBjb21tYW5kLmV4ZWMobWVudS5wbSk7XG4gICAgICBtZW51LnJlc2V0KCk7XG4gICAgfSBlbHNlIGlmIChjb21tYW5kLnBhcmFtcy5sZW5ndGggPT0gMSAmJiBjb21tYW5kLnBhcmFtc1swXS50eXBlID09IFwic2VsZWN0XCIpIHtcbiAgICAgIHNob3dTZWxlY3RNZW51KG1lbnUucG0sIGNvbW1hbmQsIGRvbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lbnUuZW50ZXIocmVhZFBhcmFtcyhjb21tYW5kKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRvbTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2VsZWN0KGl0ZW0sIG1lbnUpIHtcbiAgdmFyIHBhcmFtID0gaXRlbS5wYXJhbXNbMF07XG4gIHZhciB2YWx1ZSA9ICFwYXJhbVtcImRlZmF1bHRcIl0gPyBudWxsIDogcGFyYW1bXCJkZWZhdWx0XCJdLmNhbGwgPyBwYXJhbVtcImRlZmF1bHRcIl0obWVudS5wbSkgOiBwYXJhbVtcImRlZmF1bHRcIl07XG5cbiAgdmFyIGRvbSA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3Itc2VsZWN0IFByb3NlTWlycm9yLXNlbGVjdC1jb21tYW5kLVwiICsgaXRlbS5uYW1lLCB0aXRsZTogaXRlbS5sYWJlbCB9LCAhdmFsdWUgPyBwYXJhbS5kZWZhdWx0TGFiZWwgfHwgXCJTZWxlY3QuLi5cIiA6IHZhbHVlLmRpc3BsYXkgPyB2YWx1ZS5kaXNwbGF5KHZhbHVlKSA6IHZhbHVlLmxhYmVsKTtcbiAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7ZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzaG93U2VsZWN0TWVudShtZW51LnBtLCBpdGVtLCBkb20pO1xuICB9KTtcbiAgcmV0dXJuIGRvbTtcbn1cblxuZnVuY3Rpb24gc2hvd1NlbGVjdE1lbnUocG0sIGl0ZW0sIGRvbSkge1xuICB2YXIgcGFyYW0gPSBpdGVtLnBhcmFtc1swXTtcbiAgdmFyIG9wdGlvbnMgPSBwYXJhbS5vcHRpb25zLmNhbGwgPyBwYXJhbS5vcHRpb25zKHBtKSA6IHBhcmFtLm9wdGlvbnM7XG4gIHZhciBtZW51ID0gKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogXCJQcm9zZU1pcnJvci1zZWxlY3QtbWVudVwiIH0sIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGRvbSA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgbnVsbCwgby5kaXNwbGF5ID8gby5kaXNwbGF5KG8pIDogby5sYWJlbCk7XG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGl0ZW0uZXhlYyhwbSwgW28udmFsdWVdKTtcbiAgICAgIGZpbmlzaCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBkb207XG4gIH0pKTtcbiAgdmFyIHBvcyA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGJveCA9IHBtLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIG1lbnUuc3R5bGUubGVmdCA9IHBvcy5sZWZ0IC0gYm94LmxlZnQgLSAyICsgXCJweFwiO1xuICBtZW51LnN0eWxlLnRvcCA9IHBvcy50b3AgLSBib3gudG9wIC0gMiArIFwicHhcIjtcblxuICB2YXIgZG9uZSA9IGZhbHNlO1xuICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZmluaXNoKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZpbmlzaCk7XG4gICAgcG0ud3JhcHBlci5yZW1vdmVDaGlsZChtZW51KTtcbiAgfVxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZmluaXNoKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmaW5pc2gpO1xuICBwbS53cmFwcGVyLmFwcGVuZENoaWxkKG1lbnUpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJJdGVtKGl0ZW0sIG1lbnUpIHtcbiAgaWYgKGl0ZW0uZGlzcGxheSA9PSBcImljb25cIikgcmV0dXJuIHJlbmRlckljb24oaXRlbSwgbWVudSk7ZWxzZSBpZiAoaXRlbS5kaXNwbGF5ID09IFwic2VsZWN0XCIpIHJldHVybiByZW5kZXJTZWxlY3QoaXRlbSwgbWVudSk7ZWxzZSBpZiAoIWl0ZW0uZGlzcGxheSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tbWFuZCBcIiArIGl0ZW0ubmFtZSArIFwiIGNhbiBub3QgYmUgc2hvd24gaW4gYSBtZW51XCIpO2Vsc2UgcmV0dXJuIGl0ZW0uZGlzcGxheShtZW51KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRQYXJhbUZvcm0ocG0sIGNvbW1hbmQpIHtcbiAgdmFyIHByZWZpbGwgPSBjb21tYW5kLmluZm8ucHJlZmlsbFBhcmFtcyAmJiBjb21tYW5kLmluZm8ucHJlZmlsbFBhcmFtcyhwbSk7XG4gIHZhciBmaWVsZHMgPSBjb21tYW5kLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtLCBpKSB7XG4gICAgdmFyIGZpZWxkID0gdW5kZWZpbmVkLFxuICAgICAgICBuYW1lID0gXCJmaWVsZF9cIiArIGk7XG4gICAgdmFyIHZhbCA9IHByZWZpbGwgPyBwcmVmaWxsW2ldIDogcGFyYW1bXCJkZWZhdWx0XCJdIHx8IFwiXCI7XG4gICAgaWYgKHBhcmFtLnR5cGUgPT0gXCJ0ZXh0XCIpIGZpZWxkID0gKDAsIF9kb20uZWx0KShcImlucHV0XCIsIHsgbmFtZTogbmFtZSwgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBwbGFjZWhvbGRlcjogcGFyYW0ubmFtZSxcbiAgICAgIHZhbHVlOiB2YWwsXG4gICAgICBhdXRvY29tcGxldGU6IFwib2ZmXCIgfSk7ZWxzZSBpZiAocGFyYW0udHlwZSA9PSBcInNlbGVjdFwiKSBmaWVsZCA9ICgwLCBfZG9tLmVsdCkoXCJzZWxlY3RcIiwgeyBuYW1lOiBuYW1lIH0sIChwYXJhbS5vcHRpb25zLmNhbGwgPyBwYXJhbS5vcHRpb25zKHBtKSA6IHBhcmFtLm9wdGlvbnMpLm1hcChmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuICgwLCBfZG9tLmVsdCkoXCJvcHRpb25cIiwgeyB2YWx1ZTogby52YWx1ZSwgc2VsZWN0ZWQ6IG8gPT0gdmFsIH0sIG8ubGFiZWwpO1xuICAgIH0pKTtlbHNlIC8vIEZJWE1FIG1vcmUgdHlwZXNcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhcmFtZXRlciB0eXBlOiBcIiArIHBhcmFtLnR5cGUpO1xuICAgIHJldHVybiAoMCwgX2RvbS5lbHQpKFwiZGl2XCIsIG51bGwsIGZpZWxkKTtcbiAgfSk7XG4gIHJldHVybiAoMCwgX2RvbS5lbHQpKFwiZm9ybVwiLCBudWxsLCBmaWVsZHMpO1xufVxuXG5mdW5jdGlvbiBnYXRoZXJQYXJhbXMocG0sIGNvbW1hbmQsIGZvcm0pIHtcbiAgdmFyIGJhZCA9IGZhbHNlO1xuICB2YXIgcGFyYW1zID0gY29tbWFuZC5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaSkge1xuICAgIHZhciB2YWwgPSBmb3JtLmVsZW1lbnRzW1wiZmllbGRfXCIgKyBpXS52YWx1ZTtcbiAgICBpZiAodmFsKSByZXR1cm4gdmFsO1xuICAgIGlmIChwYXJhbVtcImRlZmF1bHRcIl0gPT0gbnVsbCkgYmFkID0gdHJ1ZTtlbHNlIHJldHVybiBwYXJhbVtcImRlZmF1bHRcIl0uY2FsbCA/IHBhcmFtW1wiZGVmYXVsdFwiXShwbSkgOiBwYXJhbVtcImRlZmF1bHRcIl07XG4gIH0pO1xuICByZXR1cm4gYmFkID8gbnVsbCA6IHBhcmFtcztcbn1cblxuZnVuY3Rpb24gcGFyYW1Gb3JtKHBtLCBjb21tYW5kLCBjYWxsYmFjaykge1xuICB2YXIgZm9ybSA9IGJ1aWxkUGFyYW1Gb3JtKHBtLCBjb21tYW5kKSxcbiAgICAgIGRvbmUgPSBmYWxzZTtcblxuICB2YXIgZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKHJlc3VsdCkge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc3VibWl0ID0gZnVuY3Rpb24gc3VibWl0KCkge1xuICAgIC8vIEZJWE1FIGVycm9yIG1lc3NhZ2VzXG4gICAgZmluaXNoKGdhdGhlclBhcmFtcyhwbSwgY29tbWFuZCwgZm9ybSkpO1xuICB9O1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc3VibWl0KCk7XG4gIH0pO1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgZmluaXNoKG51bGwpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzICYmICEoZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc3VibWl0KCk7XG4gICAgfVxuICB9KTtcbiAgLy8gRklYTUUgdG9vIGhhY2t5P1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCwgdGV4dGFyZWFcIik7XG4gICAgaWYgKGlucHV0KSBpbnB1dC5mb2N1cygpO1xuICB9LCAyMCk7XG5cbiAgcmV0dXJuIGZvcm07XG59XG5cbmZ1bmN0aW9uIHJlYWRQYXJhbXMoY29tbWFuZCkge1xuICByZXR1cm4geyBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KG1lbnUpIHtcbiAgICAgIHJldHVybiBwYXJhbUZvcm0obWVudS5wbSwgY29tbWFuZCwgZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBtZW51LnBtLmZvY3VzKCk7XG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICBjb21tYW5kLmV4ZWMobWVudS5wbSwgcGFyYW1zKTtcbiAgICAgICAgICBtZW51LnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVudS5sZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IH07XG59XG5cbnZhciBzZXBhcmF0b3IgPSB7XG4gIGRpc3BsYXk6IGZ1bmN0aW9uIGRpc3BsYXkoKSB7XG4gICAgcmV0dXJuICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItbWVudXNlcGFyYXRvclwiIH0pO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjb21tYW5kR3JvdXBzKHBtKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBuYW1lcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBuYW1lc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gbmFtZXMubWFwKGZ1bmN0aW9uIChncm91cCkge1xuICAgIHZhciBmb3VuZCA9IFtdO1xuICAgIGZvciAodmFyIF9uYW1lIGluIHBtLmNvbW1hbmRzKSB7XG4gICAgICB2YXIgY21kID0gcG0uY29tbWFuZHNbX25hbWVdO1xuICAgICAgaWYgKGNtZC5pbmZvLm1lbnVHcm91cCAmJiBjbWQuaW5mby5tZW51R3JvdXAgPT0gZ3JvdXApICgwLCBfdXRpbFNvcnRlZGluc2VydDJbXCJkZWZhdWx0XCJdKShmb3VuZCwgY21kLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEuaW5mby5tZW51UmFuayB8fCA1MCkgLSAoYi5pbmZvLm1lbnVSYW5rIHx8IDUwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH0pO1xufVxuXG4vLyBBd2t3YXJkIGhhY2sgdG8gZm9yY2UgQ2hyb21lIHRvIGluaXRpYWxpemUgdGhlIGZvbnQgYW5kIG5vdCByZXR1cm5cbi8vIGluY29ycmVjdCBzaXplIGluZm9ybWF0aW9uIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHVzZWQuXG5cbnZhciBmb3JjZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gZm9yY2VGb250TG9hZChwbSkge1xuICBpZiAoZm9yY2VkKSByZXR1cm47XG4gIGZvcmNlZCA9IHRydWU7XG5cbiAgdmFyIG5vZGUgPSBwbS53cmFwcGVyLmFwcGVuZENoaWxkKCgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItbWVudWljb24gUHJvc2VNaXJyb3ItaWNvbi1zdHJvbmdcIixcbiAgICBzdHlsZTogXCJ2aXNpYmlsaXR5OiBoaWRkZW47IHBvc2l0aW9uOiBhYnNvbHV0ZVwiIH0pKTtcbiAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwbS53cmFwcGVyLnJlbW92ZUNoaWxkKG5vZGUpO1xuICB9LCAyMCk7XG59XG5cbmZ1bmN0aW9uIHRvb2x0aXBQYXJhbUhhbmRsZXIocG0sIGNvbW1hbmQsIGNhbGxiYWNrKSB7XG4gIHZhciB0b29sdGlwID0gbmV3IF90b29sdGlwLlRvb2x0aXAocG0sIFwiY2VudGVyXCIpO1xuICB0b29sdGlwLm9wZW4ocGFyYW1Gb3JtKHBtLCBjb21tYW5kLCBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgcG0uZm9jdXMoKTtcbiAgICB0b29sdGlwLmNsb3NlKCk7XG4gICAgY2FsbGJhY2socGFyYW1zKTtcbiAgfSkpO1xufVxuXG4oMCwgX2VkaXQuZGVmaW5lUGFyYW1IYW5kbGVyKShcImRlZmF1bHRcIiwgdG9vbHRpcFBhcmFtSGFuZGxlcik7XG4oMCwgX2VkaXQuZGVmaW5lUGFyYW1IYW5kbGVyKShcInRvb2x0aXBcIiwgdG9vbHRpcFBhcmFtSGFuZGxlcik7XG5cbi8vIEZJWE1FIGNoZWNrIGZvciBvYnNvbGV0ZSBzdHlsZXNcbigwLCBfZG9tLmluc2VydENTUykoXCJcXG5cXG4uUHJvc2VNaXJyb3ItbWVudSB7XFxuICBtYXJnaW46IDAgLTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG59XFxuLlByb3NlTWlycm9yLXRvb2x0aXAgLlByb3NlTWlycm9yLW1lbnUge1xcbiAgd2lkdGg6IC13ZWJraXQtZml0LWNvbnRlbnQ7XFxuICB3aWR0aDogZml0LWNvbnRlbnQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvci10b29sdGlwLWJhY2std3JhcHBlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDEycHg7XFxufVxcbi5Qcm9zZU1pcnJvci10b29sdGlwLWJhY2sge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1cHg7IGxlZnQ6IDVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLlByb3NlTWlycm9yLXRvb2x0aXAtYmFjazphZnRlciB7XFxuICBjb250ZW50OiBcXFwiwqtcXFwiO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItbWVudWljb24ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcGFkZGluZzogMXB4IDRweDtcXG4gIG1hcmdpbjogMCAycHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB0ZXh0LXJlbmRlcmluZzogYXV0bztcXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1tZW51aWNvbi1hY3RpdmUge1xcbiAgYmFja2dyb3VuZDogIzY2NjtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuXFxuLlByb3NlTWlycm9yLW1lbnVzZXBhcmF0b3Ige1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4uUHJvc2VNaXJyb3ItbWVudXNlcGFyYXRvcjphZnRlciB7XFxuICBjb250ZW50OiBcXFwi77iZXFxcIjtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIHBhZGRpbmc6IDAgNHB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuXFxuLlByb3NlTWlycm9yLXNlbGVjdCwgLlByb3NlTWlycm9yLXNlbGVjdC1tZW51IHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBmb250LXNpemU6IDkwJTtcXG59XFxuXFxuLlByb3NlTWlycm9yLXNlbGVjdCB7XFxuICBwYWRkaW5nOiAxcHggMTJweCAxcHggNHB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbjogMCA0cHg7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1zZWxlY3QtY29tbWFuZC10ZXh0YmxvY2tUeXBlIHtcXG4gIG1pbi13aWR0aDogMy4yZW07XFxufVxcblxcbi5Qcm9zZU1pcnJvci1zZWxlY3Q6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIuKWv1xcXCI7XFxuICBjb2xvcjogIzc3NztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiA0cHg7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1zZWxlY3QtbWVudSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiAjNDQ0O1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogMnB4IDJweDtcXG4gIHotaW5kZXg6IDE1O1xcbn1cXG4uUHJvc2VNaXJyb3Itc2VsZWN0LW1lbnUgZGl2IHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHBhZGRpbmc6IDAgMWVtIDAgMnB4O1xcbn1cXG4uUHJvc2VNaXJyb3Itc2VsZWN0LW1lbnUgZGl2OmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6ICM3Nzc7XFxufVxcblxcblwiKTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgX2VkaXQgPSByZXF1aXJlKFwiLi4vZWRpdFwiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xuXG52YXIgX3V0aWxEZWJvdW5jZSA9IHJlcXVpcmUoXCIuLi91dGlsL2RlYm91bmNlXCIpO1xuXG52YXIgX21lbnUgPSByZXF1aXJlKFwiLi9tZW51XCIpO1xuXG5yZXF1aXJlKFwiLi9pY29uc1wiKTtcblxuKDAsIF9lZGl0LmRlZmluZU9wdGlvbikoXCJtZW51QmFyXCIsIGZhbHNlLCBmdW5jdGlvbiAocG0sIHZhbHVlKSB7XG4gIGlmIChwbS5tb2QubWVudUJhcikgcG0ubW9kLm1lbnVCYXIuZGV0YWNoKCk7XG4gIHBtLm1vZC5tZW51QmFyID0gdmFsdWUgPyBuZXcgTWVudUJhcihwbSwgdmFsdWUpIDogbnVsbDtcbn0pO1xuXG52YXIgQmFyRGlzcGxheSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhckRpc3BsYXkoY29udGFpbmVyLCByZXNldEZ1bmMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFyRGlzcGxheSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnJlc2V0RnVuYyA9IHJlc2V0RnVuYztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCYXJEaXNwbGF5LCBbe1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB0aGlzLnJlc2V0RnVuYygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coZG9tKSB7XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkb20pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbnRlcihkb20sIGJhY2spIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGN1cnJlbnQuc3R5bGUub3BhY2l0eSA9IFwiMC41XCI7XG4gICAgICB9XG4gICAgICB2YXIgYmFja0J1dHRvbiA9ICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItbWVudWJhci1iYWNrXCIgfSk7XG4gICAgICBiYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO2Uuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGJhY2soKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGFkZGVkID0gKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogXCJQcm9zZU1pcnJvci1tZW51YmFyLXNsaWRpbmdcIiB9LCBiYWNrQnV0dG9uLCBkb20pO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkZWQpO1xuICAgICAgYWRkZWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIEZvcmNlIGxheW91dCBmb3IgdHJhbnNpdGlvblxuICAgICAgYWRkZWQuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgYWRkZWQuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudE5vZGUpIGN1cnJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdXJyZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCYXJEaXNwbGF5O1xufSkoKTtcblxudmFyIE1lbnVCYXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNZW51QmFyKHBtLCBjb25maWcpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lbnVCYXIpO1xuXG4gICAgdGhpcy5wbSA9IHBtO1xuXG4gICAgdGhpcy5tZW51RWx0ID0gKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogXCJQcm9zZU1pcnJvci1tZW51YmFyLWlubmVyXCIgfSk7XG4gICAgdGhpcy53cmFwcGVyID0gKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogXCJQcm9zZU1pcnJvci1tZW51YmFyXCIgfSxcbiAgICAvLyBIZWlnaHQtZm9yY2luZyBwbGFjZWhvbGRlclxuICAgICgwLCBfZG9tLmVsdCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItbWVudVwiLCBzdHlsZTogXCJ2aXNpYmlsaXR5OiBoaWRkZW5cIiB9LCAoMCwgX2RvbS5lbHQpKFwiZGl2XCIsIHsgXCJjbGFzc1wiOiBcIlByb3NlTWlycm9yLW1lbnVpY29uXCIgfSwgKDAsIF9kb20uZWx0KShcInNwYW5cIiwgeyBcImNsYXNzXCI6IFwiUHJvc2VNaXJyb3ItbWVudWljb24gUHJvc2VNaXJyb3ItaWNvbi1zdHJvbmdcIiB9KSkpLCB0aGlzLm1lbnVFbHQpO1xuICAgIHBtLndyYXBwZXIuaW5zZXJ0QmVmb3JlKHRoaXMud3JhcHBlciwgcG0ud3JhcHBlci5maXJzdENoaWxkKTtcblxuICAgIHRoaXMubWVudSA9IG5ldyBfbWVudS5NZW51KHBtLCBuZXcgQmFyRGlzcGxheSh0aGlzLm1lbnVFbHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5yZXNldE1lbnUoKTtcbiAgICB9KSk7XG4gICAgdGhpcy5kZWJvdW5jZWQgPSBuZXcgX3V0aWxEZWJvdW5jZS5EZWJvdW5jZWQocG0sIDEwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIHBtLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsIHRoaXMudXBkYXRlRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5kZWJvdW5jZWQudHJpZ2dlcigpO1xuICAgIH0pO1xuICAgIHBtLm9uKFwiY2hhbmdlXCIsIHRoaXMudXBkYXRlRnVuYyk7XG4gICAgcG0ub24oXCJhY3RpdmVTdHlsZUNoYW5nZVwiLCB0aGlzLnVwZGF0ZUZ1bmMpO1xuXG4gICAgdGhpcy5tZW51SXRlbXMgPSBjb25maWcgJiYgY29uZmlnLml0ZW1zIHx8ICgwLCBfbWVudS5jb21tYW5kR3JvdXBzKShwbSwgXCJpbmxpbmVcIiwgXCJibG9ja1wiLCBcImhpc3RvcnlcIik7XG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHRoaXMuZmxvYXRpbmcgPSBmYWxzZTtcbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5mbG9hdCkge1xuICAgICAgdGhpcy51cGRhdGVGbG9hdCgpO1xuICAgICAgdGhpcy5zY3JvbGxGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkuY29udGFpbnMoX3RoaXMucG0ud3JhcHBlcikpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIF90aGlzLnNjcm9sbEZ1bmMpO2Vsc2UgX3RoaXMudXBkYXRlRmxvYXQoKTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEZ1bmMpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNZW51QmFyLCBbe1xuICAgIGtleTogXCJkZXRhY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgdGhpcy5kZWJvdW5jZWQuY2xlYXIoKTtcbiAgICAgIHRoaXMud3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMud3JhcHBlcik7XG5cbiAgICAgIHRoaXMucG0ub2ZmKFwic2VsZWN0aW9uQ2hhbmdlXCIsIHRoaXMudXBkYXRlRnVuYyk7XG4gICAgICB0aGlzLnBtLm9mZihcImNoYW5nZVwiLCB0aGlzLnVwZGF0ZUZ1bmMpO1xuICAgICAgdGhpcy5wbS5vZmYoXCJhY3RpdmVTdHlsZUNoYW5nZVwiLCB0aGlzLnVwZGF0ZUZ1bmMpO1xuICAgICAgaWYgKHRoaXMuc2Nyb2xsRnVuYykgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxGdW5jKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIGlmICghdGhpcy5tZW51LmFjdGl2ZSkgdGhpcy5yZXNldE1lbnUoKTtcbiAgICAgIGlmICh0aGlzLmZsb2F0aW5nKSB0aGlzLnNjcm9sbEN1cnNvcklmTmVlZGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0TWVudVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldE1lbnUoKSB7XG4gICAgICB0aGlzLm1lbnUuc2hvdyh0aGlzLm1lbnVJdGVtcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUZsb2F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZsb2F0KCkge1xuICAgICAgdmFyIGVkaXRvclJlY3QgPSB0aGlzLnBtLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAodGhpcy5mbG9hdGluZykge1xuICAgICAgICBpZiAoZWRpdG9yUmVjdC50b3AgPj0gMCB8fCBlZGl0b3JSZWN0LmJvdHRvbSA8IHRoaXMubWVudUVsdC5vZmZzZXRIZWlnaHQgKyAxMCkge1xuICAgICAgICAgIHRoaXMuZmxvYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLm1lbnVFbHQuc3R5bGUucG9zaXRpb24gPSB0aGlzLm1lbnVFbHQuc3R5bGUubGVmdCA9IHRoaXMubWVudUVsdC5zdHlsZS53aWR0aCA9IFwiXCI7XG4gICAgICAgICAgdGhpcy5tZW51RWx0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBib3JkZXIgPSAodGhpcy5wbS53cmFwcGVyLm9mZnNldFdpZHRoIC0gdGhpcy5wbS53cmFwcGVyLmNsaWVudFdpZHRoKSAvIDI7XG4gICAgICAgICAgdGhpcy5tZW51RWx0LnN0eWxlLmxlZnQgPSBlZGl0b3JSZWN0LmxlZnQgKyBib3JkZXIgKyBcInB4XCI7XG4gICAgICAgICAgdGhpcy5tZW51RWx0LnN0eWxlLmRpc3BsYXkgPSBlZGl0b3JSZWN0LnRvcCA+IHdpbmRvdy5pbm5lckhlaWdodCA/IFwibm9uZVwiIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVkaXRvclJlY3QudG9wIDwgMCAmJiBlZGl0b3JSZWN0LmJvdHRvbSA+PSB0aGlzLm1lbnVFbHQub2Zmc2V0SGVpZ2h0ICsgMTApIHtcbiAgICAgICAgICB0aGlzLmZsb2F0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgbWVudVJlY3QgPSB0aGlzLm1lbnVFbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdGhpcy5tZW51RWx0LnN0eWxlLmxlZnQgPSBtZW51UmVjdC5sZWZ0ICsgXCJweFwiO1xuICAgICAgICAgIHRoaXMubWVudUVsdC5zdHlsZS53aWR0aCA9IG1lbnVSZWN0LndpZHRoICsgXCJweFwiO1xuICAgICAgICAgIHRoaXMubWVudUVsdC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY3JvbGxDdXJzb3JJZk5lZWRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxDdXJzb3JJZk5lZWRlZCgpIHtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5wbS5zZWxlY3Rpb24uaGVhZDtcbiAgICAgIGlmICghaGVhZCkgcmV0dXJuO1xuICAgICAgdmFyIGN1cnNvclBvcyA9IHRoaXMucG0uY29vcmRzQXRQb3MoaGVhZCk7XG4gICAgICB2YXIgbWVudVJlY3QgPSB0aGlzLm1lbnVFbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoY3Vyc29yUG9zLnRvcCA8IG1lbnVSZWN0LmJvdHRvbSAmJiBjdXJzb3JQb3MuYm90dG9tID4gbWVudVJlY3QudG9wKSB7XG4gICAgICAgIHZhciBzY3JvbGxhYmxlID0gZmluZFdyYXBwaW5nU2Nyb2xsYWJsZSh0aGlzLnBtLndyYXBwZXIpO1xuICAgICAgICBpZiAoc2Nyb2xsYWJsZSkgc2Nyb2xsYWJsZS5zY3JvbGxUb3AgLT0gbWVudVJlY3QuYm90dG9tIC0gY3Vyc29yUG9zLnRvcDtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVudUJhcjtcbn0pKCk7XG5cbmZ1bmN0aW9uIGZpbmRXcmFwcGluZ1Njcm9sbGFibGUobm9kZSkge1xuICBmb3IgKHZhciBjdXIgPSBub2RlLnBhcmVudE5vZGU7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICBpZiAoY3VyLnNjcm9sbEhlaWdodCA+IGN1ci5jbGllbnRIZWlnaHQpIHJldHVybiBjdXI7XG4gIH1cbn1cblxuKDAsIF9kb20uaW5zZXJ0Q1NTKShcIlxcbi5Qcm9zZU1pcnJvci1tZW51YmFyIHtcXG4gIHBhZGRpbmc6IDFweCA0cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW4tYm90dG9tOiAzcHg7XFxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiBpbmhlcml0O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IGluaGVyaXQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1tZW51YmFyLWlubmVyIHtcXG4gIGNvbG9yOiAjNjY2O1xcbiAgcGFkZGluZzogMXB4IDRweDtcXG4gIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgc2lsdmVyO1xcbiAgYmFja2dyb3VuZDogd2hpdGU7XFxuICB6LWluZGV4OiAxMDtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogaW5oZXJpdDtcXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiBpbmhlcml0O1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItbWVudWJhciAuUHJvc2VNaXJyb3ItbWVudWljb24tYWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6ICNlZWU7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1tZW51YmFyIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXSxcXG4uUHJvc2VNaXJyb3ItbWVudWJhciB0ZXh0YXJlYSB7XFxuICBiYWNrZ3JvdW5kOiAjZWVlO1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm94LXNpemluZzogLW1vei1ib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLlByb3NlTWlycm9yLW1lbnViYXIgaW5wdXRbdHlwZT1cXFwidGV4dFxcXCJdIHtcXG4gIHBhZGRpbmc6IDAgNHB4O1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItbWVudWJhciBmb3JtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHBhZGRpbmc6IDJweCA0cHg7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1tZW51YmFyIC5Qcm9zZU1pcnJvci1ibG9ja3R5cGUge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG4gIG1pbi13aWR0aDogNGVtO1xcbn1cXG4uUHJvc2VNaXJyb3ItbWVudWJhciAuUHJvc2VNaXJyb3ItYmxvY2t0eXBlOmFmdGVyIHtcXG4gIGNvbG9yOiAjY2NjO1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItbWVudWJhci1zbGlkaW5nIHtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogbGVmdCAwLjJzIGVhc2Utb3V0O1xcbiAgLW1vei10cmFuc2l0aW9uOiBsZWZ0IDAuMnMgZWFzZS1vdXQ7XFxuICB0cmFuc2l0aW9uOiBsZWZ0IDAuMnMgZWFzZS1vdXQ7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBsZWZ0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3gtc2l6aW5nOiAtbW96LWJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xcbiAgYmFja2dyb3VuZDogd2hpdGU7XFxufVxcblxcbi5Qcm9zZU1pcnJvci1tZW51YmFyLWJhY2sge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luLXRvcDogLTFweDtcXG4gIHBhZGRpbmctYm90dG9tOiAycHg7XFxuICB3aWR0aDogMTBweDtcXG4gIGxlZnQ6IDA7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBzaWx2ZXI7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5Qcm9zZU1pcnJvci1tZW51YmFyLWJhY2s6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIsKrXFxcIjtcXG59XFxuXFxuXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcblxudmFyIHByZWZpeCA9IFwiUHJvc2VNaXJyb3ItdG9vbHRpcFwiO1xuXG52YXIgVG9vbHRpcCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRvb2x0aXAocG0sIGRpcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcCk7XG5cbiAgICB0aGlzLnBtID0gcG07XG4gICAgdGhpcy5kaXIgPSBkaXIgfHwgXCJhYm92ZVwiO1xuICAgIHRoaXMucG9pbnRlciA9IHBtLndyYXBwZXIuYXBwZW5kQ2hpbGQoKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogcHJlZml4ICsgXCItcG9pbnRlci1cIiArIHRoaXMuZGlyICsgXCIgXCIgKyBwcmVmaXggKyBcIi1wb2ludGVyXCIgfSkpO1xuICAgIHRoaXMucG9pbnRlcldpZHRoID0gdGhpcy5wb2ludGVySGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLmRvbSA9IHBtLndyYXBwZXIuYXBwZW5kQ2hpbGQoKDAsIF9kb20uZWx0KShcImRpdlwiLCB7IFwiY2xhc3NcIjogcHJlZml4IH0pKTtcbiAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuZG9tLnN0eWxlLm9wYWNpdHkgPT0gXCIwXCIpIF90aGlzLmRvbS5zdHlsZS5kaXNwbGF5ID0gX3RoaXMucG9pbnRlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0TGVmdCA9IHRoaXMubGFzdFJpZ2h0ID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBbe1xuICAgIGtleTogXCJkZXRhY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgdGhpcy5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbSk7XG4gICAgICB0aGlzLnBvaW50ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBvaW50ZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemUobm9kZSkge1xuICAgICAgdmFyIHdyYXAgPSB0aGlzLnBtLndyYXBwZXIuYXBwZW5kQ2hpbGQoKDAsIF9kb20uZWx0KShcImRpdlwiLCB7XG4gICAgICAgIFwiY2xhc3NcIjogcHJlZml4LFxuICAgICAgICBzdHlsZTogXCJkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlXCJcbiAgICAgIH0sIG5vZGUpKTtcbiAgICAgIHZhciBzaXplID0geyB3aWR0aDogd3JhcC5vZmZzZXRXaWR0aCwgaGVpZ2h0OiB3cmFwLm9mZnNldEhlaWdodCB9O1xuICAgICAgd3JhcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHdyYXApO1xuICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbihub2RlLCBwb3MpIHtcbiAgICAgIHZhciBsZWZ0ID0gdGhpcy5sYXN0TGVmdCA9IHBvcyA/IHBvcy5sZWZ0IDogdGhpcy5sYXN0TGVmdDtcbiAgICAgIHZhciB0b3AgPSB0aGlzLmxhc3RUb3AgPSBwb3MgPyBwb3MudG9wIDogdGhpcy5sYXN0VG9wO1xuXG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0U2l6ZShub2RlKTtcblxuICAgICAgdmFyIGFyb3VuZCA9IHRoaXMucG0ud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgZm9yICh2YXIgY2hpbGQgPSB0aGlzLmRvbS5maXJzdENoaWxkLCBuZXh0ID0gdW5kZWZpbmVkOyBjaGlsZDsgY2hpbGQgPSBuZXh0KSB7XG4gICAgICAgIG5leHQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgaWYgKGNoaWxkICE9IHRoaXMucG9pbnRlcikgdGhpcy5kb20ucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICAgIHRoaXMuZG9tLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBvaW50ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgaWYgKHRoaXMucG9pbnRlcldpZHRoID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5wb2ludGVyV2lkdGggPSB0aGlzLnBvaW50ZXIub2Zmc2V0V2lkdGggLSAxO1xuICAgICAgICB0aGlzLnBvaW50ZXJIZWlnaHQgPSB0aGlzLnBvaW50ZXIub2Zmc2V0SGVpZ2h0IC0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kb20uc3R5bGUud2lkdGggPSBzaXplLndpZHRoICsgXCJweFwiO1xuICAgICAgdGhpcy5kb20uc3R5bGUuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgIHZhciBtYXJnaW4gPSA1O1xuICAgICAgaWYgKHRoaXMuZGlyID09IFwiYWJvdmVcIiB8fCB0aGlzLmRpciA9PSBcImJlbG93XCIpIHtcbiAgICAgICAgdmFyIHRpcExlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsZWZ0IC0gc2l6ZS53aWR0aCAvIDIsIHdpbmRvdy5pbm5lcldpZHRoIC0gc2l6ZS53aWR0aCkpO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5sZWZ0ID0gdGlwTGVmdCAtIGFyb3VuZC5sZWZ0ICsgXCJweFwiO1xuICAgICAgICB0aGlzLnBvaW50ZXIuc3R5bGUubGVmdCA9IGxlZnQgLSBhcm91bmQubGVmdCAtIHRoaXMucG9pbnRlcldpZHRoIC8gMiArIFwicHhcIjtcbiAgICAgICAgaWYgKHRoaXMuZGlyID09IFwiYWJvdmVcIikge1xuICAgICAgICAgIHZhciB0aXBUb3AgPSB0b3AgLSBhcm91bmQudG9wIC0gbWFyZ2luIC0gdGhpcy5wb2ludGVySGVpZ2h0IC0gc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgdGhpcy5kb20uc3R5bGUudG9wID0gdGlwVG9wICsgXCJweFwiO1xuICAgICAgICAgIHRoaXMucG9pbnRlci5zdHlsZS50b3AgPSB0aXBUb3AgKyBzaXplLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBiZWxvd1xuICAgICAgICAgIHZhciB0aXBUb3AgPSB0b3AgLSBhcm91bmQudG9wICsgbWFyZ2luO1xuICAgICAgICAgIHRoaXMucG9pbnRlci5zdHlsZS50b3AgPSB0aXBUb3AgKyBcInB4XCI7XG4gICAgICAgICAgdGhpcy5kb20uc3R5bGUudG9wID0gdGlwVG9wICsgdGhpcy5wb2ludGVySGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGlyID09IFwibGVmdFwiIHx8IHRoaXMuZGlyID09IFwicmlnaHRcIikge1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS50b3AgPSB0b3AgLSBhcm91bmQudG9wIC0gc2l6ZS5oZWlnaHQgLyAyICsgXCJweFwiO1xuICAgICAgICB0aGlzLnBvaW50ZXIuc3R5bGUudG9wID0gdG9wIC0gdGhpcy5wb2ludGVySGVpZ2h0IC8gMiAtIGFyb3VuZC50b3AgKyBcInB4XCI7XG4gICAgICAgIGlmICh0aGlzLmRpciA9PSBcImxlZnRcIikge1xuICAgICAgICAgIHZhciBwb2ludGVyTGVmdCA9IGxlZnQgLSBhcm91bmQubGVmdCAtIG1hcmdpbiAtIHRoaXMucG9pbnRlcldpZHRoO1xuICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmxlZnQgPSBwb2ludGVyTGVmdCAtIHNpemUud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgdGhpcy5wb2ludGVyLnN0eWxlLmxlZnQgPSBwb2ludGVyTGVmdCArIFwicHhcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByaWdodFxuICAgICAgICAgIHZhciBwb2ludGVyTGVmdCA9IGxlZnQgLSBhcm91bmQubGVmdCArIG1hcmdpbjtcbiAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5sZWZ0ID0gcG9pbnRlckxlZnQgKyB0aGlzLnBvaW50ZXJXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICB0aGlzLnBvaW50ZXIuc3R5bGUubGVmdCA9IHBvaW50ZXJMZWZ0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGlyID09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgdmFyIF90b3AgPSBNYXRoLm1heChhcm91bmQudG9wLCAwKSxcbiAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWluKGFyb3VuZC5ib3R0b20sIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgIHZhciBmcm9tVG9wID0gKGJvdHRvbSAtIF90b3AgLSBzaXplLmhlaWdodCkgLyAyO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5sZWZ0ID0gKGFyb3VuZC53aWR0aCAtIHNpemUud2lkdGgpIC8gMiArIFwicHhcIjtcbiAgICAgICAgdGhpcy5kb20uc3R5bGUudG9wID0gX3RvcCAtIGFyb3VuZC50b3AgKyBmcm9tVG9wICsgXCJweFwiO1xuICAgICAgfVxuXG4gICAgICBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZG9tKS5vcGFjaXR5O1xuICAgICAgZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnBvaW50ZXIpLm9wYWNpdHk7XG4gICAgICB0aGlzLmRvbS5zdHlsZS5vcGFjaXR5ID0gdGhpcy5wb2ludGVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5vcGFjaXR5ID0gdGhpcy5wb2ludGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUb29sdGlwO1xufSkoKTtcblxuZXhwb3J0cy5Ub29sdGlwID0gVG9vbHRpcDtcblxuKDAsIF9kb20uaW5zZXJ0Q1NTKShcIlxcblxcbi5Qcm9zZU1pcnJvci10b29sdGlwIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItIGJveDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuXFxuICAtd2Via2l0LXRyYW5zaXRpb246IHdpZHRoIDAuNHMgZWFzZS1vdXQsIGhlaWdodCAwLjRzIGVhc2Utb3V0LCBsZWZ0IDAuNHMgZWFzZS1vdXQsIHRvcCAwLjRzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnM7XFxuICAtbW96LXRyYW5zaXRpb246IHdpZHRoIDAuNHMgZWFzZS1vdXQsIGhlaWdodCAwLjRzIGVhc2Utb3V0LCBsZWZ0IDAuNHMgZWFzZS1vdXQsIHRvcCAwLjRzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnM7XFxuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjRzIGVhc2Utb3V0LCBoZWlnaHQgMC40cyBlYXNlLW91dCwgbGVmdCAwLjRzIGVhc2Utb3V0LCB0b3AgMC40cyBlYXNlLW91dCwgb3BhY2l0eSAwLjJzO1xcbiAgb3BhY2l0eTogMDtcXG5cXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIHBhZGRpbmc6IDNweCA3cHg7XFxuICBtYXJnaW46IDA7XFxuICBiYWNrZ3JvdW5kOiAjNDQ0O1xcbiAgYm9yZGVyLWNvbG9yOiAjNzc3O1xcbiAgY29sb3I6IHdoaXRlO1xcblxcbiAgei1pbmRleDogNTtcXG59XFxuXFxuLlByb3NlTWlycm9yLXRvb2x0aXAtcG9pbnRlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB3aWR0aDogMDsgaGVpZ2h0OiAwO1xcblxcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBsZWZ0IDAuNHMgZWFzZS1vdXQsIHRvcCAwLjRzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnM7XFxuICAtbW96LXRyYW5zaXRpb246IGxlZnQgMC40cyBlYXNlLW91dCwgdG9wIDAuNHMgZWFzZS1vdXQsIG9wYWNpdHkgMC4ycztcXG4gIHRyYW5zaXRpb246IGxlZnQgMC40cyBlYXNlLW91dCwgdG9wIDAuNHMgZWFzZS1vdXQsIG9wYWNpdHkgMC4ycztcXG4gIG9wYWNpdHk6IDA7XFxuXFxuICB6LWluZGV4OiA1O1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItdG9vbHRpcC1wb2ludGVyLWFib3ZlIHtcXG4gIGJvcmRlci1sZWZ0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci10b3A6IDZweCBzb2xpZCAjNDQ0O1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItdG9vbHRpcC1wb2ludGVyLWJlbG93IHtcXG4gIGJvcmRlci1sZWZ0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjNDQ0O1xcbn1cXG5cXG4uUHJvc2VNaXJyb3ItdG9vbHRpcC1wb2ludGVyLXJpZ2h0IHtcXG4gIGJvcmRlci10b3A6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogNnB4IHNvbGlkICM0NDQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvci10b29sdGlwLXBvaW50ZXItbGVmdCB7XFxuICBib3JkZXItdG9wOiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItbGVmdDogNnB4IHNvbGlkICM0NDQ7XFxufVxcblxcbi5Qcm9zZU1pcnJvci10b29sdGlwIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXSxcXG4uUHJvc2VNaXJyb3ItdG9vbHRpcCB0ZXh0YXJlYSB7XFxuICBiYWNrZ3JvdW5kOiAjNjY2O1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLlByb3NlTWlycm9yLXRvb2x0aXAgaW5wdXRbdHlwZT1cXFwidGV4dFxcXCJdIHtcXG4gIHBhZGRpbmc6IDAgNHB4O1xcbn1cXG5cXG5cIik7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX3NjaGVtYSA9IHJlcXVpcmUoXCIuL3NjaGVtYVwiKTtcblxudmFyIERvYyA9IChmdW5jdGlvbiAoX0Jsb2NrKSB7XG4gIF9pbmhlcml0cyhEb2MsIF9CbG9jayk7XG5cbiAgZnVuY3Rpb24gRG9jKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEb2MpO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRG9jLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEb2MsIG51bGwsIFt7XG4gICAga2V5OiBcImtpbmRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcIi5cIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRG9jO1xufSkoX3NjaGVtYS5CbG9jayk7XG5cbmV4cG9ydHMuRG9jID0gRG9jO1xuXG52YXIgQmxvY2tRdW90ZSA9IChmdW5jdGlvbiAoX0Jsb2NrMikge1xuICBfaW5oZXJpdHMoQmxvY2tRdW90ZSwgX0Jsb2NrMik7XG5cbiAgZnVuY3Rpb24gQmxvY2tRdW90ZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmxvY2tRdW90ZSk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihCbG9ja1F1b3RlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBCbG9ja1F1b3RlO1xufSkoX3NjaGVtYS5CbG9jayk7XG5cbmV4cG9ydHMuQmxvY2tRdW90ZSA9IEJsb2NrUXVvdGU7XG5cbnZhciBPcmRlcmVkTGlzdCA9IChmdW5jdGlvbiAoX0Jsb2NrMykge1xuICBfaW5oZXJpdHMoT3JkZXJlZExpc3QsIF9CbG9jazMpO1xuXG4gIGZ1bmN0aW9uIE9yZGVyZWRMaXN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlcmVkTGlzdCk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihPcmRlcmVkTGlzdC5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoT3JkZXJlZExpc3QsIG51bGwsIFt7XG4gICAga2V5OiBcImNvbnRhaW5zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJsaXN0X2l0ZW1cIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT3JkZXJlZExpc3Q7XG59KShfc2NoZW1hLkJsb2NrKTtcblxuZXhwb3J0cy5PcmRlcmVkTGlzdCA9IE9yZGVyZWRMaXN0O1xuXG5PcmRlcmVkTGlzdC5hdHRyaWJ1dGVzID0geyBvcmRlcjogbmV3IF9zY2hlbWEuQXR0cmlidXRlKHsgXCJkZWZhdWx0XCI6IFwiMVwiIH0pIH07XG5cbnZhciBCdWxsZXRMaXN0ID0gKGZ1bmN0aW9uIChfQmxvY2s0KSB7XG4gIF9pbmhlcml0cyhCdWxsZXRMaXN0LCBfQmxvY2s0KTtcblxuICBmdW5jdGlvbiBCdWxsZXRMaXN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWxsZXRMaXN0KTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJ1bGxldExpc3QucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJ1bGxldExpc3QsIG51bGwsIFt7XG4gICAga2V5OiBcImNvbnRhaW5zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJsaXN0X2l0ZW1cIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnVsbGV0TGlzdDtcbn0pKF9zY2hlbWEuQmxvY2spO1xuXG5leHBvcnRzLkJ1bGxldExpc3QgPSBCdWxsZXRMaXN0O1xuXG52YXIgTGlzdEl0ZW0gPSAoZnVuY3Rpb24gKF9CbG9jazUpIHtcbiAgX2luaGVyaXRzKExpc3RJdGVtLCBfQmxvY2s1KTtcblxuICBmdW5jdGlvbiBMaXN0SXRlbSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdEl0ZW0pO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGlzdEl0ZW0ucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RJdGVtLCBudWxsLCBbe1xuICAgIGtleTogXCJraW5kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RJdGVtO1xufSkoX3NjaGVtYS5CbG9jayk7XG5cbmV4cG9ydHMuTGlzdEl0ZW0gPSBMaXN0SXRlbTtcblxudmFyIEhvcml6b250YWxSdWxlID0gKGZ1bmN0aW9uIChfQmxvY2s2KSB7XG4gIF9pbmhlcml0cyhIb3Jpem9udGFsUnVsZSwgX0Jsb2NrNik7XG5cbiAgZnVuY3Rpb24gSG9yaXpvbnRhbFJ1bGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvcml6b250YWxSdWxlKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEhvcml6b250YWxSdWxlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIb3Jpem9udGFsUnVsZSwgbnVsbCwgW3tcbiAgICBrZXk6IFwiY29udGFpbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIb3Jpem9udGFsUnVsZTtcbn0pKF9zY2hlbWEuQmxvY2spO1xuXG5leHBvcnRzLkhvcml6b250YWxSdWxlID0gSG9yaXpvbnRhbFJ1bGU7XG5cbnZhciBIZWFkaW5nID0gKGZ1bmN0aW9uIChfVGV4dGJsb2NrKSB7XG4gIF9pbmhlcml0cyhIZWFkaW5nLCBfVGV4dGJsb2NrKTtcblxuICBmdW5jdGlvbiBIZWFkaW5nKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkaW5nKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEhlYWRpbmcucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIEhlYWRpbmc7XG59KShfc2NoZW1hLlRleHRibG9jayk7XG5cbmV4cG9ydHMuSGVhZGluZyA9IEhlYWRpbmc7XG5cbkhlYWRpbmcuYXR0cmlidXRlcyA9IHsgbGV2ZWw6IG5ldyBfc2NoZW1hLkF0dHJpYnV0ZSh7IFwiZGVmYXVsdFwiOiBcIjFcIiB9KSB9O1xuXG52YXIgQ29kZUJsb2NrID0gKGZ1bmN0aW9uIChfVGV4dGJsb2NrMikge1xuICBfaW5oZXJpdHMoQ29kZUJsb2NrLCBfVGV4dGJsb2NrMik7XG5cbiAgZnVuY3Rpb24gQ29kZUJsb2NrKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2RlQmxvY2spO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29kZUJsb2NrLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb2RlQmxvY2ssIFt7XG4gICAga2V5OiBcImNvbnRhaW5zU3R5bGVzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzQ29kZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY29udGFpbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcInRleHRcIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29kZUJsb2NrO1xufSkoX3NjaGVtYS5UZXh0YmxvY2spO1xuXG5leHBvcnRzLkNvZGVCbG9jayA9IENvZGVCbG9jaztcblxudmFyIFBhcmFncmFwaCA9IChmdW5jdGlvbiAoX1RleHRibG9jazMpIHtcbiAgX2luaGVyaXRzKFBhcmFncmFwaCwgX1RleHRibG9jazMpO1xuXG4gIGZ1bmN0aW9uIFBhcmFncmFwaCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFyYWdyYXBoKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcmFncmFwaC5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFyYWdyYXBoLCBbe1xuICAgIGtleTogXCJkZWZhdWx0VGV4dGJsb2NrXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFyYWdyYXBoO1xufSkoX3NjaGVtYS5UZXh0YmxvY2spO1xuXG5leHBvcnRzLlBhcmFncmFwaCA9IFBhcmFncmFwaDtcblxudmFyIEltYWdlID0gKGZ1bmN0aW9uIChfSW5saW5lKSB7XG4gIF9pbmhlcml0cyhJbWFnZSwgX0lubGluZSk7XG5cbiAgZnVuY3Rpb24gSW1hZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEltYWdlKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEltYWdlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBJbWFnZTtcbn0pKF9zY2hlbWEuSW5saW5lKTtcblxuZXhwb3J0cy5JbWFnZSA9IEltYWdlO1xuXG5JbWFnZS5hdHRyaWJ1dGVzID0ge1xuICBzcmM6IG5ldyBfc2NoZW1hLkF0dHJpYnV0ZSgpLFxuICBhbHQ6IG5ldyBfc2NoZW1hLkF0dHJpYnV0ZSh7IFwiZGVmYXVsdFwiOiBcIlwiIH0pLFxuICB0aXRsZTogbmV3IF9zY2hlbWEuQXR0cmlidXRlKHsgXCJkZWZhdWx0XCI6IFwiXCIgfSlcbn07XG5cbnZhciBIYXJkQnJlYWsgPSAoZnVuY3Rpb24gKF9JbmxpbmUyKSB7XG4gIF9pbmhlcml0cyhIYXJkQnJlYWssIF9JbmxpbmUyKTtcblxuICBmdW5jdGlvbiBIYXJkQnJlYWsoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhhcmRCcmVhayk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihIYXJkQnJlYWsucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgLy8gU3R5bGUgdHlwZXNcblxuICBfY3JlYXRlQ2xhc3MoSGFyZEJyZWFrLCBbe1xuICAgIGtleTogXCJzZWxlY3RhYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhhcmRCcmVhaztcbn0pKF9zY2hlbWEuSW5saW5lKTtcblxuZXhwb3J0cy5IYXJkQnJlYWsgPSBIYXJkQnJlYWs7XG5cbnZhciBFbVN0eWxlID0gKGZ1bmN0aW9uIChfU3R5bGVUeXBlKSB7XG4gIF9pbmhlcml0cyhFbVN0eWxlLCBfU3R5bGVUeXBlKTtcblxuICBmdW5jdGlvbiBFbVN0eWxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbVN0eWxlKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEVtU3R5bGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEVtU3R5bGUsIG51bGwsIFt7XG4gICAga2V5OiBcInJhbmtcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiA1MTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRW1TdHlsZTtcbn0pKF9zY2hlbWEuU3R5bGVUeXBlKTtcblxuZXhwb3J0cy5FbVN0eWxlID0gRW1TdHlsZTtcblxudmFyIFN0cm9uZ1N0eWxlID0gKGZ1bmN0aW9uIChfU3R5bGVUeXBlMikge1xuICBfaW5oZXJpdHMoU3Ryb25nU3R5bGUsIF9TdHlsZVR5cGUyKTtcblxuICBmdW5jdGlvbiBTdHJvbmdTdHlsZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Ryb25nU3R5bGUpO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3Ryb25nU3R5bGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0cm9uZ1N0eWxlLCBudWxsLCBbe1xuICAgIGtleTogXCJyYW5rXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gNTI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0cm9uZ1N0eWxlO1xufSkoX3NjaGVtYS5TdHlsZVR5cGUpO1xuXG5leHBvcnRzLlN0cm9uZ1N0eWxlID0gU3Ryb25nU3R5bGU7XG5cbnZhciBMaW5rU3R5bGUgPSAoZnVuY3Rpb24gKF9TdHlsZVR5cGUzKSB7XG4gIF9pbmhlcml0cyhMaW5rU3R5bGUsIF9TdHlsZVR5cGUzKTtcblxuICBmdW5jdGlvbiBMaW5rU3R5bGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmtTdHlsZSk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihMaW5rU3R5bGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpbmtTdHlsZSwgbnVsbCwgW3tcbiAgICBrZXk6IFwicmFua1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIDUzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaW5rU3R5bGU7XG59KShfc2NoZW1hLlN0eWxlVHlwZSk7XG5cbmV4cG9ydHMuTGlua1N0eWxlID0gTGlua1N0eWxlO1xuXG5MaW5rU3R5bGUuYXR0cmlidXRlcyA9IHtcbiAgaHJlZjogbmV3IF9zY2hlbWEuQXR0cmlidXRlKCksXG4gIHRpdGxlOiBuZXcgX3NjaGVtYS5BdHRyaWJ1dGUoeyBcImRlZmF1bHRcIjogXCJcIiB9KVxufTtcblxudmFyIENvZGVTdHlsZSA9IChmdW5jdGlvbiAoX1N0eWxlVHlwZTQpIHtcbiAgX2luaGVyaXRzKENvZGVTdHlsZSwgX1N0eWxlVHlwZTQpO1xuXG4gIGZ1bmN0aW9uIENvZGVTdHlsZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29kZVN0eWxlKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENvZGVTdHlsZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29kZVN0eWxlLCBbe1xuICAgIGtleTogXCJpc0NvZGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInJhbmtcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAxMDE7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvZGVTdHlsZTtcbn0pKF9zY2hlbWEuU3R5bGVUeXBlKTtcblxuZXhwb3J0cy5Db2RlU3R5bGUgPSBDb2RlU3R5bGU7XG5cbnZhciBkZWZhdWx0U3BlYyA9IG5ldyBfc2NoZW1hLlNjaGVtYVNwZWMoe1xuICBkb2M6IERvYyxcbiAgYmxvY2txdW90ZTogQmxvY2tRdW90ZSxcbiAgb3JkZXJlZF9saXN0OiBPcmRlcmVkTGlzdCxcbiAgYnVsbGV0X2xpc3Q6IEJ1bGxldExpc3QsXG4gIGxpc3RfaXRlbTogTGlzdEl0ZW0sXG4gIGhvcml6b250YWxfcnVsZTogSG9yaXpvbnRhbFJ1bGUsXG5cbiAgcGFyYWdyYXBoOiBQYXJhZ3JhcGgsXG4gIGhlYWRpbmc6IEhlYWRpbmcsXG4gIGNvZGVfYmxvY2s6IENvZGVCbG9jayxcblxuICB0ZXh0OiBfc2NoZW1hLlRleHQsXG4gIGltYWdlOiBJbWFnZSxcbiAgaGFyZF9icmVhazogSGFyZEJyZWFrXG59LCB7XG4gIGVtOiBFbVN0eWxlLFxuICBzdHJvbmc6IFN0cm9uZ1N0eWxlLFxuICBsaW5rOiBMaW5rU3R5bGUsXG4gIGNvZGU6IENvZGVTdHlsZVxufSk7XG5cbnZhciBkZWZhdWx0U2NoZW1hID0gbmV3IF9zY2hlbWEuU2NoZW1hKGRlZmF1bHRTcGVjKTtcbmV4cG9ydHMuZGVmYXVsdFNjaGVtYSA9IGRlZmF1bHRTY2hlbWE7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZpbmREaWZmU3RhcnQgPSBmaW5kRGlmZlN0YXJ0O1xuZXhwb3J0cy5maW5kRGlmZkVuZCA9IGZpbmREaWZmRW5kO1xuXG52YXIgX3BvcyA9IHJlcXVpcmUoXCIuL3Bvc1wiKTtcblxudmFyIF9zdHlsZSA9IHJlcXVpcmUoXCIuL3N0eWxlXCIpO1xuXG5mdW5jdGlvbiBmaW5kRGlmZlN0YXJ0KGEsIGIpIHtcbiAgdmFyIHBhdGhBID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMl07XG4gIHZhciBwYXRoQiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzNdO1xuXG4gIHZhciBvZmZzZXQgPSAwO1xuICBmb3IgKHZhciBpID0gMDs7IGkrKykge1xuICAgIGlmIChpID09IGEubGVuZ3RoIHx8IGkgPT0gYi5sZW5ndGgpIHtcbiAgICAgIGlmIChhLmxlbmd0aCA9PSBiLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGNoaWxkQSA9IGEuY2hpbGQoaSksXG4gICAgICAgIGNoaWxkQiA9IGIuY2hpbGQoaSk7XG4gICAgaWYgKGNoaWxkQSA9PSBjaGlsZEIpIHtcbiAgICAgIG9mZnNldCArPSBhLmlzVGV4dGJsb2NrID8gY2hpbGRBLm9mZnNldCA6IDE7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkQS5zYW1lTWFya3VwKGNoaWxkQikpIGJyZWFrO1xuXG4gICAgaWYgKGEuaXNUZXh0YmxvY2spIHtcbiAgICAgIGlmICghKDAsIF9zdHlsZS5zYW1lU3R5bGVzKShjaGlsZEEuc3R5bGVzLCBjaGlsZEIuc3R5bGVzKSkgYnJlYWs7XG4gICAgICBpZiAoY2hpbGRBLmlzVGV4dCAmJiBjaGlsZEEudGV4dCAhPSBjaGlsZEIudGV4dCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgY2hpbGRBLnRleHRbal0gPT0gY2hpbGRCLnRleHRbal07IGorKykge1xuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICB9YnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gY2hpbGRBLm9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlubmVyID0gZmluZERpZmZTdGFydChjaGlsZEEsIGNoaWxkQiwgcGF0aEEuY29uY2F0KGkpLCBwYXRoQi5jb25jYXQoaSkpO1xuICAgICAgaWYgKGlubmVyKSByZXR1cm4gaW5uZXI7XG4gICAgICBvZmZzZXQrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgYTogbmV3IF9wb3MuUG9zKHBhdGhBLCBvZmZzZXQpLCBiOiBuZXcgX3Bvcy5Qb3MocGF0aEIsIG9mZnNldCkgfTtcbn1cblxuZnVuY3Rpb24gZmluZERpZmZFbmQoYSwgYikge1xuICB2YXIgcGF0aEEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1syXTtcbiAgdmFyIHBhdGhCID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbM107XG5cbiAgdmFyIGlBID0gYS5sZW5ndGgsXG4gICAgICBpQiA9IGIubGVuZ3RoO1xuICB2YXIgb2Zmc2V0ID0gMDtcblxuICBmb3IgKDs7IGlBLS0sIGlCLS0pIHtcbiAgICBpZiAoaUEgPT0gMCB8fCBpQiA9PSAwKSB7XG4gICAgICBpZiAoaUEgPT0gaUIpIHJldHVybiBudWxsO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBjaGlsZEEgPSBhLmNoaWxkKGlBIC0gMSksXG4gICAgICAgIGNoaWxkQiA9IGIuY2hpbGQoaUIgLSAxKTtcbiAgICBpZiAoY2hpbGRBID09IGNoaWxkQikge1xuICAgICAgb2Zmc2V0ICs9IGEuaXNUZXh0YmxvY2sgPyBjaGlsZEEub2Zmc2V0IDogMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghY2hpbGRBLnNhbWVNYXJrdXAoY2hpbGRCKSkgYnJlYWs7XG5cbiAgICBpZiAoYS5pc1RleHRibG9jaykge1xuICAgICAgaWYgKCEoMCwgX3N0eWxlLnNhbWVTdHlsZXMpKGNoaWxkQS5zdHlsZXMsIGNoaWxkQi5zdHlsZXMpKSBicmVhaztcblxuICAgICAgaWYgKGNoaWxkQS5pc1RleHQgJiYgY2hpbGRBLnRleHQgIT0gY2hpbGRCLnRleHQpIHtcbiAgICAgICAgdmFyIHNhbWUgPSAwLFxuICAgICAgICAgICAgbWluU2l6ZSA9IE1hdGgubWluKGNoaWxkQS50ZXh0Lmxlbmd0aCwgY2hpbGRCLnRleHQubGVuZ3RoKTtcbiAgICAgICAgd2hpbGUgKHNhbWUgPCBtaW5TaXplICYmIGNoaWxkQS50ZXh0W2NoaWxkQS50ZXh0Lmxlbmd0aCAtIHNhbWUgLSAxXSA9PSBjaGlsZEIudGV4dFtjaGlsZEIudGV4dC5sZW5ndGggLSBzYW1lIC0gMV0pIHtcbiAgICAgICAgICBzYW1lKys7XG4gICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gY2hpbGRBLm9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlubmVyID0gZmluZERpZmZFbmQoY2hpbGRBLCBjaGlsZEIsIHBhdGhBLmNvbmNhdChpQSAtIDEpLCBwYXRoQi5jb25jYXQoaUIgLSAxKSk7XG4gICAgICBpZiAoaW5uZXIpIHJldHVybiBpbm5lcjtcbiAgICAgIG9mZnNldCsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBhOiBuZXcgX3Bvcy5Qb3MocGF0aEEsIGEubWF4T2Zmc2V0IC0gb2Zmc2V0KSxcbiAgICBiOiBuZXcgX3Bvcy5Qb3MocGF0aEIsIGIubWF4T2Zmc2V0IC0gb2Zmc2V0KSB9O1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX25vZGUgPSByZXF1aXJlKFwiLi9ub2RlXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21wYXJlTWFya3VwXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9ub2RlLmNvbXBhcmVNYXJrdXA7XG4gICAgICAgIH1cbn0pO1xuXG52YXIgX3N0eWxlID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlbW92ZVN0eWxlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdHlsZS5yZW1vdmVTdHlsZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzYW1lU3R5bGVzXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdHlsZS5zYW1lU3R5bGVzO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbnRhaW5zU3R5bGVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0eWxlLmNvbnRhaW5zU3R5bGU7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3BhblN0eWxlc0F0XCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdHlsZS5zcGFuU3R5bGVzQXQ7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmFuZ2VIYXNTdHlsZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3R5bGUucmFuZ2VIYXNTdHlsZTtcbiAgICAgICAgfVxufSk7XG5cbnZhciBfc2NoZW1hID0gcmVxdWlyZShcIi4vc2NoZW1hXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTY2hlbWFTcGVjXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zY2hlbWEuU2NoZW1hU3BlYztcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTY2hlbWFcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NjaGVtYS5TY2hlbWE7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2NoZW1hRXJyb3JcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NjaGVtYS5TY2hlbWFFcnJvcjtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOb2RlVHlwZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc2NoZW1hLk5vZGVUeXBlO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJsb2NrXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zY2hlbWEuQmxvY2s7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGV4dGJsb2NrXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zY2hlbWEuVGV4dGJsb2NrO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIklubGluZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc2NoZW1hLklubGluZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUZXh0XCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zY2hlbWEuVGV4dDtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHlsZVR5cGVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NjaGVtYS5TdHlsZVR5cGU7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXR0cmlidXRlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zY2hlbWEuQXR0cmlidXRlO1xuICAgICAgICB9XG59KTtcblxudmFyIF9kZWZhdWx0c2NoZW1hID0gcmVxdWlyZShcIi4vZGVmYXVsdHNjaGVtYVwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVmYXVsdFNjaGVtYVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5kZWZhdWx0U2NoZW1hO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkRvY1wiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5Eb2M7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmxvY2tRdW90ZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5CbG9ja1F1b3RlO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk9yZGVyZWRMaXN0XCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0c2NoZW1hLk9yZGVyZWRMaXN0O1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJ1bGxldExpc3RcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRzY2hlbWEuQnVsbGV0TGlzdDtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMaXN0SXRlbVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5MaXN0SXRlbTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIb3Jpem9udGFsUnVsZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5Ib3Jpem9udGFsUnVsZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXJhZ3JhcGhcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRzY2hlbWEuUGFyYWdyYXBoO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkhlYWRpbmdcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRzY2hlbWEuSGVhZGluZztcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDb2RlQmxvY2tcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRzY2hlbWEuQ29kZUJsb2NrO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkltYWdlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0c2NoZW1hLkltYWdlO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkhhcmRCcmVha1wiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdHNjaGVtYS5IYXJkQnJlYWs7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ29kZVN0eWxlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0c2NoZW1hLkNvZGVTdHlsZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbVN0eWxlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0c2NoZW1hLkVtU3R5bGU7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3Ryb25nU3R5bGVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRzY2hlbWEuU3Ryb25nU3R5bGU7XG4gICAgICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGlua1N0eWxlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0c2NoZW1hLkxpbmtTdHlsZTtcbiAgICAgICAgfVxufSk7XG5cbnZhciBfcG9zID0gcmVxdWlyZShcIi4vcG9zXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQb3NcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvcy5Qb3M7XG4gICAgICAgIH1cbn0pO1xuXG52YXIgX3NsaWNlID0gcmVxdWlyZShcIi4vc2xpY2VcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNsaWNlQmVmb3JlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zbGljZS5zbGljZUJlZm9yZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzbGljZUFmdGVyXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zbGljZS5zbGljZUFmdGVyO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNsaWNlQmV0d2VlblwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc2xpY2Uuc2xpY2VCZXR3ZWVuO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNoaWxkcmVuQmVmb3JlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zbGljZS5jaGlsZHJlbkJlZm9yZTtcbiAgICAgICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjaGlsZHJlbkFmdGVyXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zbGljZS5jaGlsZHJlbkFmdGVyO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNoaWxkcmVuQmV0d2VlblwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc2xpY2UuY2hpbGRyZW5CZXR3ZWVuO1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNpYmxpbmdSYW5nZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc2xpY2Uuc2libGluZ1JhbmdlO1xuICAgICAgICB9XG59KTtcblxudmFyIF9kaWZmID0gcmVxdWlyZShcIi4vZGlmZlwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmluZERpZmZTdGFydFwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGlmZi5maW5kRGlmZlN0YXJ0O1xuICAgICAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZpbmREaWZmRW5kXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kaWZmLmZpbmREaWZmRW5kO1xuICAgICAgICB9XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gxMCwgX3gxMSwgX3gxMikgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeDEwLCBwcm9wZXJ0eSA9IF94MTEsIHJlY2VpdmVyID0gX3gxMjsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeDEwID0gcGFyZW50OyBfeDExID0gcHJvcGVydHk7IF94MTIgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZXhwb3J0cy5jb21wYXJlTWFya3VwID0gY29tcGFyZU1hcmt1cDtcblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfc3R5bGUgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcblxudmFyIGVtcHR5QXJyYXkgPSBbXTtcblxuLyoqXHJcbiAqIERvY3VtZW50IG5vZGUgY2xhc3NcclxuICovXG5cbnZhciBOb2RlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTm9kZSh0eXBlLCBhdHRycykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vZGUsIFt7XG4gICAga2V5OiBcInNhbWVNYXJrdXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2FtZU1hcmt1cChvdGhlcikge1xuICAgICAgcmV0dXJuIGNvbXBhcmVNYXJrdXAodGhpcy50eXBlLCBvdGhlci50eXBlLCB0aGlzLmF0dHJzLCBvdGhlci5hdHRycyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoaWxkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoaWxkKF8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBpbmRleCBub24tYmxvY2sgbm9kZSBcIiArIHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIG9iaiA9IHsgdHlwZTogdGhpcy50eXBlLm5hbWUgfTtcbiAgICAgIGZvciAodmFyIF8gaW4gdGhpcy5hdHRycykge1xuICAgICAgICBvYmouYXR0cnMgPSB0aGlzLmF0dHJzO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGVuZ3RoXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNCbG9ja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1RleHRibG9ja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0lubGluZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1RleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTm9kZTtcbn0pKCk7XG5cbmV4cG9ydHMuTm9kZSA9IE5vZGU7XG5cbnZhciBCbG9ja05vZGUgPSAoZnVuY3Rpb24gKF9Ob2RlKSB7XG4gIF9pbmhlcml0cyhCbG9ja05vZGUsIF9Ob2RlKTtcblxuICBmdW5jdGlvbiBCbG9ja05vZGUodHlwZSwgYXR0cnMsIGNvbnRlbnQsIHN0eWxlcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbG9ja05vZGUpO1xuXG4gICAgaWYgKHN0eWxlcykgdGhyb3cgbmV3IEVycm9yKFwiQ29uc3RydWN0aW5nIGEgYmxvY2sgbm9kZSB3aXRoIHN0eWxlc1wiKTtcbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihCbG9ja05vZGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIHR5cGUsIGF0dHJzKTtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50IHx8IGVtcHR5QXJyYXk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQmxvY2tOb2RlLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUubmFtZSArIFwiKFwiICsgdGhpcy5jb250ZW50LmpvaW4oXCIsIFwiKSArIFwiKVwiO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb3B5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcHkoKSB7XG4gICAgICB2YXIgY29udGVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIGNvbnRlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzbGljZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzbGljZShmcm9tKSB7XG4gICAgICB2YXIgdG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5zbGljZShmcm9tLCB0byk7XG4gICAgfVxuXG4gICAgLy8gRklYTUUgbWF5YmUgc2xpY2UgYW5kIHNwbGljZSByZXR1cm5pbmcgZGlmZmVyZW50IHRoaW5ncyBpcyBnb2luZyB0byBjb25mdXNlXG4gIH0sIHtcbiAgICBrZXk6IFwic3BsaWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGljZShmcm9tLCB0bywgcmVwbGFjZSkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSwgdGhpcy5hdHRycywgdGhpcy5jb250ZW50LnNsaWNlKDAsIGZyb20pLmNvbmNhdChyZXBsYWNlKS5jb25jYXQodGhpcy5jb250ZW50LnNsaWNlKHRvKSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXBsYWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcGxhY2UocG9zLCBub2RlKSB7XG4gICAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudC5zbGljZSgpO1xuICAgICAgY29udGVudFtwb3NdID0gbm9kZTtcbiAgICAgIHJldHVybiB0aGlzLmNvcHkoY29udGVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlcGxhY2VEZWVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcGxhY2VEZWVwKHBhdGgsIG5vZGUpIHtcbiAgICAgIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cbiAgICAgIGlmIChkZXB0aCA9PSBwYXRoLmxlbmd0aCkgcmV0dXJuIG5vZGU7XG4gICAgICB2YXIgcG9zID0gcGF0aFtkZXB0aF07XG4gICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHBvcywgdGhpcy5jaGlsZChwb3MpLnJlcGxhY2VEZWVwKHBhdGgsIG5vZGUsIGRlcHRoICsgMSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKG5vZGVzKSB7XG4gICAgICB2YXIgam9pbkxlZnQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIGpvaW5SaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cbiAgICAgIGlmICghbm9kZXMubGVuZ3RoKSByZXR1cm4gdGhpcztcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiB0aGlzLmNvcHkobm9kZXMpO1xuXG4gICAgICB2YXIgbGFzdCA9IHRoaXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICBjb250ZW50ID0gdGhpcy5jb250ZW50LnNsaWNlKDAsIGxhc3QpO1xuICAgICAgdmFyIGJlZm9yZSA9IHRoaXMuY29udGVudFtsYXN0XSxcbiAgICAgICAgICBhZnRlciA9IG5vZGVzWzBdO1xuICAgICAgaWYgKGpvaW5MZWZ0ID4gMCAmJiBqb2luUmlnaHQgPiAwICYmIGJlZm9yZS5zYW1lTWFya3VwKGFmdGVyKSkgY29udGVudC5wdXNoKGJlZm9yZS5hcHBlbmQoYWZ0ZXIuY29udGVudCwgam9pbkxlZnQgLSAxLCBqb2luUmlnaHQgLSAxKSk7ZWxzZSBjb250ZW50LnB1c2goYmVmb3JlLmNsb3NlKGpvaW5MZWZ0IC0gMSwgXCJlbmRcIiksIGFmdGVyLmNsb3NlKGpvaW5SaWdodCAtIDEsIFwic3RhcnRcIikpO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb250ZW50LnB1c2gobm9kZXNbaV0pO1xuICAgICAgfXJldHVybiB0aGlzLmNvcHkoY29udGVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKGRlcHRoLCBzaWRlKSB7XG4gICAgICBpZiAoZGVwdGggPT0gMCAmJiB0aGlzLmxlbmd0aCA9PSAwICYmICF0aGlzLnR5cGUuY2FuQmVFbXB0eSkgcmV0dXJuIHRoaXMuY29weSh0aGlzLnR5cGUuZGVmYXVsdENvbnRlbnQoKSk7XG4gICAgICBpZiAoZGVwdGggPCAwKSByZXR1cm4gdGhpcztcbiAgICAgIHZhciBvZmYgPSBzaWRlID09IFwic3RhcnRcIiA/IDAgOiB0aGlzLm1heE9mZnNldCAtIDEsXG4gICAgICAgICAgY2hpbGQgPSB0aGlzLmNoaWxkKG9mZik7XG4gICAgICB2YXIgY2xvc2VkID0gY2hpbGQuY2xvc2UoZGVwdGggLSAxLCBzaWRlKTtcbiAgICAgIGlmIChjbG9zZWQgPT0gY2hpbGQpIHJldHVybiB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZShvZmYsIGNsb3NlZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoaWxkXCIsXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY2hpbGQgbm9kZSBhdCBhIGdpdmVuIGluZGV4LlxyXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoaWxkKGkpIHtcbiAgICAgIGlmIChpIDwgMCB8fCBpID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGkgKyBcIiBvdXQgb2YgcmFuZ2UgaW4gXCIgKyB0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbaV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBhdGhcIixcblxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgY2hpbGQgbm9kZSBnaXZlbiBhIHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7YXJyYXl9IHBhdGhcclxuICAgICAqIEByZXR1cm4ge05vZGV9XHJcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF0aChfcGF0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGUgPSB0aGlzOyBpIDwgX3BhdGgubGVuZ3RoOyBub2RlID0gbm9kZS5jb250ZW50W19wYXRoW2ldXSwgaSsrKSB7fVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRQb3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZFBvcyhwb3MsIHJlcXVpcmVJbkJsb2NrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbm9kZSA9IHRoaXM7OyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT0gcG9zLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHJlcXVpcmVJbkJsb2NrICYmICFub2RlLmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHBvcy5vZmZzZXQgPD0gbm9kZS5tYXhPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG4gPSBwb3MucGF0aFtpXTtcbiAgICAgICAgICBpZiAobiA+PSBub2RlLmxlbmd0aCB8fCBub2RlLmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQobik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGF0aE5vZGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdGhOb2RlcyhwYXRoKSB7XG4gICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlID0gdGhpczs7IGkrKykge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICBpZiAoaSA9PSBwYXRoLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkKHBhdGhbaV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIG9iaiA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEJsb2NrTm9kZS5wcm90b3R5cGUpLCBcInRvSlNPTlwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgb2JqLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBuLnRvSlNPTigpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub2Rlc0JldHdlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmKSB7XG4gICAgICB2YXIgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzNdO1xuICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbNF07XG5cbiAgICAgIGlmIChmKHRoaXMsIHBhdGgsIGZyb20sIHRvLCBwYXJlbnQpID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICB2YXIgc3RhcnQgPSB1bmRlZmluZWQsXG4gICAgICAgICAgZW5kUGFydGlhbCA9IHRvICYmIHRvLmRlcHRoID4gcGF0aC5sZW5ndGg7XG4gICAgICB2YXIgZW5kID0gZW5kUGFydGlhbCA/IHRvLnBhdGhbcGF0aC5sZW5ndGhdIDogdG8gPyB0by5vZmZzZXQgOiB0aGlzLmxlbmd0aDtcbiAgICAgIGlmICghZnJvbSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGZyb20uZGVwdGggPT0gcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgc3RhcnQgPSBmcm9tLm9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gZnJvbS5wYXRoW3BhdGgubGVuZ3RoXSArIDE7XG4gICAgICAgIHZhciBwYXNzVG8gPSBudWxsO1xuICAgICAgICBpZiAoZW5kUGFydGlhbCAmJiBlbmQgPT0gc3RhcnQgLSAxKSB7XG4gICAgICAgICAgcGFzc1RvID0gdG87XG4gICAgICAgICAgZW5kUGFydGlhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW50ZXJOb2RlKHN0YXJ0IC0gMSwgZnJvbSwgcGFzc1RvLCBwYXRoLCBmKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZW50ZXJOb2RlKGksIG51bGwsIG51bGwsIHBhdGgsIGYpO1xuICAgICAgfWlmIChlbmRQYXJ0aWFsKSB0aGlzLmVudGVyTm9kZShlbmQsIG51bGwsIHRvLCBwYXRoLCBmKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW50ZXJOb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVudGVyTm9kZShpbmRleCwgZnJvbSwgdG8sIHBhdGgsIGYpIHtcbiAgICAgIHBhdGgucHVzaChpbmRleCk7XG4gICAgICB0aGlzLmNoaWxkKGluZGV4KS5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGYsIHBhdGgsIHRoaXMpO1xuICAgICAgcGF0aC5wb3AoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5saW5lTm9kZXNCZXR3ZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlubGluZU5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZikge1xuICAgICAgdGhpcy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGZ1bmN0aW9uIChub2RlLCBwYXRoLCBmcm9tLCB0bywgcGFyZW50LCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKG5vZGUuaXNJbmxpbmUpIGYobm9kZSwgZnJvbSA/IGZyb20ub2Zmc2V0IDogb2Zmc2V0LCB0byA/IHRvLm9mZnNldCA6IG9mZnNldCArIG5vZGUub2Zmc2V0LCBwYXRoLCBwYXJlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1heE9mZnNldFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZXh0Q29udGVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gdGhpcy5jaGlsZChpKS50ZXh0Q29udGVudDtcbiAgICAgIH1yZXR1cm4gdGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmlyc3RDaGlsZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGVudFswXSB8fCBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsYXN0Q2hpbGRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbdGhpcy5sZW5ndGggLSAxXSB8fCBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsZW5ndGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGlsZHJlblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNCbG9ja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJsb2NrTm9kZTtcbn0pKE5vZGUpO1xuXG5leHBvcnRzLkJsb2NrTm9kZSA9IEJsb2NrTm9kZTtcblxudmFyIFRleHRibG9ja05vZGUgPSAoZnVuY3Rpb24gKF9CbG9ja05vZGUpIHtcbiAgX2luaGVyaXRzKFRleHRibG9ja05vZGUsIF9CbG9ja05vZGUpO1xuXG4gIGZ1bmN0aW9uIFRleHRibG9ja05vZGUodHlwZSwgYXR0cnMsIGNvbnRlbnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dGJsb2NrTm9kZSk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0YmxvY2tOb2RlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzLCB0eXBlLCBhdHRycywgY29udGVudCk7XG4gICAgdmFyIG1heE9mZnNldCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1heE9mZnNldCArPSB0aGlzLmNvbnRlbnRbaV0ub2Zmc2V0O1xuICAgIH10aGlzLl9tYXhPZmZzZXQgPSBtYXhPZmZzZXQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGV4dGJsb2NrTm9kZSwgW3tcbiAgICBrZXk6IFwic2xpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2xpY2UoZnJvbSkge1xuICAgICAgdmFyIHRvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5tYXhPZmZzZXQgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChmcm9tID09IHRvKSByZXR1cm4gcmVzdWx0O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG9mZnNldCA9IDA7OyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZChpKSxcbiAgICAgICAgICAgIHNpemUgPSBjaGlsZC5vZmZzZXQsXG4gICAgICAgICAgICBlbmQgPSBvZmZzZXQgKyBzaXplO1xuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IGZyb20pIHJlc3VsdC5wdXNoKG9mZnNldCA+PSBmcm9tICYmIGVuZCA8PSB0byA/IGNoaWxkIDogY2hpbGQuc2xpY2UoTWF0aC5tYXgoMCwgZnJvbSAtIG9mZnNldCksIE1hdGgubWluKHNpemUsIHRvIC0gb2Zmc2V0KSkpO1xuICAgICAgICBpZiAoZW5kID49IHRvKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFwcGVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmQobm9kZXMpIHtcbiAgICAgIGlmICghbm9kZXMubGVuZ3RoKSByZXR1cm4gdGhpcztcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiB0aGlzLmNvcHkobm9kZXMpO1xuXG4gICAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudC5jb25jYXQobm9kZXMpLFxuICAgICAgICAgIGxhc3QgPSB0aGlzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgbWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKG1lcmdlZCA9IGNvbnRlbnRbbGFzdF0ubWF5YmVNZXJnZShjb250ZW50W2xhc3QgKyAxXSkpIGNvbnRlbnQuc3BsaWNlKGxhc3QsIDIsIG1lcmdlZCk7XG4gICAgICByZXR1cm4gdGhpcy5jb3B5KGNvbnRlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub2Rlc0JldHdlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgIGlmIChmKHRoaXMsIHBhdGgsIGZyb20sIHRvLCBwYXJlbnQpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgdmFyIHN0YXJ0ID0gZnJvbSA/IGZyb20ub2Zmc2V0IDogMCxcbiAgICAgICAgICBlbmQgPSB0byA/IHRvLm9mZnNldCA6IHRoaXMubWF4T2Zmc2V0O1xuICAgICAgaWYgKHN0YXJ0ID09IGVuZCkgcmV0dXJuO1xuICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMCwgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGQoaSksXG4gICAgICAgICAgICBlbmRPZmZzZXQgPSBvZmZzZXQgKyBjaGlsZC5vZmZzZXQ7XG4gICAgICAgIGlmIChlbmRPZmZzZXQgPj0gc3RhcnQpIGYoY2hpbGQsIHBhdGgsIG9mZnNldCA8IHN0YXJ0ID8gZnJvbSA6IG51bGwsIGVuZE9mZnNldCA+IGVuZCA/IHRvIDogbnVsbCwgdGhpcywgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGVuZE9mZnNldCA+PSBlbmQpIGJyZWFrO1xuICAgICAgICBvZmZzZXQgPSBlbmRPZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoaWxkQmVmb3JlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoaWxkQmVmb3JlKG9mZnNldCkge1xuICAgICAgaWYgKG9mZnNldCA9PSAwKSByZXR1cm4geyBub2RlOiBudWxsLCBpbmRleDogMCwgaW5uZXJPZmZzZXQ6IDAgfTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkKGkpO1xuICAgICAgICBvZmZzZXQgLT0gY2hpbGQub2Zmc2V0O1xuICAgICAgICBpZiAob2Zmc2V0IDw9IDApIHJldHVybiB7IG5vZGU6IGNoaWxkLCBpbmRleDogaSwgaW5uZXJPZmZzZXQ6IG9mZnNldCArIGNoaWxkLm9mZnNldCB9O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGlsZEFmdGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoaWxkQWZ0ZXIob2Zmc2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZChpKSxcbiAgICAgICAgICAgIHNpemUgPSBjaGlsZC5vZmZzZXQ7XG4gICAgICAgIGlmIChvZmZzZXQgPCBzaXplKSByZXR1cm4geyBub2RlOiBjaGlsZCwgaW5kZXg6IGksIGlubmVyT2Zmc2V0OiBvZmZzZXQgfTtcbiAgICAgICAgb2Zmc2V0IC09IHNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBub2RlOiBudWxsLCBpbmRleDogMCwgaW5uZXJPZmZzZXQ6IDAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNUZXh0YmxvY2tcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXhPZmZzZXRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXhPZmZzZXQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRleHRibG9ja05vZGU7XG59KShCbG9ja05vZGUpO1xuXG5leHBvcnRzLlRleHRibG9ja05vZGUgPSBUZXh0YmxvY2tOb2RlO1xuXG52YXIgSW5saW5lTm9kZSA9IChmdW5jdGlvbiAoX05vZGUyKSB7XG4gIF9pbmhlcml0cyhJbmxpbmVOb2RlLCBfTm9kZTIpO1xuXG4gIGZ1bmN0aW9uIElubGluZU5vZGUodHlwZSwgYXR0cnMsIGNvbnRlbnQsIHN0eWxlcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmxpbmVOb2RlKTtcblxuICAgIGlmIChjb250ZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjcmVhdGUgYSBzcGFuIG5vZGUgd2l0aCBjb250ZW50XCIpO1xuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKElubGluZU5vZGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIHR5cGUsIGF0dHJzKTtcbiAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcyB8fCBlbXB0eUFycmF5O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKElubGluZU5vZGUsIFt7XG4gICAga2V5OiBcInN0eWxlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdHlsZWQoc3R5bGVzKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLnRleHQsIHN0eWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1heWJlTWVyZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWF5YmVNZXJnZShfKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHZhciBvYmogPSBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihJbmxpbmVOb2RlLnByb3RvdHlwZSksIFwidG9KU09OXCIsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICBpZiAodGhpcy5zdHlsZXMubGVuZ3RoKSBvYmouc3R5bGVzID0gdGhpcy5zdHlsZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLnRvSlNPTigpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUubmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2Zmc2V0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGV4dENvbnRlbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0lubGluZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIElubGluZU5vZGU7XG59KShOb2RlKTtcblxuZXhwb3J0cy5JbmxpbmVOb2RlID0gSW5saW5lTm9kZTtcblxudmFyIFRleHROb2RlID0gKGZ1bmN0aW9uIChfSW5saW5lTm9kZSkge1xuICBfaW5oZXJpdHMoVGV4dE5vZGUsIF9JbmxpbmVOb2RlKTtcblxuICBmdW5jdGlvbiBUZXh0Tm9kZSh0eXBlLCBhdHRycywgY29udGVudCwgc3R5bGVzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHROb2RlKTtcblxuICAgIGlmICh0eXBlb2YgY29udGVudCAhPSBcInN0cmluZ1wiIHx8ICFjb250ZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJUZXh0IG5vZGUgY29udGVudCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0Tm9kZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcywgdHlwZSwgYXR0cnMsIG51bGwsIHN0eWxlcyk7XG4gICAgdGhpcy50ZXh0ID0gY29udGVudDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUZXh0Tm9kZSwgW3tcbiAgICBrZXk6IFwibWF5YmVNZXJnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXliZU1lcmdlKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIudHlwZSA9PSB0aGlzLnR5cGUgJiYgKDAsIF9zdHlsZS5zYW1lU3R5bGVzKSh0aGlzLnN0eWxlcywgb3RoZXIuc3R5bGVzKSkgcmV0dXJuIG5ldyBUZXh0Tm9kZSh0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIHRoaXMudGV4dCArIG90aGVyLnRleHQsIHRoaXMuc3R5bGVzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2xpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2xpY2UoZnJvbSkge1xuICAgICAgdmFyIHRvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdGhpcy5vZmZzZXQgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLnRleHQuc2xpY2UoZnJvbSwgdG8pLCB0aGlzLnN0eWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgdmFyIHRleHQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnRleHQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ID0gdGhpcy5zdHlsZXNbaV0udHlwZS5uYW1lICsgXCIoXCIgKyB0ZXh0ICsgXCIpXCI7XG4gICAgICB9cmV0dXJuIHRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICB2YXIgb2JqID0gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dE5vZGUucHJvdG90eXBlKSwgXCJ0b0pTT05cIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgIG9iai50ZXh0ID0gdGhpcy50ZXh0O1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2Zmc2V0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGV4dENvbnRlbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRleHROb2RlO1xufSkoSW5saW5lTm9kZSk7XG5cbmV4cG9ydHMuVGV4dE5vZGUgPSBUZXh0Tm9kZTtcblxuZnVuY3Rpb24gY29tcGFyZU1hcmt1cCh0eXBlQSwgdHlwZUIsIGF0dHJzQSwgYXR0cnNCKSB7XG4gIGlmICh0eXBlQSAhPSB0eXBlQikgcmV0dXJuIGZhbHNlO1xuICBmb3IgKHZhciBwcm9wIGluIGF0dHJzQSkgaWYgKGF0dHJzQltwcm9wXSAhPT0gYXR0cnNBW3Byb3BdKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBQb3MgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQb3MocGF0aCwgb2Zmc2V0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcyk7XG5cbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBvcywgW3tcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXRoLmpvaW4oXCIvXCIpICsgXCI6XCIgKyB0aGlzLm9mZnNldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY21wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNtcChvdGhlcikge1xuICAgICAgaWYgKG90aGVyID09IHRoaXMpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIFBvcy5jbXAodGhpcy5wYXRoLCB0aGlzLm9mZnNldCwgb3RoZXIucGF0aCwgb3RoZXIub2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvcnRlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG9ydGVuKCkge1xuICAgICAgdmFyIHRvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1swXTtcbiAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodG8gPj0gdGhpcy5kZXB0aCkgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gUG9zLnNob3J0ZW4odGhpcy5wYXRoLCB0bywgb2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlKGJ5KSB7XG4gICAgICByZXR1cm4gbmV3IFBvcyh0aGlzLnBhdGgsIHRoaXMub2Zmc2V0ICsgYnkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1BhdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9QYXRoKCkge1xuICAgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHJldHVybiB0aGlzLnBhdGguY29uY2F0KHRoaXMub2Zmc2V0ICsgb2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0ZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dGVuZChwb3MpIHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoLnNsaWNlKCksXG4gICAgICAgICAgYWRkID0gdGhpcy5vZmZzZXQ7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhdGgucHVzaChwb3MucGF0aFtpXSArIGFkZCk7XG4gICAgICAgIGFkZCA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFBvcyhwYXRoLCBwb3Mub2Zmc2V0ICsgYWRkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZXB0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGg7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY21wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNtcChwYXRoQSwgb2Zmc2V0QSwgcGF0aEIsIG9mZnNldEIpIHtcbiAgICAgIHZhciBsZW5BID0gcGF0aEEubGVuZ3RoLFxuICAgICAgICAgIGxlbkIgPSBwYXRoQi5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZW5kID0gTWF0aC5taW4obGVuQSwgbGVuQik7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICB2YXIgZGlmZiA9IHBhdGhBW2ldIC0gcGF0aEJbaV07XG4gICAgICAgIGlmIChkaWZmICE9IDApIHJldHVybiBkaWZmO1xuICAgICAgfVxuICAgICAgaWYgKGxlbkEgPiBsZW5CKSByZXR1cm4gb2Zmc2V0QiA8PSBwYXRoQVtpXSA/IDEgOiAtMTtlbHNlIGlmIChsZW5CID4gbGVuQSkgcmV0dXJuIG9mZnNldEEgPD0gcGF0aEJbaV0gPyAtMSA6IDE7ZWxzZSByZXR1cm4gb2Zmc2V0QSAtIG9mZnNldEI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNhbWVQYXRoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhbWVQYXRoKHBhdGhBLCBwYXRoQikge1xuICAgICAgaWYgKHBhdGhBLmxlbmd0aCAhPSBwYXRoQi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aEEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfXJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG9ydGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3J0ZW4ocGF0aCkge1xuICAgICAgdmFyIHRvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXG4gICAgICBpZiAodG8gPT0gbnVsbCkgdG8gPSBwYXRoLmxlbmd0aCAtIDE7XG4gICAgICByZXR1cm4gbmV3IFBvcyhwYXRoLnNsaWNlKDAsIHRvKSwgcGF0aFt0b10gKyBvZmZzZXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmcm9tXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb20oYXJyYXkpIHtcbiAgICAgIHZhciBleHRyYU9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICghYXJyYXkubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjcmVhdGUgYSBwb3MgZnJvbSBhbiBlbXB0eSBhcnJheVwiKTtcbiAgICAgIHJldHVybiBuZXcgUG9zKGFycmF5LnNsaWNlKDAsIGFycmF5Lmxlbmd0aCAtIDEpLCBhcnJheVthcnJheS5sZW5ndGggLSAxXSArIGV4dHJhT2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbUpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUpTT04oanNvbikge1xuICAgICAgcmV0dXJuIG5ldyBQb3MoanNvbi5wYXRoLCBqc29uLm9mZnNldCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvcztcbn0pKCk7XG5cbmV4cG9ydHMuUG9zID0gUG9zOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSkoKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeDIsIF94MywgX3g0KSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94MiwgcHJvcGVydHkgPSBfeDMsIHJlY2VpdmVyID0gX3g0OyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94MiA9IHBhcmVudDsgX3gzID0gcHJvcGVydHk7IF94NCA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfbm9kZSA9IHJlcXVpcmUoXCIuL25vZGVcIik7XG5cbnZhciBfc3R5bGUgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcblxudmFyIF91dGlsRXJyb3IgPSByZXF1aXJlKFwiLi4vdXRpbC9lcnJvclwiKTtcblxudmFyIFNjaGVtYUVycm9yID0gKGZ1bmN0aW9uIChfUHJvc2VNaXJyb3JFcnJvcikge1xuICBfaW5oZXJpdHMoU2NoZW1hRXJyb3IsIF9Qcm9zZU1pcnJvckVycm9yKTtcblxuICBmdW5jdGlvbiBTY2hlbWFFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NoZW1hRXJyb3IpO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2NoZW1hRXJyb3IucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIFNjaGVtYUVycm9yO1xufSkoX3V0aWxFcnJvci5Qcm9zZU1pcnJvckVycm9yKTtcblxuZXhwb3J0cy5TY2hlbWFFcnJvciA9IFNjaGVtYUVycm9yO1xuXG5mdW5jdGlvbiBmaW5kS2luZHModHlwZSwgbmFtZSwgc2NoZW1hLCBvdmVycmlkZSkge1xuICBmdW5jdGlvbiBzZXQoc3ViLCBzdXApIHtcbiAgICBpZiAoc3ViIGluIHNjaGVtYS5raW5kcykge1xuICAgICAgaWYgKHNjaGVtYS5raW5kc1tzdWJdID09IHN1cCkgcmV0dXJuO1xuICAgICAgU2NoZW1hRXJyb3IucmFpc2UoXCJJbmNvbnNpc3RlbnQgc3VwZXJraW5kcyBmb3Iga2luZCBcIiArIHN1YiArIFwiOiBcIiArIHN1cCArIFwiIGFuZCBcIiArIHNjaGVtYS5raW5kc1tzdWJdKTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5zdWJLaW5kKHN1Yiwgc3VwKSkgU2NoZW1hRXJyb3IucmFpc2UoXCJDb25mbGljdGluZyBraW5kIGhpZXJhcmNoeSB0aHJvdWdoIFwiICsgc3ViICsgXCIgYW5kIFwiICsgc3VwKTtcbiAgICBzY2hlbWEua2luZHNbc3ViXSA9IHN1cDtcbiAgfVxuXG4gIGZvciAodmFyIGN1ciA9IHR5cGU7OyBjdXIgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VyKSkge1xuICAgIHZhciBjdXJLaW5kID0gb3ZlcnJpZGUgIT0gbnVsbCAmJiBjdXIgPT0gdHlwZSA/IG92ZXJyaWRlIDogY3VyLmtpbmQ7XG4gICAgaWYgKGN1cktpbmQgIT0gbnVsbCkge1xuICAgICAgdmFyIF8kJGV4ZWMgPSAvXiguKj8pKFxcLik/JC8uZXhlYyhjdXJLaW5kKTtcblxuICAgICAgdmFyIF8kJGV4ZWMyID0gX3NsaWNlZFRvQXJyYXkoXyQkZXhlYywgMyk7XG5cbiAgICAgIHZhciBfID0gXyQkZXhlYzJbMF07XG4gICAgICB2YXIga2luZCA9IF8kJGV4ZWMyWzFdO1xuICAgICAgdmFyIGVuZCA9IF8kJGV4ZWMyWzJdO1xuXG4gICAgICBpZiAoa2luZCkge1xuICAgICAgICBzZXQobmFtZSwga2luZCk7XG4gICAgICAgIG5hbWUgPSBraW5kO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCkge1xuICAgICAgICBzZXQobmFtZSwgbnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIE5vZGVUeXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTm9kZVR5cGUobmFtZSwgY29udGFpbnMsIGF0dHJzLCBzY2hlbWEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9kZVR5cGUpO1xuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmNvbnRhaW5zID0gY29udGFpbnM7XG4gICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIHRoaXMuZGVmYXVsdEF0dHJzID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOb2RlVHlwZSwgW3tcbiAgICBrZXk6IFwiY2FuQ29udGFpblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Db250YWluKG5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbkNvbnRhaW5UeXBlKG5vZGUudHlwZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbkNvbnRhaW5UeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkNvbnRhaW5UeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjaGVtYS5zdWJLaW5kKHR5cGUubmFtZSwgdGhpcy5jb250YWlucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbkNvbnRhaW5DaGlsZHJlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Db250YWluQ2hpbGRyZW4obm9kZSwgbGliZXJhbCkge1xuICAgICAgaWYgKCFsaWJlcmFsICYmICF0aGlzLnNjaGVtYS5zdWJLaW5kKG5vZGUudHlwZS5jb250YWlucywgdGhpcy5jb250YWlucykpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXRoaXMuY2FuQ29udGFpbihub2RlLmNoaWxkKGkpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfXJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5kQ29ubmVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kQ29ubmVjdGlvbihvdGhlcikge1xuICAgICAgaWYgKHRoaXMuY2FuQ29udGFpblR5cGUob3RoZXIpKSByZXR1cm4gW107XG5cbiAgICAgIHZhciBzZWVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHZhciBhY3RpdmUgPSBbeyBmcm9tOiB0aGlzLCB2aWE6IFtdIH1dO1xuICAgICAgd2hpbGUgKGFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBhY3RpdmUuc2hpZnQoKTtcbiAgICAgICAgZm9yICh2YXIgX25hbWUgaW4gdGhpcy5zY2hlbWEubm9kZXMpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuc2NoZW1hLm5vZGVUeXBlKF9uYW1lKTtcbiAgICAgICAgICBpZiAoISh0eXBlLmNvbnRhaW5zIGluIHNlZW4pICYmIGN1cnJlbnQuZnJvbS5jYW5Db250YWluVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIHZpYSA9IGN1cnJlbnQudmlhLmNvbmNhdCh0eXBlKTtcbiAgICAgICAgICAgIGlmICh0eXBlLmNhbkNvbnRhaW5UeXBlKG90aGVyKSkgcmV0dXJuIHZpYTtcbiAgICAgICAgICAgIGFjdGl2ZS5wdXNoKHsgZnJvbTogdHlwZSwgdmlhOiB2aWEgfSk7XG4gICAgICAgICAgICBzZWVuW3R5cGUuY29udGFpbnNdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYnVpbGRBdHRyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZEF0dHJzKGF0dHJzLCBjb250ZW50KSB7XG4gICAgICBpZiAoIWF0dHJzICYmIHRoaXMuZGVmYXVsdEF0dHJzKSByZXR1cm4gdGhpcy5kZWZhdWx0QXR0cnM7ZWxzZSByZXR1cm4gX2J1aWxkQXR0cnModGhpcy5hdHRycywgYXR0cnMsIHRoaXMsIGNvbnRlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGF0dHJzLCBjb250ZW50LCBzdHlsZXMpIHtcbiAgICAgIHJldHVybiBuZXcgdGhpcy5pbnN0YW5jZSh0aGlzLCB0aGlzLmJ1aWxkQXR0cnMoYXR0cnMsIGNvbnRlbnQpLCBjb250ZW50LCBzdHlsZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVBdXRvRmlsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBdXRvRmlsbChhdHRycywgY29udGVudCwgc3R5bGVzKSB7XG4gICAgICBpZiAoKCFjb250ZW50IHx8IGNvbnRlbnQubGVuZ3RoID09IDApICYmICF0aGlzLmNhbkJlRW1wdHkpIGNvbnRlbnQgPSB0aGlzLmRlZmF1bHRDb250ZW50KCk7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGUoYXR0cnMsIGNvbnRlbnQsIHN0eWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvY2tlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1RleHRibG9ja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RhYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuQmVFbXB0eVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY29tcGlsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21waWxlKHR5cGVzLCBzY2hlbWEpIHtcbiAgICAgIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgZm9yICh2YXIgX25hbWUyIGluIHR5cGVzKSB7XG4gICAgICAgIHZhciBpbmZvID0gdHlwZXNbX25hbWUyXTtcbiAgICAgICAgdmFyIHR5cGUgPSBpbmZvLnR5cGUgfHwgU2NoZW1hRXJyb3IucmFpc2UoXCJNaXNzaW5nIG5vZGUgdHlwZSBmb3IgXCIgKyBfbmFtZTIpO1xuICAgICAgICBmaW5kS2luZHModHlwZSwgX25hbWUyLCBzY2hlbWEsIGluZm8ua2luZCk7XG4gICAgICAgIHZhciBjb250YWlucyA9IFwiY29udGFpbnNcIiBpbiBpbmZvID8gaW5mby5jb250YWlucyA6IHR5cGUuY29udGFpbnM7XG4gICAgICAgIHJlc3VsdFtfbmFtZTJdID0gbmV3IHR5cGUoX25hbWUyLCBjb250YWlucywgaW5mby5hdHRyaWJ1dGVzIHx8IHR5cGUuYXR0cmlidXRlcywgc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9uYW1lMyBpbiByZXN1bHQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5zID0gcmVzdWx0W19uYW1lM10uY29udGFpbnM7XG4gICAgICAgIGlmIChjb250YWlucyAmJiAhKGNvbnRhaW5zIGluIHNjaGVtYS5raW5kcykpIFNjaGVtYUVycm9yLnJhaXNlKFwiTm9kZSB0eXBlIFwiICsgX25hbWUzICsgXCIgaXMgc3BlY2lmaWVkIHRvIGNvbnRhaW4gbm9uLWV4aXN0aW5nIGtpbmQgXCIgKyBjb250YWlucyk7XG4gICAgICB9XG4gICAgICBpZiAoIXJlc3VsdC5kb2MpIFNjaGVtYUVycm9yLnJhaXNlKFwiRXZlcnkgc2NoZW1hIG5lZWRzIGEgJ2RvYycgdHlwZVwiKTtcbiAgICAgIGlmICghcmVzdWx0LnRleHQpIFNjaGVtYUVycm9yLnJhaXNlKFwiRXZlcnkgc2NoZW1hIG5lZWRzIGEgJ3RleHQnIHR5cGVcIik7XG5cbiAgICAgIGZvciAodmFyIF9uYW1lNCBpbiB0eXBlcykge1xuICAgICAgICB0eXBlc1tfbmFtZTRdLmRlZmF1bHRBdHRycyA9IGdldERlZmF1bHRBdHRycyh0eXBlc1tfbmFtZTRdLmF0dHJzKTtcbiAgICAgIH1yZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWdpc3RlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3Rlcihwcm9wLCB2YWx1ZSkge1xuICAgICAgOyh0aGlzLnByb3RvdHlwZVtwcm9wXSB8fCAodGhpcy5wcm90b3R5cGVbcHJvcF0gPSBbXSkpLnB1c2godmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJraW5kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vZGVUeXBlO1xufSkoKTtcblxuZXhwb3J0cy5Ob2RlVHlwZSA9IE5vZGVUeXBlO1xuXG5Ob2RlVHlwZS5hdHRyaWJ1dGVzID0ge307XG5cbnZhciBCbG9jayA9IChmdW5jdGlvbiAoX05vZGVUeXBlKSB7XG4gIF9pbmhlcml0cyhCbG9jaywgX05vZGVUeXBlKTtcblxuICBmdW5jdGlvbiBCbG9jaygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmxvY2spO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmxvY2sucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJsb2NrLCBbe1xuICAgIGtleTogXCJkZWZhdWx0Q29udGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0Q29udGVudCgpIHtcbiAgICAgIHZhciBpbm5lciA9IHRoaXMuc2NoZW1hLmRlZmF1bHRUZXh0YmxvY2tUeXBlKCkuY3JlYXRlKCk7XG4gICAgICB2YXIgY29ubiA9IHRoaXMuZmluZENvbm5lY3Rpb24oaW5uZXIudHlwZSk7XG4gICAgICBpZiAoIWNvbm4pIFNjaGVtYUVycm9yLnJhaXNlKFwiQ2FuJ3QgY3JlYXRlIGRlZmF1bHQgY29udGVudCBmb3IgXCIgKyB0aGlzLm5hbWUpO1xuICAgICAgZm9yICh2YXIgaSA9IGNvbm4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaW5uZXIgPSBjb25uW2ldLmNyZWF0ZShudWxsLCBbaW5uZXJdKTtcbiAgICAgIH1yZXR1cm4gW2lubmVyXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5zdGFuY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfbm9kZS5CbG9ja05vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzQmxvY2tcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYW5CZUVtcHR5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250YWlucyA9PSBudWxsO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNvbnRhaW5zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJibG9ja1wiO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJraW5kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJibG9jay5cIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmxvY2s7XG59KShOb2RlVHlwZSk7XG5cbmV4cG9ydHMuQmxvY2sgPSBCbG9jaztcblxudmFyIFRleHRibG9jayA9IChmdW5jdGlvbiAoX0Jsb2NrKSB7XG4gIF9pbmhlcml0cyhUZXh0YmxvY2ssIF9CbG9jayk7XG5cbiAgZnVuY3Rpb24gVGV4dGJsb2NrKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0YmxvY2spO1xuXG4gICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dGJsb2NrLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUZXh0YmxvY2ssIFt7XG4gICAga2V5OiBcImNhbkNvbnRhaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuQ29udGFpbihub2RlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dGJsb2NrLnByb3RvdHlwZSksIFwiY2FuQ29udGFpblwiLCB0aGlzKS5jYWxsKHRoaXMsIG5vZGUpICYmIG5vZGUuc3R5bGVzLmV2ZXJ5KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jYW5Db250YWluU3R5bGUocyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuQ29udGFpblN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbkNvbnRhaW5TdHlsZSh0eXBlKSB7XG4gICAgICB2YXIgY29udGFpbnMgPSB0aGlzLmNvbnRhaW5zU3R5bGVzO1xuICAgICAgaWYgKGNvbnRhaW5zID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChjb250YWlucykgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29udGFpbnNbaV0gPT0gdHlwZS5uYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1yZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluc3RhbmNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX25vZGUuVGV4dGJsb2NrTm9kZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGFpbnNTdHlsZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1RleHRibG9ja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbkJlRW1wdHlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNvbnRhaW5zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJpbmxpbmVcIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGV4dGJsb2NrO1xufSkoQmxvY2spO1xuXG5leHBvcnRzLlRleHRibG9jayA9IFRleHRibG9jaztcblxudmFyIElubGluZSA9IChmdW5jdGlvbiAoX05vZGVUeXBlMikge1xuICBfaW5oZXJpdHMoSW5saW5lLCBfTm9kZVR5cGUyKTtcblxuICBmdW5jdGlvbiBJbmxpbmUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElubGluZSk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihJbmxpbmUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKElubGluZSwgW3tcbiAgICBrZXk6IFwiaW5zdGFuY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfbm9kZS5JbmxpbmVOb2RlO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNvbnRhaW5zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwia2luZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiaW5saW5lLlwiO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbmxpbmU7XG59KShOb2RlVHlwZSk7XG5cbmV4cG9ydHMuSW5saW5lID0gSW5saW5lO1xuXG52YXIgVGV4dCA9IChmdW5jdGlvbiAoX0lubGluZSkge1xuICBfaW5oZXJpdHMoVGV4dCwgX0lubGluZSk7XG5cbiAgZnVuY3Rpb24gVGV4dCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dCk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0LnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8vIEF0dHJpYnV0ZSBkZXNjcmlwdG9yc1xuXG4gIF9jcmVhdGVDbGFzcyhUZXh0LCBbe1xuICAgIGtleTogXCJpbnN0YW5jZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9ub2RlLlRleHROb2RlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RhYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRleHQ7XG59KShJbmxpbmUpO1xuXG5leHBvcnRzLlRleHQgPSBUZXh0O1xuXG52YXIgQXR0cmlidXRlID0gZnVuY3Rpb24gQXR0cmlidXRlKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdHRyaWJ1dGUpO1xuXG4gIHRoaXNbXCJkZWZhdWx0XCJdID0gb3B0aW9uc1tcImRlZmF1bHRcIl07XG4gIHRoaXMuY29tcHV0ZSA9IG9wdGlvbnMuY29tcHV0ZTtcbn1cblxuLy8gU3R5bGVzXG5cbjtcblxuZXhwb3J0cy5BdHRyaWJ1dGUgPSBBdHRyaWJ1dGU7XG5cbnZhciBTdHlsZVR5cGUgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHlsZVR5cGUobmFtZSwgYXR0cnMsIHJhbmssIHNjaGVtYSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZVR5cGUpO1xuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgdGhpcy5yYW5rID0gcmFuaztcbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB2YXIgZGVmYXVsdHMgPSBnZXREZWZhdWx0QXR0cnModGhpcy5hdHRycyk7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGRlZmF1bHRzICYmIG5ldyBfc3R5bGUuU3R5bGVNYXJrZXIodGhpcywgZGVmYXVsdHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0eWxlVHlwZSwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShhdHRycykge1xuICAgICAgaWYgKCFhdHRycyAmJiB0aGlzLmluc3RhbmNlKSByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgICAgIHJldHVybiBuZXcgX3N0eWxlLlN0eWxlTWFya2VyKHRoaXMsIF9idWlsZEF0dHJzKHRoaXMuYXR0cnMsIGF0dHJzLCB0aGlzKSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0T3JkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3JkZXIoc3R5bGVzKSB7XG4gICAgICB2YXIgc29ydGVkID0gW107XG4gICAgICBmb3IgKHZhciBfbmFtZTUgaW4gc3R5bGVzKSB7XG4gICAgICAgIHNvcnRlZC5wdXNoKHsgbmFtZTogX25hbWU1LCByYW5rOiBzdHlsZXNbX25hbWU1XS50eXBlLnJhbmsgfSk7XG4gICAgICB9c29ydGVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucmFuayAtIGIucmFuaztcbiAgICAgIH0pO1xuICAgICAgdmFyIHJhbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJhbmtzW3NvcnRlZFtpXS5uYW1lXSA9IGk7XG4gICAgICB9cmV0dXJuIHJhbmtzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21waWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBpbGUoc3R5bGVzLCBzY2hlbWEpIHtcbiAgICAgIHZhciBvcmRlciA9IHRoaXMuZ2V0T3JkZXIoc3R5bGVzKTtcbiAgICAgIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgZm9yICh2YXIgX25hbWU2IGluIHN0eWxlcykge1xuICAgICAgICB2YXIgaW5mbyA9IHN0eWxlc1tfbmFtZTZdO1xuICAgICAgICB2YXIgYXR0cnMgPSBpbmZvLmF0dHJpYnV0ZXMgfHwgaW5mby50eXBlLmF0dHJpYnV0ZXM7XG4gICAgICAgIHJlc3VsdFtfbmFtZTZdID0gbmV3IGluZm8udHlwZShfbmFtZTYsIGF0dHJzLCBvcmRlcltfbmFtZTZdLCBzY2hlbWEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIocHJvcCwgdmFsdWUpIHtcbiAgICAgIDsodGhpcy5wcm90b3R5cGVbcHJvcF0gfHwgKHRoaXMucHJvdG90eXBlW3Byb3BdID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmFua1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIDUwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHlsZVR5cGU7XG59KSgpO1xuXG5leHBvcnRzLlN0eWxlVHlwZSA9IFN0eWxlVHlwZTtcblxuU3R5bGVUeXBlLmF0dHJpYnV0ZXMgPSB7fTtcblxuLy8gU2NoZW1hIHNwZWNpZmljYXRpb25zIGFyZSBkYXRhIHN0cnVjdHVyZXMgdGhhdCBzcGVjaWZ5IGEgc2NoZW1hIC0tXG4vLyBhIHNldCBvZiBub2RlIHR5cGVzLCB0aGVpciBuYW1lcywgYXR0cmlidXRlcywgYW5kIG5lc3RpbmcgYmVoYXZpb3IuXG5cbmZ1bmN0aW9uIGNvcHlPYmoob2JqLCBmKSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgIHJlc3VsdFtwcm9wXSA9IGYgPyBmKG9ialtwcm9wXSkgOiBvYmpbcHJvcF07XG4gIH1yZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVXcmFwcGVkKG9iaikge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB7IHR5cGU6IG9iaiB9IDogb2JqO1xufVxuXG5mdW5jdGlvbiBvdmVybGF5T2JqKG9iaiwgb3ZlcmxheSkge1xuICB2YXIgY29weSA9IGNvcHlPYmoob2JqKTtcbiAgZm9yICh2YXIgX25hbWU3IGluIG92ZXJsYXkpIHtcbiAgICB2YXIgaW5mbyA9IGVuc3VyZVdyYXBwZWQob3ZlcmxheVtfbmFtZTddKTtcbiAgICBpZiAoaW5mbyA9PSBudWxsKSB7XG4gICAgICBkZWxldGUgY29weVtfbmFtZTddO1xuICAgIH0gZWxzZSBpZiAoaW5mby50eXBlKSB7XG4gICAgICBjb3B5W19uYW1lN10gPSBpbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXhpc3RpbmcgPSBjb3B5W19uYW1lN10gPSBjb3B5T2JqKGNvcHlbX25hbWU3XSk7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGluZm8pIHtcbiAgICAgICAgZXhpc3RpbmdbcHJvcF0gPSBpbmZvW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29weTtcbn1cblxudmFyIFNjaGVtYVNwZWMgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY2hlbWFTcGVjKG5vZGVzLCBzdHlsZXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NoZW1hU3BlYyk7XG5cbiAgICB0aGlzLm5vZGVzID0gbm9kZXMgPyBjb3B5T2JqKG5vZGVzLCBlbnN1cmVXcmFwcGVkKSA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5zdHlsZXMgPSBzdHlsZXMgPyBjb3B5T2JqKHN0eWxlcywgZW5zdXJlV3JhcHBlZCkgOiBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG5cbiAgLy8gRm9yIG5vZGUgdHlwZXMgd2hlcmUgYWxsIGF0dHJzIGhhdmUgYSBkZWZhdWx0IHZhbHVlIChvciB3aGljaCBkb24ndFxuICAvLyBoYXZlIGFueSBhdHRyaWJ1dGVzKSwgYnVpbGQgdXAgYSBzaW5nbGUgcmV1c2FibGUgZGVmYXVsdCBhdHRyaWJ1dGVcbiAgLy8gb2JqZWN0LCBhbmQgdXNlIGl0IGZvciBhbGwgbm9kZXMgdGhhdCBkb24ndCBzcGVjaWZ5IHNwZWNpZmljXG4gIC8vIGF0dHJpYnV0ZXMuXG5cbiAgX2NyZWF0ZUNsYXNzKFNjaGVtYVNwZWMsIFt7XG4gICAga2V5OiBcInVwZGF0ZU5vZGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZU5vZGVzKG5vZGVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNjaGVtYVNwZWMob3ZlcmxheU9iaih0aGlzLm5vZGVzLCBub2RlcyksIHRoaXMuc3R5bGVzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQXR0cmlidXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZShmaWx0ZXIsIGF0dHJOYW1lLCBhdHRySW5mbykge1xuICAgICAgdmFyIGNvcHkgPSBjb3B5T2JqKHRoaXMubm9kZXMpO1xuICAgICAgZm9yICh2YXIgX25hbWU4IGluIGNvcHkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT0gXCJzdHJpbmdcIiA/IGZpbHRlciA9PSBfbmFtZTggOiB0eXBlb2YgZmlsdGVyID09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcihfbmFtZTgsIGNvcHlbX25hbWU4XSkgOiBmaWx0ZXIgPyBmaWx0ZXIgPT0gY29weVtfbmFtZThdIDogdHJ1ZSkge1xuICAgICAgICAgIHZhciBpbmZvID0gY29weVtfbmFtZThdID0gY29weU9iaihjb3B5W19uYW1lOF0pO1xuICAgICAgICAgIGlmICghaW5mby5hdHRyaWJ1dGVzKSBpbmZvLmF0dHJpYnV0ZXMgPSBjb3B5T2JqKGluZm8udHlwZS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICBpbmZvLmF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gYXR0ckluZm87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgU2NoZW1hU3BlYyhjb3B5LCB0aGlzLnN0eWxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0eWxlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTdHlsZXMoc3R5bGVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNjaGVtYVNwZWModGhpcy5ub2Rlcywgb3ZlcmxheU9iaih0aGlzLnN0eWxlcywgc3R5bGVzKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjaGVtYVNwZWM7XG59KSgpO1xuXG5leHBvcnRzLlNjaGVtYVNwZWMgPSBTY2hlbWFTcGVjO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdEF0dHJzKGF0dHJzKSB7XG4gIHZhciBkZWZhdWx0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAodmFyIGF0dHJOYW1lIGluIGF0dHJzKSB7XG4gICAgdmFyIGF0dHIgPSBhdHRyc1thdHRyTmFtZV07XG4gICAgaWYgKGF0dHJbXCJkZWZhdWx0XCJdID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIGRlZmF1bHRzW2F0dHJOYW1lXSA9IGF0dHJbXCJkZWZhdWx0XCJdO1xuICB9XG4gIHJldHVybiBkZWZhdWx0cztcbn1cblxuZnVuY3Rpb24gX2J1aWxkQXR0cnMoYXR0clNwZWMsIGF0dHJzLCBhcmcxLCBhcmcyKSB7XG4gIHZhciBidWlsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAodmFyIF9uYW1lOSBpbiBhdHRyU3BlYykge1xuICAgIHZhciB2YWx1ZSA9IGF0dHJzICYmIGF0dHJzW19uYW1lOV07XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHZhciBhdHRyID0gYXR0clNwZWNbX25hbWU5XTtcbiAgICAgIGlmIChhdHRyW1wiZGVmYXVsdFwiXSAhPSBudWxsKSB2YWx1ZSA9IGF0dHJbXCJkZWZhdWx0XCJdO2Vsc2UgaWYgKGF0dHIuY29tcHV0ZSkgdmFsdWUgPSBhdHRyLmNvbXB1dGUoYXJnMSwgYXJnMik7ZWxzZSBTY2hlbWFFcnJvci5yYWlzZShcIk5vIHZhbHVlIHN1cHBsaWVkIGZvciBhdHRyaWJ1dGUgXCIgKyBfbmFtZTkpO1xuICAgIH1cbiAgICBidWlsdFtfbmFtZTldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGJ1aWx0O1xufVxuXG4vKipcclxuICogRG9jdW1lbnQgc2NoZW1hIGNsYXNzLlxyXG4gKi9cblxudmFyIFNjaGVtYSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjaGVtYShzcGVjLCBzdHlsZXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NoZW1hKTtcblxuICAgIGlmICghKHNwZWMgaW5zdGFuY2VvZiBTY2hlbWFTcGVjKSkgc3BlYyA9IG5ldyBTY2hlbWFTcGVjKHNwZWMsIHN0eWxlcyk7XG4gICAgdGhpcy5zcGVjID0gc3BlYztcbiAgICB0aGlzLmtpbmRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLm5vZGVzID0gTm9kZVR5cGUuY29tcGlsZShzcGVjLm5vZGVzLCB0aGlzKTtcbiAgICB0aGlzLnN0eWxlcyA9IFN0eWxlVHlwZS5jb21waWxlKHNwZWMuc3R5bGVzLCB0aGlzKTtcbiAgICB0aGlzLmNhY2hlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB0aGlzLm5vZGUgPSB0aGlzLm5vZGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm5vZGVGcm9tSlNPTiA9IHRoaXMubm9kZUZyb21KU09OLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdHlsZUZyb21KU09OID0gdGhpcy5zdHlsZUZyb21KU09OLmJpbmQodGhpcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2NoZW1hLCBbe1xuICAgIGtleTogXCJub2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vZGUodHlwZSwgYXR0cnMsIGNvbnRlbnQsIHN0eWxlcykge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlID09IFwic3RyaW5nXCIpIHR5cGUgPSB0aGlzLm5vZGVUeXBlKHR5cGUpO2Vsc2UgaWYgKCEodHlwZSBpbnN0YW5jZW9mIE5vZGVUeXBlKSkgU2NoZW1hRXJyb3IucmFpc2UoXCJJbnZhbGlkIG5vZGUgdHlwZTogXCIgKyB0eXBlKTtlbHNlIGlmICh0eXBlLnNjaGVtYSAhPSB0aGlzKSBTY2hlbWFFcnJvci5yYWlzZShcIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoXCIgKyB0eXBlLm5hbWUgKyBcIilcIik7XG5cbiAgICAgIHJldHVybiB0eXBlLmNyZWF0ZShhdHRycywgY29udGVudCwgc3R5bGVzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXh0KF90ZXh0LCBzdHlsZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzLnRleHQuY3JlYXRlKG51bGwsIF90ZXh0LCBzdHlsZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0VGV4dGJsb2NrVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dGJsb2NrVHlwZSgpIHtcbiAgICAgIHZhciBjYWNoZWQgPSB0aGlzLmNhY2hlZC5kZWZhdWx0VGV4dGJsb2NrVHlwZTtcbiAgICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGNhY2hlZDtcbiAgICAgIGZvciAodmFyIF9uYW1lMTAgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgICBpZiAodGhpcy5ub2Rlc1tfbmFtZTEwXS5kZWZhdWx0VGV4dGJsb2NrKSByZXR1cm4gdGhpcy5jYWNoZWQuZGVmYXVsdFRleHRibG9ja1R5cGUgPSB0aGlzLm5vZGVzW19uYW1lMTBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkLmRlZmF1bHRUZXh0YmxvY2tUeXBlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R5bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGUobmFtZSwgYXR0cnMpIHtcbiAgICAgIHZhciBzcGVjID0gdGhpcy5zdHlsZXNbbmFtZV0gfHwgU2NoZW1hRXJyb3IucmFpc2UoXCJObyBzdHlsZSBuYW1lZCBcIiArIG5hbWUpO1xuICAgICAgcmV0dXJuIHNwZWMuY3JlYXRlKGF0dHJzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibm9kZUZyb21KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vZGVGcm9tSlNPTihqc29uKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMubm9kZVR5cGUoanNvbi50eXBlKTtcbiAgICAgIHJldHVybiB0eXBlLmNyZWF0ZShqc29uLmF0dHJzLCBqc29uLnRleHQgfHwganNvbi5jb250ZW50ICYmIGpzb24uY29udGVudC5tYXAodGhpcy5ub2RlRnJvbUpTT04pLCBqc29uLnN0eWxlcyAmJiBqc29uLnN0eWxlcy5tYXAodGhpcy5zdHlsZUZyb21KU09OKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eWxlRnJvbUpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGVGcm9tSlNPTihqc29uKSB7XG4gICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJzdHJpbmdcIikgcmV0dXJuIHRoaXMuc3R5bGUoanNvbik7XG4gICAgICByZXR1cm4gdGhpcy5zdHlsZShqc29uLl8sIGpzb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub2RlVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBub2RlVHlwZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2Rlc1tuYW1lXSB8fCBTY2hlbWFFcnJvci5yYWlzZShcIlVua25vd24gbm9kZSB0eXBlOiBcIiArIG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWJLaW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YktpbmQoc3ViLCBzdXApIHtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKHN1YiA9PSBzdXApIHJldHVybiB0cnVlO1xuICAgICAgICBzdWIgPSB0aGlzLmtpbmRzW3N1Yl07XG4gICAgICAgIGlmICghc3ViKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjaGVtYTtcbn0pKCk7XG5cbmV4cG9ydHMuU2NoZW1hID0gU2NoZW1hOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jaGlsZHJlbkJlZm9yZSA9IGNoaWxkcmVuQmVmb3JlO1xuZXhwb3J0cy5zbGljZUJlZm9yZSA9IHNsaWNlQmVmb3JlO1xuZXhwb3J0cy5jaGlsZHJlbkFmdGVyID0gY2hpbGRyZW5BZnRlcjtcbmV4cG9ydHMuc2xpY2VBZnRlciA9IHNsaWNlQWZ0ZXI7XG5leHBvcnRzLmNoaWxkcmVuQmV0d2VlbiA9IGNoaWxkcmVuQmV0d2VlbjtcbmV4cG9ydHMuc2xpY2VCZXR3ZWVuID0gc2xpY2VCZXR3ZWVuO1xuZXhwb3J0cy5zaWJsaW5nUmFuZ2UgPSBzaWJsaW5nUmFuZ2U7XG5cbnZhciBfcG9zID0gcmVxdWlyZShcIi4vcG9zXCIpO1xuXG4vLyBGSVhNRSBtb3ZlIHRvIG5vZGUgbWV0aG9kc1xuXG5mdW5jdGlvbiBjaGlsZHJlbkJlZm9yZShub2RlLCBwb3MpIHtcbiAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1syXTtcblxuICBpZiAoZGVwdGggPT0gcG9zLmRlcHRoKSByZXR1cm4gbm9kZS5zbGljZSgwLCBwb3Mub2Zmc2V0KTtcblxuICB2YXIgbiA9IHBvcy5wYXRoW2RlcHRoXTtcbiAgcmV0dXJuIG5vZGUuc2xpY2UoMCwgbikuY29uY2F0KHNsaWNlQmVmb3JlKG5vZGUuY2hpbGQobiksIHBvcywgZGVwdGggKyAxKSk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmVmb3JlKG5vZGUsIHBvcykge1xuICB2YXIgZGVwdGggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXG4gIHJldHVybiBub2RlLmNvcHkoY2hpbGRyZW5CZWZvcmUobm9kZSwgcG9zLCBkZXB0aCkpO1xufVxuXG5mdW5jdGlvbiBjaGlsZHJlbkFmdGVyKG5vZGUsIHBvcykge1xuICB2YXIgZGVwdGggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXG4gIGlmIChkZXB0aCA9PSBwb3MuZGVwdGgpIHJldHVybiBub2RlLnNsaWNlKHBvcy5vZmZzZXQpO1xuICB2YXIgbiA9IHBvcy5wYXRoW2RlcHRoXTtcbiAgdmFyIGNvbnRlbnQgPSBub2RlLnNsaWNlKG4gKyAxKTtcbiAgY29udGVudC51bnNoaWZ0KHNsaWNlQWZ0ZXIobm9kZS5jaGlsZChuKSwgcG9zLCBkZXB0aCArIDEpKTtcbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQWZ0ZXIobm9kZSwgcG9zKSB7XG4gIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cbiAgcmV0dXJuIG5vZGUuY29weShjaGlsZHJlbkFmdGVyKG5vZGUsIHBvcywgZGVwdGgpKTtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5CZXR3ZWVuKG5vZGUsIGZyb20sIHRvKSB7XG4gIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbM107XG5cbiAgdmFyIGZyb21FbmQgPSBkZXB0aCA9PSBmcm9tLmRlcHRoLFxuICAgICAgdG9FbmQgPSBkZXB0aCA9PSB0by5kZXB0aDtcbiAgaWYgKGZyb21FbmQgJiYgdG9FbmQpIHJldHVybiBub2RlLnNsaWNlKGZyb20ub2Zmc2V0LCB0by5vZmZzZXQpO1xuICBpZiAoIWZyb21FbmQgJiYgIXRvRW5kICYmIGZyb20ucGF0aFtkZXB0aF0gPT0gdG8ucGF0aFtkZXB0aF0pIHJldHVybiBbc2xpY2VCZXR3ZWVuKG5vZGUuY2hpbGQoZnJvbS5wYXRoW2RlcHRoXSksIGZyb20sIHRvLCBmYWxzZSwgZGVwdGggKyAxKV07XG5cbiAgdmFyIGNvbnRlbnQgPSBbXSxcbiAgICAgIHN0YXJ0ID0gdW5kZWZpbmVkO1xuICBpZiAoIWZyb21FbmQpIHtcbiAgICBzdGFydCA9IGZyb20ucGF0aFtkZXB0aF0gKyAxO1xuICAgIGNvbnRlbnQucHVzaChzbGljZUFmdGVyKG5vZGUuY2hpbGQoc3RhcnQgLSAxKSwgZnJvbSwgZGVwdGggKyAxKSk7XG4gIH0gZWxzZSB7XG4gICAgc3RhcnQgPSBmcm9tLm9mZnNldDtcbiAgfVxuICB2YXIgZW5kID0gdG9FbmQgPyB0by5vZmZzZXQgOiB0by5wYXRoW2RlcHRoXTtcbiAgdmFyIGJldHdlZW4gPSBub2RlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJldHdlZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb250ZW50LnB1c2goYmV0d2VlbltpXSk7XG4gIH1pZiAoIXRvRW5kKSBjb250ZW50LnB1c2goc2xpY2VCZWZvcmUobm9kZS5jaGlsZChlbmQpLCB0bywgZGVwdGggKyAxKSk7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG5mdW5jdGlvbiBzbGljZUJldHdlZW4obm9kZSwgZnJvbSwgdG8pIHtcbiAgdmFyIGNvbGxhcHNlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1szXTtcbiAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s0XTtcblxuICBpZiAoZGVwdGggPCBmcm9tLmRlcHRoICYmIGRlcHRoIDwgdG8uZGVwdGggJiYgZnJvbS5wYXRoW2RlcHRoXSA9PSB0by5wYXRoW2RlcHRoXSkge1xuICAgIHZhciBpbm5lciA9IHNsaWNlQmV0d2Vlbihub2RlLmNoaWxkKGZyb20ucGF0aFtkZXB0aF0pLCBmcm9tLCB0bywgY29sbGFwc2UsIGRlcHRoICsgMSk7XG4gICAgaWYgKCFjb2xsYXBzZSkgcmV0dXJuIG5vZGUuY29weShbaW5uZXJdKTtcbiAgICBpZiAobm9kZS50eXBlLm5hbWUgIT0gXCJkb2NcIikgcmV0dXJuIGlubmVyO1xuICAgIHZhciBjb25uID0gbm9kZS50eXBlLmZpbmRDb25uZWN0aW9uKGlubmVyLnR5cGUpO1xuICAgIGZvciAodmFyIGkgPSBjb25uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpbm5lciA9IG5vZGUudHlwZS5zY2hlbWEubm9kZShjb25uW2ldLCBudWxsLCBbaW5uZXJdKTtcbiAgICB9cmV0dXJuIG5vZGUuY29weShbaW5uZXJdKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZS5jb3B5KGNoaWxkcmVuQmV0d2Vlbihub2RlLCBmcm9tLCB0bywgZGVwdGgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaWJsaW5nUmFuZ2UoZG9jLCBmcm9tLCB0bykge1xuICBmb3IgKHZhciBpID0gMCwgbm9kZSA9IGRvYzs7IGkrKykge1xuICAgIGlmIChub2RlLmlzVGV4dGJsb2NrKSB7XG4gICAgICB2YXIgcGF0aCA9IGZyb20ucGF0aC5zbGljZSgwLCBpIC0gMSksXG4gICAgICAgICAgb2Zmc2V0ID0gZnJvbS5wYXRoW2kgLSAxXTtcbiAgICAgIHJldHVybiB7IGZyb206IG5ldyBfcG9zLlBvcyhwYXRoLCBvZmZzZXQpLCB0bzogbmV3IF9wb3MuUG9zKHBhdGgsIG9mZnNldCArIDEpIH07XG4gICAgfVxuICAgIHZhciBmcm9tRW5kID0gaSA9PSBmcm9tLnBhdGgubGVuZ3RoLFxuICAgICAgICB0b0VuZCA9IGkgPT0gdG8ucGF0aC5sZW5ndGg7XG4gICAgdmFyIGxlZnQgPSBmcm9tRW5kID8gZnJvbS5vZmZzZXQgOiBmcm9tLnBhdGhbaV07XG4gICAgdmFyIHJpZ2h0ID0gdG9FbmQgPyB0by5vZmZzZXQgOiB0by5wYXRoW2ldO1xuICAgIGlmIChmcm9tRW5kIHx8IHRvRW5kIHx8IGxlZnQgIT0gcmlnaHQpIHtcbiAgICAgIHZhciBwYXRoID0gZnJvbS5wYXRoLnNsaWNlKDAsIGkpO1xuICAgICAgcmV0dXJuIHsgZnJvbTogbmV3IF9wb3MuUG9zKHBhdGgsIGxlZnQpLCB0bzogbmV3IF9wb3MuUG9zKHBhdGgsIHJpZ2h0ICsgKHRvRW5kID8gMCA6IDEpKSB9O1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5jaGlsZChsZWZ0KTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHMucmVtb3ZlU3R5bGUgPSByZW1vdmVTdHlsZTtcbmV4cG9ydHMuc2FtZVN0eWxlcyA9IHNhbWVTdHlsZXM7XG5leHBvcnRzLmNvbnRhaW5zU3R5bGUgPSBjb250YWluc1N0eWxlO1xuZXhwb3J0cy5zcGFuU3R5bGVzQXQgPSBzcGFuU3R5bGVzQXQ7XG5leHBvcnRzLnJhbmdlSGFzU3R5bGUgPSByYW5nZUhhc1N0eWxlO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU3R5bGVNYXJrZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHlsZU1hcmtlcih0eXBlLCBhdHRycykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZU1hcmtlcik7XG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdHlsZU1hcmtlciwgW3tcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIGlmICh0aGlzLnR5cGUuaW5zdGFuY2UpIHJldHVybiB0aGlzLnR5cGUubmFtZTtcbiAgICAgIHZhciBvYmogPSB7IF86IHRoaXMudHlwZS5uYW1lIH07XG4gICAgICBmb3IgKHZhciBhdHRyIGluIHRoaXMuYXR0cnMpIHtcbiAgICAgICAgb2JqW2F0dHJdID0gdGhpcy5hdHRyc1thdHRyXTtcbiAgICAgIH1yZXR1cm4gb2JqO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRUb1NldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRUb1NldChzZXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHNldFtpXTtcbiAgICAgICAgaWYgKG90aGVyLnR5cGUgPT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZXEob3RoZXIpKSByZXR1cm4gc2V0O2Vsc2UgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2V0LnNsaWNlKDAsIGkpKSwgW3RoaXNdLCBfdG9Db25zdW1hYmxlQXJyYXkoc2V0LnNsaWNlKGkgKyAxKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci50eXBlLnJhbmsgPiB0aGlzLnR5cGUucmFuaykgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2V0LnNsaWNlKDAsIGkpKSwgW3RoaXNdLCBfdG9Db25zdW1hYmxlQXJyYXkoc2V0LnNsaWNlKGkpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0LmNvbmNhdCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRnJvbVNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGcm9tU2V0KHNldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIGlmICh0aGlzLmVxKHNldFtpXSkpIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNldC5zbGljZSgwLCBpKSksIF90b0NvbnN1bWFibGVBcnJheShzZXQuc2xpY2UoaSArIDEpKSk7XG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0luU2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzSW5TZXQoc2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5lcShzZXRbaV0pKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1yZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVxXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxKG90aGVyKSB7XG4gICAgICBpZiAodGhpcy50eXBlICE9IG90aGVyLnR5cGUpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAodmFyIGF0dHIgaW4gdGhpcy5hdHRycykge1xuICAgICAgICBpZiAob3RoZXIuYXR0cnNbYXR0cl0gIT0gdGhpcy5hdHRyc1thdHRyXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfXJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHlsZU1hcmtlcjtcbn0pKCk7XG5cbmV4cG9ydHMuU3R5bGVNYXJrZXIgPSBTdHlsZU1hcmtlcjtcblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGUoc2V0LCB0eXBlKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSBpZiAoc2V0W2ldLnR5cGUgPT0gdHlwZSkgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2V0LnNsaWNlKDAsIGkpKSwgX3RvQ29uc3VtYWJsZUFycmF5KHNldC5zbGljZShpICsgMSkpKTtcbiAgcmV0dXJuIHNldDtcbn1cblxuZnVuY3Rpb24gc2FtZVN0eWxlcyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWFbaV0uZXEoYltpXSkpIHJldHVybiBmYWxzZTtcbiAgfXJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb250YWluc1N0eWxlKHNldCwgdHlwZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzZXRbaV0udHlwZSA9PSB0eXBlKSByZXR1cm4gc2V0W2ldO1xuICB9cmV0dXJuIGZhbHNlO1xufVxuXG52YXIgZW1wdHkgPSBbXTtcblxuZnVuY3Rpb24gc3BhblN0eWxlc0F0KGRvYywgcG9zKSB7XG4gIHZhciBwYXJlbnQgPSBkb2MucGF0aChwb3MucGF0aCk7XG4gIGlmICghcGFyZW50LmlzVGV4dGJsb2NrKSByZXR1cm4gZW1wdHk7XG4gIHZhciBub2RlID0gcGFyZW50LmNoaWxkQmVmb3JlKHBvcy5vZmZzZXQpLm5vZGUgfHwgcGFyZW50LmZpcnN0Q2hpbGQ7XG4gIHJldHVybiBub2RlID8gbm9kZS5zdHlsZXMgOiBlbXB0eTtcbn1cblxuZnVuY3Rpb24gcmFuZ2VIYXNTdHlsZShkb2MsIGZyb20sIHRvLCB0eXBlKSB7XG4gIHZhciBmb3VuZCA9IGZhbHNlO1xuICBkb2MuaW5saW5lTm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChjb250YWluc1N0eWxlKG5vZGUuc3R5bGVzLCB0eXBlKSkgZm91bmQgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIGZvdW5kO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHMuZnJvbURPTSA9IGZyb21ET007XG5leHBvcnRzLmZyb21IVE1MID0gZnJvbUhUTUw7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfbW9kZWwgPSByZXF1aXJlKFwiLi4vbW9kZWxcIik7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcblxuZnVuY3Rpb24gZnJvbURPTShzY2hlbWEsIGRvbSwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dChzY2hlbWEsIG9wdGlvbnMudG9wTm9kZSB8fCBzY2hlbWEubm9kZShcImRvY1wiKSk7XG4gIHZhciBzdGFydCA9IG9wdGlvbnMuZnJvbSA/IGRvbS5jaGlsZE5vZGVzW29wdGlvbnMuZnJvbV0gOiBkb20uZmlyc3RDaGlsZDtcbiAgdmFyIGVuZCA9IG9wdGlvbnMudG8gIT0gbnVsbCAmJiBkb20uY2hpbGROb2Rlc1tvcHRpb25zLnRvXSB8fCBudWxsO1xuICBjb250ZXh0LmFkZEFsbChzdGFydCwgZW5kLCB0cnVlKTtcbiAgdmFyIGRvYyA9IHVuZGVmaW5lZDtcbiAgd2hpbGUgKGNvbnRleHQuc3RhY2subGVuZ3RoKSBkb2MgPSBjb250ZXh0LmxlYXZlKCk7XG4gIHJldHVybiBkb2M7XG59XG5cbigwLCBfaW5kZXguZGVmaW5lU291cmNlKShcImRvbVwiLCBmcm9tRE9NKTtcblxuZnVuY3Rpb24gZnJvbUhUTUwoc2NoZW1hLCBodG1sLCBvcHRpb25zKSB7XG4gIHZhciB3cmFwID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHdyYXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIGZyb21ET00oc2NoZW1hLCB3cmFwLCBvcHRpb25zKTtcbn1cblxuKDAsIF9pbmRleC5kZWZpbmVTb3VyY2UpKFwiaHRtbFwiLCBmcm9tSFRNTCk7XG5cbnZhciBibG9ja0VsZW1lbnRzID0ge1xuICBhZGRyZXNzOiB0cnVlLCBhcnRpY2xlOiB0cnVlLCBhc2lkZTogdHJ1ZSwgYmxvY2txdW90ZTogdHJ1ZSwgY2FudmFzOiB0cnVlLFxuICBkZDogdHJ1ZSwgZGl2OiB0cnVlLCBkbDogdHJ1ZSwgZmllbGRzZXQ6IHRydWUsIGZpZ2NhcHRpb246IHRydWUsIGZpZ3VyZTogdHJ1ZSxcbiAgZm9vdGVyOiB0cnVlLCBmb3JtOiB0cnVlLCBoMTogdHJ1ZSwgaDI6IHRydWUsIGgzOiB0cnVlLCBoNDogdHJ1ZSwgaDU6IHRydWUsXG4gIGg2OiB0cnVlLCBoZWFkZXI6IHRydWUsIGhncm91cDogdHJ1ZSwgaHI6IHRydWUsIGxpOiB0cnVlLCBub3NjcmlwdDogdHJ1ZSwgb2w6IHRydWUsXG4gIG91dHB1dDogdHJ1ZSwgcDogdHJ1ZSwgcHJlOiB0cnVlLCBzZWN0aW9uOiB0cnVlLCB0YWJsZTogdHJ1ZSwgdGZvb3Q6IHRydWUsIHVsOiB0cnVlXG59O1xuXG52YXIgQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbnRleHQoc2NoZW1hLCB0b3BOb2RlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRleHQpO1xuXG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgdGhpcy5zdGFjayA9IFtdO1xuICAgIHRoaXMuc3R5bGVzID0gW107XG4gICAgdGhpcy5jbG9zaW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbnRlcih0b3BOb2RlLnR5cGUsIHRvcE5vZGUuYXR0cnMpO1xuICAgIHRoaXMubm9kZUluZm8gPSBub2RlSW5mbyhzY2hlbWEpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbnRleHQsIFt7XG4gICAga2V5OiBcInBhcnNlQXR0cnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VBdHRycyhkb20sIHR5cGUsIGF0dHJzKSB7XG4gICAgICBmb3IgKHZhciBhdHRyIGluIHR5cGUuYXR0cnMpIHtcbiAgICAgICAgdmFyIGRlc2MgPSB0eXBlLmF0dHJzW2F0dHJdO1xuICAgICAgICBpZiAoZGVzYy5wYXJzZURPTSAmJiAoIWF0dHJzIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGF0dHIpKSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGRlc2MucGFyc2VET00oZG9tLCB0aGlzLm9wdGlvbnMsIGRlc2MsIHR5cGUpO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIWF0dHJzKSBhdHRycyA9IHt9O1xuICAgICAgICAgICAgYXR0cnNbYXR0cl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkRE9NXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZERPTShkb20pIHtcbiAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAvLyBGSVhNRSBkZWZpbmUgYSBjb2hlcmVudCBzdHJhdGVneSBmb3IgZGVhbGluZyB3aXRoIHRyYWlsaW5nLCBsZWFkaW5nLCBhbmQgbXVsdGlwbGUgc3BhY2VzICh0aGlzIGlzbid0IG9uZSlcbiAgICAgICAgdmFyIHZhbHVlID0gZG9tLm5vZGVWYWx1ZTtcbiAgICAgICAgdmFyIF90b3AgPSB0aGlzLnRvcCxcbiAgICAgICAgICAgIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICgvXFxTLy50ZXN0KHZhbHVlKSB8fCBfdG9wLnR5cGUuaXNUZXh0YmxvY2spIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgICAgICAgIGlmICgvXlxccy8udGVzdCh2YWx1ZSkgJiYgKGxhc3QgPSBfdG9wLmNvbnRlbnRbX3RvcC5jb250ZW50Lmxlbmd0aCAtIDFdKSAmJiBsYXN0LnR5cGUubmFtZSA9PSBcInRleHRcIiAmJiAvXFxzJC8udGVzdChsYXN0LnRleHQpKSB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEpO1xuICAgICAgICAgIGlmICh2YWx1ZSkgdGhpcy5pbnNlcnQodGhpcy5zY2hlbWEudGV4dCh2YWx1ZSwgdGhpcy5zdHlsZXMpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkb20ubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAvLyBJZ25vcmUgbm9uLXRleHQgbm9uLWVsZW1lbnQgbm9kZXNcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMucGFyc2VOb2RlVHlwZShkb20pKSB7XG4gICAgICAgICAgdGhpcy5hZGRBbGwoZG9tLmZpcnN0Q2hpbGQsIG51bGwpO1xuICAgICAgICAgIHZhciBfbmFtZSA9IGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChibG9ja0VsZW1lbnRzLmhhc093blByb3BlcnR5KF9uYW1lKSAmJiB0aGlzLnRvcC50eXBlID09IHRoaXMuc2NoZW1hLmRlZmF1bHRUZXh0YmxvY2tUeXBlKCkpIHRoaXMuY2xvc2luZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJ5UGFyc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cnlQYXJzZXJzKHBhcnNlcnMsIGRvbSkge1xuICAgICAgaWYgKHBhcnNlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFyc2VyID0gcGFyc2Vyc1tpXTtcbiAgICAgICAgaWYgKHBhcnNlci5wYXJzZShkb20sIHRoaXMsIHBhcnNlci50eXBlLCBudWxsLCB0aGlzLm9wdGlvbnMpICE9PSBmYWxzZSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBhcnNlTm9kZVR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VOb2RlVHlwZShkb20pIHtcbiAgICAgIHJldHVybiB0aGlzLnRyeVBhcnNlcnModGhpcy5ub2RlSW5mb1tkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIGRvbSkgfHwgdGhpcy50cnlQYXJzZXJzKHRoaXMubm9kZUluZm8uXywgZG9tKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEFsbChmcm9tLCB0bywgc3luYykge1xuICAgICAgdmFyIHN0YWNrID0gc3luYyAmJiB0aGlzLnN0YWNrLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciBkb20gPSBmcm9tOyBkb20gIT0gdG87IGRvbSA9IGRvbS5uZXh0U2libGluZykge1xuICAgICAgICB0aGlzLmFkZERPTShkb20pO1xuICAgICAgICBpZiAoc3luYyAmJiBibG9ja0VsZW1lbnRzLmhhc093blByb3BlcnR5KGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSkgdGhpcy5zeW5jKHN0YWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG9DbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0Nsb3NlKCkge1xuICAgICAgaWYgKCF0aGlzLmNsb3NpbmcgfHwgdGhpcy5zdGFjay5sZW5ndGggPCAyKSByZXR1cm47XG4gICAgICB2YXIgbGVmdCA9IHRoaXMubGVhdmUoKTtcbiAgICAgIHRoaXMuZW50ZXIobGVmdC50eXBlLCBsZWZ0LmF0dHJzKTtcbiAgICAgIHRoaXMuY2xvc2luZyA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbnNlcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5zZXJ0KG5vZGUpIHtcbiAgICAgIGlmICh0aGlzLnRvcC50eXBlLmNhbkNvbnRhaW4obm9kZSkpIHtcbiAgICAgICAgdGhpcy5kb0Nsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciByb3V0ZSA9IHRoaXMuc3RhY2tbaV0udHlwZS5maW5kQ29ubmVjdGlvbihub2RlLnR5cGUpO1xuICAgICAgICAgIGlmICghcm91dGUpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChpID09IHRoaXMuc3RhY2subGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5kb0Nsb3NlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnN0YWNrLmxlbmd0aCA+IGkgKyAxKSB0aGlzLmxlYXZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm91dGUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuZW50ZXIocm91dGVbal0pO1xuICAgICAgICAgIH1pZiAodGhpcy5zdHlsZXMubGVuZ3RoKSB0aGlzLnN0eWxlcyA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnRvcC5jb250ZW50LnB1c2gobm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5zZXJ0RnJvbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnNlcnRGcm9tKGRvbSwgdHlwZSwgYXR0cnMsIGNvbnRlbnQsIHN0eWxlcykge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHR5cGUuY3JlYXRlQXV0b0ZpbGwodGhpcy5wYXJzZUF0dHJzKGRvbSwgdHlwZSwgYXR0cnMpLCBjb250ZW50LCBzdHlsZXMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW50ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW50ZXIodHlwZSwgYXR0cnMpIHtcbiAgICAgIGlmICh0aGlzLnN0eWxlcy5sZW5ndGgpIHRoaXMuc3R5bGVzID0gW107XG4gICAgICB0aGlzLnN0YWNrLnB1c2goeyB0eXBlOiB0eXBlLCBhdHRyczogYXR0cnMsIGNvbnRlbnQ6IFtdIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbnRlckZyb21cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW50ZXJGcm9tKGRvbSwgdHlwZSwgYXR0cnMpIHtcbiAgICAgIHRoaXMuZW50ZXIodHlwZSwgdGhpcy5wYXJzZUF0dHJzKGRvbSwgdHlwZSwgYXR0cnMpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmUoKSB7XG4gICAgICB2YXIgdG9wID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgIHZhciBub2RlID0gdG9wLnR5cGUuY3JlYXRlQXV0b0ZpbGwodG9wLmF0dHJzLCB0b3AuY29udGVudCk7XG4gICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGgpIHRoaXMuaW5zZXJ0KG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN5bmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3luYyhzdGFjaykge1xuICAgICAgd2hpbGUgKHRoaXMuc3RhY2subGVuZ3RoID4gc3RhY2subGVuZ3RoKSB0aGlzLmxlYXZlKCk7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5zdGFjay5sZW5ndGggLSAxLFxuICAgICAgICAgICAgb25lID0gdGhpcy5zdGFja1tuXSxcbiAgICAgICAgICAgIHR3byA9IHN0YWNrW25dO1xuICAgICAgICBpZiAoKDAsIF9tb2RlbC5jb21wYXJlTWFya3VwKShvbmUudHlwZSwgdHdvLnR5cGUsIG9uZS5hdHRycywgdHdvLmF0dHJzKSkgYnJlYWs7XG4gICAgICAgIHRoaXMubGVhdmUoKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiB0aGlzLnN0YWNrLmxlbmd0aCkge1xuICAgICAgICB2YXIgYWRkID0gc3RhY2tbdGhpcy5zdGFjay5sZW5ndGhdO1xuICAgICAgICB0aGlzLmVudGVyKGFkZC50eXBlLCBhZGQuYXR0cnMpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3R5bGVzLmxlbmd0aCkgdGhpcy5zdHlsZXMgPSBbXTtcbiAgICAgIHRoaXMuY2xvc2luZyA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b3BcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbnRleHQ7XG59KSgpO1xuXG5mdW5jdGlvbiBub2RlSW5mbyhzY2hlbWEpIHtcbiAgcmV0dXJuIHNjaGVtYS5jYWNoZWQucGFyc2VET01Ob2RlcyB8fCAoc2NoZW1hLmNhY2hlZC5wYXJzZURPTU5vZGVzID0gc3VtbWFyaXplTm9kZUluZm8oc2NoZW1hKSk7XG59XG5cbmZ1bmN0aW9uIHN1bW1hcml6ZU5vZGVJbmZvKHNjaGVtYSkge1xuICB2YXIgdGFncyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRhZ3MuXyA9IFtdO1xuICBmdW5jdGlvbiByZWFkKHZhbHVlKSB7XG4gICAgdmFyIGluZm8gPSB2YWx1ZS5wYXJzZURPTTtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcbiAgICBpbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIHZhciB0YWcgPSBpbmZvLnRhZyB8fCBcIl9cIjsodGFnc1t0YWddIHx8ICh0YWdzW3RhZ10gPSBbXSkpLnB1c2goe1xuICAgICAgICB0eXBlOiB2YWx1ZSxcbiAgICAgICAgcmFuazogaW5mby5yYW5rID09IG51bGwgPyA1MCA6IGluZm8ucmFuayxcbiAgICAgICAgcGFyc2U6IGluZm8ucGFyc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgX25hbWUyIGluIHNjaGVtYS5ub2Rlcykge1xuICAgIHJlYWQoc2NoZW1hLm5vZGVzW19uYW1lMl0pO1xuICB9Zm9yICh2YXIgX25hbWUzIGluIHNjaGVtYS5zdHlsZXMpIHtcbiAgICByZWFkKHNjaGVtYS5zdHlsZXNbX25hbWUzXSk7XG4gIH1mb3IgKHZhciB0YWcgaW4gdGFncykge1xuICAgIHRhZ3NbdGFnXS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5yYW5rIC0gYi5yYW5rO1xuICAgIH0pO1xuICB9cmV0dXJuIHRhZ3M7XG59XG5cbmZ1bmN0aW9uIHdyYXAoZG9tLCBjb250ZXh0LCB0eXBlLCBhdHRycykge1xuICBjb250ZXh0LmVudGVyRnJvbShkb20sIHR5cGUsIGF0dHJzKTtcbiAgY29udGV4dC5hZGRBbGwoZG9tLmZpcnN0Q2hpbGQsIG51bGwsIHRydWUpO1xuICBjb250ZXh0LmxlYXZlKCk7XG59XG5cbl9tb2RlbC5QYXJhZ3JhcGgucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7IHRhZzogXCJwXCIsIHBhcnNlOiB3cmFwIH0pO1xuXG5fbW9kZWwuQmxvY2tRdW90ZS5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcImJsb2NrcXVvdGVcIiwgcGFyc2U6IHdyYXAgfSk7XG5cbnZhciBfbG9vcCA9IGZ1bmN0aW9uIChpKSB7XG4gIF9tb2RlbC5IZWFkaW5nLnJlZ2lzdGVyKFwicGFyc2VET01cIiwge1xuICAgIHRhZzogXCJoXCIgKyBpLFxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkb20sIGNvbnRleHQsIHR5cGUpIHtcbiAgICAgIHJldHVybiB3cmFwKGRvbSwgY29udGV4dCwgdHlwZSwgeyBsZXZlbDogaSB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZm9yICh2YXIgaSA9IDE7IGkgPD0gNjsgaSsrKSB7XG4gIF9sb29wKGkpO1xufV9tb2RlbC5Ib3Jpem9udGFsUnVsZS5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcImhyXCIsIHBhcnNlOiB3cmFwIH0pO1xuXG5fbW9kZWwuQ29kZUJsb2NrLnJlZ2lzdGVyKFwicGFyc2VET01cIiwgeyB0YWc6IFwicHJlXCIsIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkb20sIGNvbnRleHQsIHR5cGUpIHtcbiAgICB2YXIgcGFyYW1zID0gZG9tLmZpcnN0Q2hpbGQgJiYgL15jb2RlJC9pLnRlc3QoZG9tLmZpcnN0Q2hpbGQubm9kZU5hbWUpICYmIGRvbS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGlmIChwYXJhbXMgJiYgL2ZlbmNlLy50ZXN0KHBhcmFtcykpIHtcbiAgICAgIHZhciBmb3VuZCA9IFtdLFxuICAgICAgICAgIHJlID0gLyg/Ol58XFxzKWxhbmctKFxcUyspL2csXG4gICAgICAgICAgbSA9IHVuZGVmaW5lZDtcbiAgICAgIHdoaWxlIChtID0gcmUudGVzdChwYXJhbXMpKSBmb3VuZC5wdXNoKG1bMV0pO1xuICAgICAgcGFyYW1zID0gZm91bmQuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnRleHQuaW5zZXJ0RnJvbShkb20sIHR5cGUsIHsgcGFyYW1zOiBwYXJhbXMgfSwgW2NvbnRleHQuc2NoZW1hLnRleHQoZG9tLnRleHRDb250ZW50KV0pO1xuICB9IH0pO1xuXG5fbW9kZWwuQnVsbGV0TGlzdC5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcInVsXCIsIHBhcnNlOiB3cmFwIH0pO1xuXG5fbW9kZWwuT3JkZXJlZExpc3QucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7IHRhZzogXCJvbFwiLCBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZG9tLCBjb250ZXh0LCB0eXBlKSB7XG4gICAgdmFyIGF0dHJzID0geyBvcmRlcjogZG9tLmdldEF0dHJpYnV0ZShcInN0YXJ0XCIpIHx8IDEgfTtcbiAgICB3cmFwKGRvbSwgY29udGV4dCwgdHlwZSwgYXR0cnMpO1xuICB9IH0pO1xuXG5fbW9kZWwuTGlzdEl0ZW0ucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7IHRhZzogXCJsaVwiLCBwYXJzZTogd3JhcCB9KTtcblxuX21vZGVsLkhhcmRCcmVhay5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcImJyXCIsIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkb20sIGNvbnRleHQsIHR5cGUpIHtcbiAgICBpZiAoIWRvbS5oYXNBdHRyaWJ1dGUoXCJwbS1mb3JjZS1iclwiKSkgY29udGV4dC5pbnNlcnRGcm9tKGRvbSwgdHlwZSwgbnVsbCwgbnVsbCwgY29udGV4dC5zdHlsZXMpO1xuICB9IH0pO1xuXG5fbW9kZWwuSW1hZ2UucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7IHRhZzogXCJpbWdcIiwgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGRvbSwgY29udGV4dCwgdHlwZSkge1xuICAgIGNvbnRleHQuaW5zZXJ0RnJvbShkb20sIHR5cGUsIHtcbiAgICAgIHNyYzogZG9tLmdldEF0dHJpYnV0ZShcInNyY1wiKSxcbiAgICAgIHRpdGxlOiBkb20uZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgfHwgbnVsbCxcbiAgICAgIGFsdDogZG9tLmdldEF0dHJpYnV0ZShcImFsdFwiKSB8fCBudWxsXG4gICAgfSk7XG4gIH0gfSk7XG5cbi8vIElubGluZSBzdHlsZSB0b2tlbnNcblxuZnVuY3Rpb24gaW5saW5lKGRvbSwgY29udGV4dCwgc3R5bGUpIHtcbiAgdmFyIG9sZCA9IGNvbnRleHQuc3R5bGVzO1xuICBjb250ZXh0LnN0eWxlcyA9IChzdHlsZS5pbnN0YW5jZSB8fCBzdHlsZSkuYWRkVG9TZXQob2xkKTtcbiAgY29udGV4dC5hZGRBbGwoZG9tLmZpcnN0Q2hpbGQsIG51bGwpO1xuICBjb250ZXh0LnN0eWxlcyA9IG9sZDtcbn1cblxuX21vZGVsLkxpbmtTdHlsZS5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcImFcIiwgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGRvbSwgY29udGV4dCwgc3R5bGUpIHtcbiAgICB2YXIgaHJlZiA9IGRvbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgIGlmICghaHJlZikgcmV0dXJuIGZhbHNlO1xuICAgIGlubGluZShkb20sIGNvbnRleHQsIHN0eWxlLmNyZWF0ZSh7IGhyZWY6IGhyZWYsIHRpdGxlOiBkb20uZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgfSkpO1xuICB9IH0pO1xuXG5fbW9kZWwuRW1TdHlsZS5yZWdpc3RlcihcInBhcnNlRE9NXCIsIHsgdGFnOiBcImlcIiwgcGFyc2U6IGlubGluZSB9KTtcbl9tb2RlbC5FbVN0eWxlLnJlZ2lzdGVyKFwicGFyc2VET01cIiwgeyB0YWc6IFwiZW1cIiwgcGFyc2U6IGlubGluZSB9KTtcblxuX21vZGVsLlN0cm9uZ1N0eWxlLnJlZ2lzdGVyKFwicGFyc2VET01cIiwgeyB0YWc6IFwiYlwiLCBwYXJzZTogaW5saW5lIH0pO1xuX21vZGVsLlN0cm9uZ1N0eWxlLnJlZ2lzdGVyKFwicGFyc2VET01cIiwgeyB0YWc6IFwic3Ryb25nXCIsIHBhcnNlOiBpbmxpbmUgfSk7XG5cbl9tb2RlbC5Db2RlU3R5bGUucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7IHRhZzogXCJjb2RlXCIsIHBhcnNlOiBpbmxpbmUgfSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvbnZlcnRGcm9tID0gY29udmVydEZyb207XG5leHBvcnRzLmtub3duU291cmNlID0ga25vd25Tb3VyY2U7XG5leHBvcnRzLmRlZmluZVNvdXJjZSA9IGRlZmluZVNvdXJjZTtcbnZhciBwYXJzZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gY29udmVydEZyb20oc2NoZW1hLCB2YWx1ZSwgZm9ybWF0LCBhcmcpIHtcbiAgdmFyIGNvbnZlcnRlciA9IHBhcnNlcnNbZm9ybWF0XTtcbiAgaWYgKCFjb252ZXJ0ZXIpIHRocm93IG5ldyBFcnJvcihcIlNvdXJjZSBmb3JtYXQgXCIgKyBmb3JtYXQgKyBcIiBub3QgZGVmaW5lZFwiKTtcbiAgcmV0dXJuIGNvbnZlcnRlcihzY2hlbWEsIHZhbHVlLCBhcmcpO1xufVxuXG5mdW5jdGlvbiBrbm93blNvdXJjZShmb3JtYXQpIHtcbiAgcmV0dXJuICEhcGFyc2Vyc1tmb3JtYXRdO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVTb3VyY2UoZm9ybWF0LCBmdW5jKSB7XG4gIHBhcnNlcnNbZm9ybWF0XSA9IGZ1bmM7XG59XG5cbmRlZmluZVNvdXJjZShcImpzb25cIiwgZnVuY3Rpb24gKHNjaGVtYSwganNvbikge1xuICByZXR1cm4gc2NoZW1hLm5vZGVGcm9tSlNPTihqc29uKTtcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5mcm9tVGV4dCA9IGZyb21UZXh0O1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZShcIi4vaW5kZXhcIik7XG5cbi8vIEZJWE1FIGlzIGl0IG1lYW5pbmdmdWwgdG8gdHJ5IGFuZCBhdHRhY2ggdGV4dC1wYXJzaW5nIGluZm9ybWF0aW9uXG4vLyB0byBub2RlIHR5cGVzP1xuXG5mdW5jdGlvbiBmcm9tVGV4dChzY2hlbWEsIHRleHQpIHtcbiAgdmFyIGJsb2NrcyA9IHRleHQudHJpbSgpLnNwbGl0KC9cXG57Mix9Lyk7XG4gIHZhciBub2RlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzcGFucyA9IFtdO1xuICAgIHZhciBwYXJ0cyA9IGJsb2Nrc1tpXS5zcGxpdChcIlxcblwiKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoaikgc3BhbnMucHVzaChzY2hlbWEubm9kZShcImhhcmRfYnJlYWtcIikpO1xuICAgICAgaWYgKHBhcnRzW2pdKSBzcGFucy5wdXNoKHNjaGVtYS50ZXh0KHBhcnRzW2pdKSk7XG4gICAgfVxuICAgIG5vZGVzLnB1c2goc2NoZW1hLm5vZGUoXCJwYXJhZ3JhcGhcIiwgbnVsbCwgc3BhbnMpKTtcbiAgfVxuICBpZiAoIW5vZGVzLmxlbmd0aCkgbm9kZXMucHVzaChzY2hlbWEubm9kZShcInBhcmFncmFwaFwiKSk7XG4gIHJldHVybiBzY2hlbWEubm9kZShcImRvY1wiLCBudWxsLCBub2Rlcyk7XG59XG5cbigwLCBfaW5kZXguZGVmaW5lU291cmNlKShcInRleHRcIiwgZnJvbVRleHQpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy50b0RPTSA9IHRvRE9NO1xuZXhwb3J0cy50b0hUTUwgPSB0b0hUTUw7XG5leHBvcnRzLnJlbmRlck5vZGVUb0RPTSA9IHJlbmRlck5vZGVUb0RPTTtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoXCIuL2luZGV4XCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XG5cbnZhciBkb2MgPSBudWxsO1xuXG4vLyBkZWNsYXJlX2dsb2JhbDogd2luZG93XG5cbmZ1bmN0aW9uIHRvRE9NKG5vZGUpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuICBkb2MgPSBvcHRpb25zLmRvY3VtZW50IHx8IHdpbmRvdy5kb2N1bWVudDtcbiAgcmV0dXJuIHJlbmRlck5vZGVzKG5vZGUuY2hpbGRyZW4sIG9wdGlvbnMpO1xufVxuXG4oMCwgX2luZGV4LmRlZmluZVRhcmdldCkoXCJkb21cIiwgdG9ET00pO1xuXG5mdW5jdGlvbiB0b0hUTUwobm9kZSwgb3B0aW9ucykge1xuICB2YXIgd3JhcCA9IChvcHRpb25zICYmIG9wdGlvbnMuZG9jdW1lbnQgfHwgd2luZG93LmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB3cmFwLmFwcGVuZENoaWxkKHRvRE9NKG5vZGUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHdyYXAuaW5uZXJIVE1MO1xufVxuXG4oMCwgX2luZGV4LmRlZmluZVRhcmdldCkoXCJodG1sXCIsIHRvSFRNTCk7XG5cbmZ1bmN0aW9uIHJlbmRlck5vZGVUb0RPTShub2RlLCBvcHRpb25zLCBvZmZzZXQpIHtcbiAgdmFyIGRvbSA9IHJlbmRlck5vZGUobm9kZSwgb3B0aW9ucywgb2Zmc2V0KTtcbiAgaWYgKG9wdGlvbnMucmVuZGVySW5saW5lRmxhdCAmJiBub2RlLmlzSW5saW5lKSB7XG4gICAgZG9tID0gd3JhcElubGluZUZsYXQobm9kZSwgZG9tLCBvcHRpb25zKTtcbiAgICBkb20gPSBvcHRpb25zLnJlbmRlcklubGluZUZsYXQobm9kZSwgZG9tLCBvZmZzZXQpIHx8IGRvbTtcbiAgfVxuICByZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiB3cmFwKG5vZGUsIG9wdGlvbnMsIHR5cGUpIHtcbiAgdmFyIGRvbSA9ICgwLCBfZG9tLmVsdCkodHlwZSB8fCBub2RlLnR5cGUubmFtZSk7XG4gIGlmICghbm9kZS5pc1RleHRibG9jaykgcmVuZGVyTm9kZXNJbnRvKG5vZGUuY2hpbGRyZW4sIGRvbSwgb3B0aW9ucyk7ZWxzZSBpZiAob3B0aW9ucy5yZW5kZXJJbmxpbmVGbGF0KSByZW5kZXJJbmxpbmVDb250ZW50RmxhdChub2RlLmNoaWxkcmVuLCBkb20sIG9wdGlvbnMpO2Vsc2UgcmVuZGVySW5saW5lQ29udGVudChub2RlLmNoaWxkcmVuLCBkb20sIG9wdGlvbnMpO1xuICByZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiB3cmFwSW4odHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gd3JhcChub2RlLCBvcHRpb25zLCB0eXBlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTm9kZXMobm9kZXMsIG9wdGlvbnMpIHtcbiAgdmFyIGZyYWcgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICByZW5kZXJOb2Rlc0ludG8obm9kZXMsIGZyYWcsIG9wdGlvbnMpO1xuICByZXR1cm4gZnJhZztcbn1cblxuZnVuY3Rpb24gcmVuZGVyTm9kZShub2RlLCBvcHRpb25zLCBvZmZzZXQpIHtcbiAgdmFyIGRvbSA9IG5vZGUudHlwZS5zZXJpYWxpemVET00obm9kZSwgb3B0aW9ucyk7XG4gIGZvciAodmFyIGF0dHIgaW4gbm9kZS50eXBlLmF0dHJzKSB7XG4gICAgdmFyIGRlc2MgPSBub2RlLnR5cGUuYXR0cnNbYXR0cl07XG4gICAgaWYgKGRlc2Muc2VyaWFsaXplRE9NKSBkZXNjLnNlcmlhbGl6ZURPTShkb20sIG5vZGUuYXR0cnNbYXR0cl0sIG9wdGlvbnMsIG5vZGUpO1xuICB9XG4gIGlmIChvcHRpb25zLm9uUmVuZGVyICYmIG5vZGUuaXNCbG9jaykgZG9tID0gb3B0aW9ucy5vblJlbmRlcihub2RlLCBkb20sIG9mZnNldCkgfHwgZG9tO1xuICByZXR1cm4gZG9tO1xufVxuXG5mdW5jdGlvbiByZW5kZXJOb2Rlc0ludG8obm9kZXMsIHdoZXJlLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAob3B0aW9ucy5wYXRoKSBvcHRpb25zLnBhdGgucHVzaChpKTtcbiAgICB3aGVyZS5hcHBlbmRDaGlsZChyZW5kZXJOb2RlKG5vZGVzW2ldLCBvcHRpb25zLCBpKSk7XG4gICAgaWYgKG9wdGlvbnMucGF0aCkgb3B0aW9ucy5wYXRoLnBvcCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlcklubGluZUNvbnRlbnQobm9kZXMsIHdoZXJlLCBvcHRpb25zKSB7XG4gIHZhciB0b3AgPSB3aGVyZTtcbiAgdmFyIGFjdGl2ZSA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1tpXSxcbiAgICAgICAgc3R5bGVzID0gbm9kZS5zdHlsZXM7XG4gICAgdmFyIGtlZXAgPSAwO1xuICAgIGZvciAoOyBrZWVwIDwgTWF0aC5taW4oYWN0aXZlLmxlbmd0aCwgc3R5bGVzLmxlbmd0aCk7ICsra2VlcCkgaWYgKCFzdHlsZXNba2VlcF0uZXEoYWN0aXZlW2tlZXBdKSkgYnJlYWs7XG4gICAgd2hpbGUgKGtlZXAgPCBhY3RpdmUubGVuZ3RoKSB7XG4gICAgICBhY3RpdmUucG9wKCk7XG4gICAgICB0b3AgPSB0b3AucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgd2hpbGUgKGFjdGl2ZS5sZW5ndGggPCBzdHlsZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgYWRkID0gc3R5bGVzW2FjdGl2ZS5sZW5ndGhdO1xuICAgICAgYWN0aXZlLnB1c2goYWRkKTtcbiAgICAgIHRvcCA9IHRvcC5hcHBlbmRDaGlsZChyZW5kZXJTdHlsZShhZGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgdG9wLmFwcGVuZENoaWxkKHJlbmRlck5vZGUobm9kZSwgb3B0aW9ucywgaSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclN0eWxlKG1hcmtlciwgb3B0aW9ucykge1xuICB2YXIgZG9tID0gbWFya2VyLnR5cGUuc2VyaWFsaXplRE9NKG1hcmtlciwgb3B0aW9ucyk7XG4gIGZvciAodmFyIGF0dHIgaW4gbWFya2VyLnR5cGUuYXR0cnMpIHtcbiAgICB2YXIgZGVzYyA9IG1hcmtlci50eXBlLmF0dHJzW2F0dHJdO1xuICAgIGlmIChkZXNjLnNlcmlhbGl6ZURPTSkgZGVzYy5zZXJpYWxpemVET00oZG9tLCBtYXJrZXIuYXR0cnNbYXR0cl0sIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBkb207XG59XG5cbmZ1bmN0aW9uIHdyYXBJbmxpbmVGbGF0KG5vZGUsIGRvbSwgb3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0gbm9kZS5zdHlsZXM7XG4gIGZvciAodmFyIGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgX3dyYXAgPSByZW5kZXJTdHlsZShzdHlsZXNbaV0sIG9wdGlvbnMpO1xuICAgIF93cmFwLmFwcGVuZENoaWxkKGRvbSk7XG4gICAgZG9tID0gX3dyYXA7XG4gIH1cbiAgcmV0dXJuIGRvbTtcbn1cblxuZnVuY3Rpb24gcmVuZGVySW5saW5lQ29udGVudEZsYXQobm9kZXMsIHdoZXJlLCBvcHRpb25zKSB7XG4gIHZhciBvZmZzZXQgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcbiAgICB2YXIgZG9tID0gd3JhcElubGluZUZsYXQobm9kZSwgcmVuZGVyTm9kZShub2RlLCBvcHRpb25zLCBpKSwgb3B0aW9ucyk7XG4gICAgZG9tID0gb3B0aW9ucy5yZW5kZXJJbmxpbmVGbGF0KG5vZGUsIGRvbSwgb2Zmc2V0KSB8fCBkb207XG4gICAgd2hlcmUuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICBvZmZzZXQgKz0gbm9kZS5vZmZzZXQ7XG4gIH1cblxuICBpZiAoIW5vZGVzLmxlbmd0aCB8fCBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXS50eXBlLm5hbWUgPT0gXCJoYXJkX2JyZWFrXCIpIHdoZXJlLmFwcGVuZENoaWxkKCgwLCBfZG9tLmVsdCkoXCJiclwiKSkuc2V0QXR0cmlidXRlKFwicG0tZm9yY2UtYnJcIiwgXCJ0cnVlXCIpO2Vsc2UgaWYgKHdoZXJlLmxhc3RDaGlsZC5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSB3aGVyZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoXCJcIikpO1xufVxuXG4vLyBCbG9jayBub2Rlc1xuXG5mdW5jdGlvbiBkZWYoY2xzLCBtZXRob2QpIHtcbiAgY2xzLnByb3RvdHlwZS5zZXJpYWxpemVET00gPSBtZXRob2Q7XG59XG5cbmRlZihfbW9kZWwuQmxvY2tRdW90ZSwgd3JhcEluKFwiYmxvY2txdW90ZVwiKSk7XG5cbl9tb2RlbC5CbG9ja1F1b3RlLnByb3RvdHlwZS5jbGlja2VkID0gZnVuY3Rpb24gKF8sIHBhdGgsIGRvbSwgY29vcmRzKSB7XG4gIHZhciBjaGlsZEJveCA9IGRvbS5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBpZiAoY29vcmRzLmxlZnQgPCBjaGlsZEJveC5sZWZ0IC0gMikgcmV0dXJuIF9tb2RlbC5Qb3MuZnJvbShwYXRoKTtcbn07XG5cbmRlZihfbW9kZWwuQnVsbGV0TGlzdCwgd3JhcEluKFwidWxcIikpO1xuXG5kZWYoX21vZGVsLk9yZGVyZWRMaXN0LCBmdW5jdGlvbiAobm9kZSwgb3B0aW9ucykge1xuICB2YXIgZG9tID0gd3JhcChub2RlLCBvcHRpb25zLCBcIm9sXCIpO1xuICBpZiAobm9kZS5hdHRycy5vcmRlciA+IDEpIGRvbS5zZXRBdHRyaWJ1dGUoXCJzdGFydFwiLCBub2RlLmF0dHJzLm9yZGVyKTtcbiAgcmV0dXJuIGRvbTtcbn0pO1xuXG5fbW9kZWwuT3JkZXJlZExpc3QucHJvdG90eXBlLmNsaWNrZWQgPSBfbW9kZWwuQnVsbGV0TGlzdC5wcm90b3R5cGUuY2xpY2tlZCA9IGZ1bmN0aW9uIChfLCBwYXRoLCBkb20sIGNvb3Jkcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gZG9tLmNoaWxkTm9kZXNbaV07XG4gICAgaWYgKCFjaGlsZC5oYXNBdHRyaWJ1dGUoXCJwbS1wYXRoXCIpKSBjb250aW51ZTtcbiAgICB2YXIgY2hpbGRCb3ggPSBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoY29vcmRzLmxlZnQgPiBjaGlsZEJveC5sZWZ0IC0gMikgcmV0dXJuIG51bGw7XG4gICAgaWYgKGNoaWxkQm94LnRvcCA8PSBjb29yZHMudG9wICYmIGNoaWxkQm94LmJvdHRvbSA+PSBjb29yZHMudG9wKSByZXR1cm4gbmV3IF9tb2RlbC5Qb3MocGF0aCwgaSk7XG4gIH1cbn07XG5cbmRlZihfbW9kZWwuTGlzdEl0ZW0sIHdyYXBJbihcImxpXCIpKTtcblxuZGVmKF9tb2RlbC5Ib3Jpem9udGFsUnVsZSwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKDAsIF9kb20uZWx0KShcImhyXCIpO1xufSk7XG5cbmRlZihfbW9kZWwuUGFyYWdyYXBoLCB3cmFwSW4oXCJwXCIpKTtcblxuZGVmKF9tb2RlbC5IZWFkaW5nLCBmdW5jdGlvbiAobm9kZSwgb3B0aW9ucykge1xuICByZXR1cm4gd3JhcChub2RlLCBvcHRpb25zLCBcImhcIiArIG5vZGUuYXR0cnMubGV2ZWwpO1xufSk7XG5cbmRlZihfbW9kZWwuQ29kZUJsb2NrLCBmdW5jdGlvbiAobm9kZSwgb3B0aW9ucykge1xuICB2YXIgY29kZSA9IHdyYXAobm9kZSwgb3B0aW9ucywgXCJjb2RlXCIpO1xuICBpZiAobm9kZS5hdHRycy5wYXJhbXMgIT0gbnVsbCkgY29kZS5jbGFzc05hbWUgPSBcImZlbmNlIFwiICsgbm9kZS5hdHRycy5wYXJhbXMucmVwbGFjZSgvKF58XFxzKykvZywgXCIkJmxhbmctXCIpO1xuICByZXR1cm4gKDAsIF9kb20uZWx0KShcInByZVwiLCBudWxsLCBjb2RlKTtcbn0pO1xuXG4vLyBJbmxpbmUgY29udGVudFxuXG5kZWYoX21vZGVsLlRleHQsIGZ1bmN0aW9uIChub2RlKSB7XG4gIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUobm9kZS50ZXh0KTtcbn0pO1xuXG5kZWYoX21vZGVsLkltYWdlLCBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gKDAsIF9kb20uZWx0KShcImltZ1wiLCB7XG4gICAgc3JjOiBub2RlLmF0dHJzLnNyYyxcbiAgICBhbHQ6IG5vZGUuYXR0cnMuYWx0LFxuICAgIHRpdGxlOiBub2RlLmF0dHJzLnRpdGxlLFxuICAgIGNvbnRlbnRFZGl0YWJsZTogZmFsc2VcbiAgfSk7XG59KTtcblxuZGVmKF9tb2RlbC5IYXJkQnJlYWssIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfZG9tLmVsdCkoXCJiclwiKTtcbn0pO1xuXG4vLyBJbmxpbmUgc3R5bGVzXG5cbmRlZihfbW9kZWwuRW1TdHlsZSwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKDAsIF9kb20uZWx0KShcImVtXCIpO1xufSk7XG5cbmRlZihfbW9kZWwuU3Ryb25nU3R5bGUsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfZG9tLmVsdCkoXCJzdHJvbmdcIik7XG59KTtcblxuZGVmKF9tb2RlbC5Db2RlU3R5bGUsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfZG9tLmVsdCkoXCJjb2RlXCIpO1xufSk7XG5cbmRlZihfbW9kZWwuTGlua1N0eWxlLCBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgdmFyIGRvbSA9ICgwLCBfZG9tLmVsdCkoXCJhXCIpO1xuICBkb20uc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBzdHlsZS5hdHRycy5ocmVmKTtcbiAgaWYgKHN0eWxlLmF0dHJzLnRpdGxlKSBkb20uc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgc3R5bGUuYXR0cnMudGl0bGUpO1xuICByZXR1cm4gZG9tO1xufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvbnZlcnRUbyA9IGNvbnZlcnRUbztcbmV4cG9ydHMua25vd25UYXJnZXQgPSBrbm93blRhcmdldDtcbmV4cG9ydHMuZGVmaW5lVGFyZ2V0ID0gZGVmaW5lVGFyZ2V0O1xudmFyIHNlcmlhbGl6ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gY29udmVydFRvKGRvYywgZm9ybWF0LCBhcmcpIHtcbiAgdmFyIGNvbnZlcnRlciA9IHNlcmlhbGl6ZXJzW2Zvcm1hdF07XG4gIGlmICghY29udmVydGVyKSB0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgZm9ybWF0IFwiICsgZm9ybWF0ICsgXCIgbm90IGRlZmluZWRcIik7XG4gIHJldHVybiBjb252ZXJ0ZXIoZG9jLCBhcmcpO1xufVxuXG5mdW5jdGlvbiBrbm93blRhcmdldChmb3JtYXQpIHtcbiAgcmV0dXJuICEhc2VyaWFsaXplcnNbZm9ybWF0XTtcbn1cblxuZnVuY3Rpb24gZGVmaW5lVGFyZ2V0KGZvcm1hdCwgZnVuYykge1xuICBzZXJpYWxpemVyc1tmb3JtYXRdID0gZnVuYztcbn1cblxuZGVmaW5lVGFyZ2V0KFwianNvblwiLCBmdW5jdGlvbiAoZG9jKSB7XG4gIHJldHVybiBkb2MudG9KU09OKCk7XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudG9UZXh0ID0gdG9UZXh0O1xuXG52YXIgX21vZGVsID0gcmVxdWlyZShcIi4uL21vZGVsXCIpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZShcIi4vaW5kZXhcIik7XG5cbl9tb2RlbC5CbG9jay5wcm90b3R5cGUuc2VyaWFsaXplVGV4dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIHZhciBhY2N1bSA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQoaSk7XG4gICAgYWNjdW0gKz0gY2hpbGQudHlwZS5zZXJpYWxpemVUZXh0KGNoaWxkKTtcbiAgfVxuICByZXR1cm4gYWNjdW07XG59O1xuXG5fbW9kZWwuVGV4dGJsb2NrLnByb3RvdHlwZS5zZXJpYWxpemVUZXh0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgdmFyIHRleHQgPSBfbW9kZWwuQmxvY2sucHJvdG90eXBlLnNlcmlhbGl6ZVRleHQobm9kZSk7XG4gIHJldHVybiB0ZXh0ICYmIHRleHQgKyBcIlxcblxcblwiO1xufTtcblxuX21vZGVsLklubGluZS5wcm90b3R5cGUuc2VyaWFsaXplVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFwiXCI7XG59O1xuXG5fbW9kZWwuSGFyZEJyZWFrLnByb3RvdHlwZS5zZXJpYWxpemVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gXCJcXG5cIjtcbn07XG5cbl9tb2RlbC5UZXh0LnByb3RvdHlwZS5zZXJpYWxpemVUZXh0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUudGV4dDtcbn07XG5cbmZ1bmN0aW9uIHRvVGV4dChkb2MpIHtcbiAgcmV0dXJuIGRvYy50eXBlLnNlcmlhbGl6ZVRleHQoZG9jKS50cmltKCk7XG59XG5cbigwLCBfaW5kZXguZGVmaW5lVGFyZ2V0KShcInRleHRcIiwgdG9UZXh0KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2FuTGlmdCA9IGNhbkxpZnQ7XG5leHBvcnRzLmNhbldyYXAgPSBjYW5XcmFwO1xuZXhwb3J0cy5hbHJlYWR5SGFzQmxvY2tUeXBlID0gYWxyZWFkeUhhc0Jsb2NrVHlwZTtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF90cmFuc2Zvcm0gPSByZXF1aXJlKFwiLi90cmFuc2Zvcm1cIik7XG5cbnZhciBfc3RlcCA9IHJlcXVpcmUoXCIuL3N0ZXBcIik7XG5cbnZhciBfdHJlZSA9IHJlcXVpcmUoXCIuL3RyZWVcIik7XG5cbnZhciBfbWFwID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuXG4oMCwgX3N0ZXAuZGVmaW5lU3RlcCkoXCJhbmNlc3RvclwiLCB7XG4gIGFwcGx5OiBmdW5jdGlvbiBhcHBseShkb2MsIHN0ZXApIHtcbiAgICB2YXIgZnJvbSA9IHN0ZXAuZnJvbSxcbiAgICAgICAgdG8gPSBzdGVwLnRvO1xuICAgIGlmICghKDAsIF90cmVlLmlzRmxhdFJhbmdlKShmcm9tLCB0bykpIHJldHVybiBudWxsO1xuICAgIHZhciB0b1BhcmVudCA9IGZyb20ucGF0aCxcbiAgICAgICAgc3RhcnQgPSBmcm9tLm9mZnNldCxcbiAgICAgICAgZW5kID0gdG8ub2Zmc2V0O1xuICAgIHZhciBkZXB0aCA9IHN0ZXAucGFyYW0uZGVwdGggfHwgMCxcbiAgICAgICAgd3JhcHBlcnMgPSBzdGVwLnBhcmFtLndyYXBwZXJzIHx8IFtdO1xuICAgIHZhciBpbm5lciA9IGRvYy5wYXRoKGZyb20ucGF0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXB0aDsgaSsrKSB7XG4gICAgICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGRvYy5wYXRoKHRvUGFyZW50KS5tYXhPZmZzZXQgfHwgdG9QYXJlbnQubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xuICAgICAgc3RhcnQgPSB0b1BhcmVudFt0b1BhcmVudC5sZW5ndGggLSAxXTtcbiAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICAgIHRvUGFyZW50ID0gdG9QYXJlbnQuc2xpY2UoMCwgdG9QYXJlbnQubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGlmIChkZXB0aCA9PSAwICYmIHdyYXBwZXJzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIHZhciBwYXJlbnQgPSBkb2MucGF0aCh0b1BhcmVudCksXG4gICAgICAgIHBhcmVudFNpemUgPSBwYXJlbnQubGVuZ3RoLFxuICAgICAgICBuZXdQYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudC50eXBlLmxvY2tlZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHdyYXBwZXJzLmxlbmd0aCkge1xuICAgICAgdmFyIF9yZXQgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGFzdFdyYXBwZXIgPSB3cmFwcGVyc1t3cmFwcGVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBpbm5lci5zbGljZShmcm9tLm9mZnNldCwgdG8ub2Zmc2V0KTtcbiAgICAgICAgaWYgKCFwYXJlbnQudHlwZS5jYW5Db250YWluKHdyYXBwZXJzWzBdKSB8fCAhY29udGVudC5ldmVyeShmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBsYXN0V3JhcHBlci50eXBlLmNhbkNvbnRhaW4obik7XG4gICAgICAgIH0pIHx8ICFpbm5lci5sZW5ndGggJiYgIWxhc3RXcmFwcGVyLnR5cGUuY2FuQmVFbXB0eSB8fCBsYXN0V3JhcHBlci50eXBlLmxvY2tlZCkgcmV0dXJuIHtcbiAgICAgICAgICAgIHY6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICB2YXIgbm9kZSA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSB3cmFwcGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIG5vZGUgPSB3cmFwcGVyc1tpXS5jb3B5KG5vZGUgPyBbbm9kZV0gOiBjb250ZW50KTtcbiAgICAgICAgfW5ld1BhcmVudCA9IHBhcmVudC5zcGxpY2Uoc3RhcnQsIGVuZCwgW25vZGVdKTtcbiAgICAgIH0pKCk7XG5cbiAgICAgIGlmICh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFwYXJlbnQudHlwZS5jYW5Db250YWluQ2hpbGRyZW4oaW5uZXIsIHRydWUpIHx8ICFpbm5lci5sZW5ndGggJiYgc3RhcnQgPT0gMCAmJiBlbmQgPT0gcGFyZW50Lmxlbmd0aCAmJiAhcGFyZW50LnR5cGUuY2FuQmVFbXB0eSkgcmV0dXJuIG51bGw7XG4gICAgICBuZXdQYXJlbnQgPSBwYXJlbnQuc3BsaWNlKHN0YXJ0LCBlbmQsIGlubmVyLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgdmFyIGNvcHkgPSBkb2MucmVwbGFjZURlZXAodG9QYXJlbnQsIG5ld1BhcmVudCk7XG5cbiAgICB2YXIgdG9Jbm5lciA9IHRvUGFyZW50LnNsaWNlKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cmFwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdG9Jbm5lci5wdXNoKGkgPyAwIDogc3RhcnQpO1xuICAgIH12YXIgc3RhcnRPZklubmVyID0gbmV3IF9tb2RlbC5Qb3ModG9Jbm5lciwgd3JhcHBlcnMubGVuZ3RoID8gMCA6IHN0YXJ0KTtcbiAgICB2YXIgcmVwbGFjZWQgPSBudWxsO1xuICAgIHZhciBpbnNlcnRlZFNpemUgPSB3cmFwcGVycy5sZW5ndGggPyAxIDogdG8ub2Zmc2V0IC0gZnJvbS5vZmZzZXQ7XG4gICAgaWYgKGRlcHRoICE9IHdyYXBwZXJzLmxlbmd0aCB8fCBkZXB0aCA+IDEgfHwgd3JhcHBlcnMubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIHBvc0JlZm9yZSA9IG5ldyBfbW9kZWwuUG9zKHRvUGFyZW50LCBzdGFydCk7XG4gICAgICB2YXIgcG9zQWZ0ZXIxID0gbmV3IF9tb2RlbC5Qb3ModG9QYXJlbnQsIGVuZCksXG4gICAgICAgICAgcG9zQWZ0ZXIyID0gbmV3IF9tb2RlbC5Qb3ModG9QYXJlbnQsIHN0YXJ0ICsgaW5zZXJ0ZWRTaXplKTtcbiAgICAgIHZhciBlbmRPZklubmVyID0gbmV3IF9tb2RlbC5Qb3ModG9Jbm5lciwgc3RhcnRPZklubmVyLm9mZnNldCArICh0by5vZmZzZXQgLSBmcm9tLm9mZnNldCkpO1xuICAgICAgcmVwbGFjZWQgPSBbbmV3IF9tYXAuUmVwbGFjZWRSYW5nZShwb3NCZWZvcmUsIGZyb20sIHBvc0JlZm9yZSwgc3RhcnRPZklubmVyKSwgbmV3IF9tYXAuUmVwbGFjZWRSYW5nZSh0bywgcG9zQWZ0ZXIxLCBlbmRPZklubmVyLCBwb3NBZnRlcjIsIHBvc0FmdGVyMSwgcG9zQWZ0ZXIyKV07XG4gICAgfVxuICAgIHZhciBtb3ZlZCA9IFtuZXcgX21hcC5Nb3ZlZFJhbmdlKGZyb20sIHRvLm9mZnNldCAtIGZyb20ub2Zmc2V0LCBzdGFydE9mSW5uZXIpXTtcbiAgICBpZiAoZW5kIC0gc3RhcnQgIT0gaW5zZXJ0ZWRTaXplKSBtb3ZlZC5wdXNoKG5ldyBfbWFwLk1vdmVkUmFuZ2UobmV3IF9tb2RlbC5Qb3ModG9QYXJlbnQsIGVuZCksIHBhcmVudFNpemUgLSBlbmQsIG5ldyBfbW9kZWwuUG9zKHRvUGFyZW50LCBzdGFydCArIGluc2VydGVkU2l6ZSkpKTtcbiAgICByZXR1cm4gbmV3IF90cmFuc2Zvcm0uVHJhbnNmb3JtUmVzdWx0KGNvcHksIG5ldyBfbWFwLlBvc01hcChtb3ZlZCwgcmVwbGFjZWQpKTtcbiAgfSxcbiAgaW52ZXJ0OiBmdW5jdGlvbiBpbnZlcnQoc3RlcCwgb2xkRG9jLCBtYXApIHtcbiAgICB2YXIgd3JhcHBlcnMgPSBbXTtcbiAgICBpZiAoc3RlcC5wYXJhbS5kZXB0aCkgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwLnBhcmFtLmRlcHRoOyBpKyspIHtcbiAgICAgIHZhciBfcGFyZW50ID0gb2xkRG9jLnBhdGgoc3RlcC5mcm9tLnBhdGguc2xpY2UoMCwgc3RlcC5mcm9tLnBhdGgubGVuZ3RoIC0gaSkpO1xuICAgICAgd3JhcHBlcnMudW5zaGlmdChfcGFyZW50LmNvcHkoKSk7XG4gICAgfVxuICAgIHZhciBuZXdGcm9tID0gbWFwLm1hcChzdGVwLmZyb20pLnBvcztcbiAgICB2YXIgbmV3VG8gPSBzdGVwLmZyb20uY21wKHN0ZXAudG8pID8gbWFwLm1hcChzdGVwLnRvLCAtMSkucG9zIDogbmV3RnJvbTtcbiAgICByZXR1cm4gbmV3IF9zdGVwLlN0ZXAoXCJhbmNlc3RvclwiLCBuZXdGcm9tLCBuZXdUbywgbnVsbCwgeyBkZXB0aDogc3RlcC5wYXJhbS53cmFwcGVycyA/IHN0ZXAucGFyYW0ud3JhcHBlcnMubGVuZ3RoIDogMCxcbiAgICAgIHdyYXBwZXJzOiB3cmFwcGVycyB9KTtcbiAgfSxcbiAgcGFyYW1Ub0pTT046IGZ1bmN0aW9uIHBhcmFtVG9KU09OKHBhcmFtKSB7XG4gICAgcmV0dXJuIHsgZGVwdGg6IHBhcmFtLmRlcHRoLFxuICAgICAgd3JhcHBlcnM6IHBhcmFtLndyYXBwZXJzICYmIHBhcmFtLndyYXBwZXJzLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbi50b0pTT04oKTtcbiAgICAgIH0pIH07XG4gIH0sXG4gIHBhcmFtRnJvbUpTT046IGZ1bmN0aW9uIHBhcmFtRnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgcmV0dXJuIHsgZGVwdGg6IGpzb24uZGVwdGgsXG4gICAgICB3cmFwcGVyczoganNvbi53cmFwcGVycyAmJiBqc29uLndyYXBwZXJzLm1hcChzY2hlbWEubm9kZUZyb21KU09OKSB9O1xuICB9XG59KTtcblxuZnVuY3Rpb24gY2FuQmVMaWZ0ZWQoZG9jLCByYW5nZSkge1xuICB2YXIgY29udGVudCA9IFtkb2MucGF0aChyYW5nZS5mcm9tLnBhdGgpXSxcbiAgICAgIHVud3JhcCA9IGZhbHNlO1xuICBmb3IgKDs7KSB7XG4gICAgdmFyIHBhcmVudERlcHRoID0gLTE7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiAoX25vZGUsIGkpIHtcbiAgICAgIGlmIChjb250ZW50LmV2ZXJ5KGZ1bmN0aW9uIChpbm5lcikge1xuICAgICAgICByZXR1cm4gX25vZGUudHlwZS5jYW5Db250YWluQ2hpbGRyZW4oaW5uZXIpO1xuICAgICAgfSkpIHBhcmVudERlcHRoID0gaTtcbiAgICAgIF9ub2RlID0gX25vZGUuY2hpbGQocmFuZ2UuZnJvbS5wYXRoW2ldKTtcbiAgICAgIGV4cG9ydHMubm9kZSA9IG5vZGUgPSBfbm9kZTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgbm9kZSA9IGRvYywgaSA9IDA7IGkgPCByYW5nZS5mcm9tLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIF9sb29wKG5vZGUsIGkpO1xuICAgIH1cbiAgICBpZiAocGFyZW50RGVwdGggPiAtMSkgcmV0dXJuIHsgcGF0aDogcmFuZ2UuZnJvbS5wYXRoLnNsaWNlKDAsIHBhcmVudERlcHRoKSwgdW53cmFwOiB1bndyYXAgfTtcbiAgICBpZiAodW53cmFwIHx8ICFjb250ZW50WzBdLmlzQmxvY2spIHJldHVybiBudWxsO1xuICAgIGNvbnRlbnQgPSBjb250ZW50WzBdLnNsaWNlKHJhbmdlLmZyb20ub2Zmc2V0LCByYW5nZS50by5vZmZzZXQpO1xuICAgIHVud3JhcCA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FuTGlmdChkb2MsIGZyb20sIHRvKSB7XG4gIHZhciByYW5nZSA9ICgwLCBfbW9kZWwuc2libGluZ1JhbmdlKShkb2MsIGZyb20sIHRvIHx8IGZyb20pO1xuICB2YXIgZm91bmQgPSBjYW5CZUxpZnRlZChkb2MsIHJhbmdlKTtcbiAgaWYgKGZvdW5kKSByZXR1cm4geyBmb3VuZDogZm91bmQsIHJhbmdlOiByYW5nZSB9O1xufVxuXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gIHZhciB0byA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGZyb20gOiBhcmd1bWVudHNbMV07XG4gIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW4gPSBjYW5MaWZ0KHRoaXMuZG9jLCBmcm9tLCB0byk7XG4gICAgaWYgKCFjYW4pIHJldHVybiB0aGlzO1xuICAgIHZhciBmb3VuZCA9IGNhbi5mb3VuZDtcbiAgICB2YXIgcmFuZ2UgPSBjYW4ucmFuZ2U7XG5cbiAgICB2YXIgZGVwdGggPSByYW5nZS5mcm9tLnBhdGgubGVuZ3RoIC0gZm91bmQucGF0aC5sZW5ndGg7XG4gICAgdmFyIHJhbmdlTm9kZSA9IGZvdW5kLnVud3JhcCAmJiB0aGlzLmRvYy5wYXRoKHJhbmdlLmZyb20ucGF0aCk7XG5cbiAgICBmb3IgKHZhciBkID0gMCwgcG9zID0gcmFuZ2UudG87OyBkKyspIHtcbiAgICAgIGlmIChwb3Mub2Zmc2V0IDwgdGhpcy5kb2MucGF0aChwb3MucGF0aCkubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3BsaXQocG9zLCBkZXB0aCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGQgPT0gZGVwdGggLSAxKSBicmVhaztcbiAgICAgIHBvcyA9IHBvcy5zaG9ydGVuKG51bGwsIDEpO1xuICAgIH1cbiAgICBmb3IgKHZhciBkID0gMCwgcG9zID0gcmFuZ2UuZnJvbTs7IGQrKykge1xuICAgICAgaWYgKHBvcy5vZmZzZXQgPiAwKSB7XG4gICAgICAgIHRoaXMuc3BsaXQocG9zLCBkZXB0aCAtIGQpO1xuICAgICAgICB2YXIgY3V0ID0gcmFuZ2UuZnJvbS5wYXRoLmxlbmd0aCAtIGRlcHRoLFxuICAgICAgICAgICAgcGF0aCA9IHBvcy5wYXRoLnNsaWNlKDAsIGN1dCkuY29uY2F0KHBvcy5wYXRoW2N1dF0gKyAxKTtcbiAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoIDwgcmFuZ2UuZnJvbS5wYXRoLmxlbmd0aCkgcGF0aC5wdXNoKDApO1xuICAgICAgICByYW5nZSA9IHsgZnJvbTogbmV3IF9tb2RlbC5Qb3MocGF0aCwgMCksIHRvOiBuZXcgX21vZGVsLlBvcyhwYXRoLCByYW5nZS50by5vZmZzZXQgLSByYW5nZS5mcm9tLm9mZnNldCkgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoZCA9PSBkZXB0aCAtIDEpIGJyZWFrO1xuICAgICAgcG9zID0gcG9zLnNob3J0ZW4oKTtcbiAgICB9XG4gICAgaWYgKGZvdW5kLnVud3JhcCkge1xuICAgICAgZm9yICh2YXIgaSA9IHJhbmdlLnRvLm9mZnNldCAtIDE7IGkgPiByYW5nZS5mcm9tLm9mZnNldDsgaS0tKSB7XG4gICAgICAgIHRoaXMuam9pbihuZXcgX21vZGVsLlBvcyhyYW5nZS5mcm9tLnBhdGgsIGkpKTtcbiAgICAgIH12YXIgc2l6ZSA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gcmFuZ2UuZnJvbS5vZmZzZXQ7IGkgPCByYW5nZS50by5vZmZzZXQ7IGkrKykge1xuICAgICAgICBzaXplICs9IHJhbmdlTm9kZS5jaGlsZChpKS5sZW5ndGg7XG4gICAgICB9dmFyIHBhdGggPSByYW5nZS5mcm9tLnBhdGguY29uY2F0KHJhbmdlLmZyb20ub2Zmc2V0KTtcbiAgICAgIHJhbmdlID0geyBmcm9tOiBuZXcgX21vZGVsLlBvcyhwYXRoLCAwKSwgdG86IG5ldyBfbW9kZWwuUG9zKHBhdGgsIHNpemUpIH07XG4gICAgICArK2RlcHRoO1xuICAgIH1cbiAgICB0aGlzLnN0ZXAoXCJhbmNlc3RvclwiLCByYW5nZS5mcm9tLCByYW5nZS50bywgbnVsbCwgeyBkZXB0aDogZGVwdGggfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5mdW5jdGlvbiBjYW5XcmFwKGRvYywgZnJvbSwgdG8sIG5vZGUpIHtcbiAgdmFyIHJhbmdlID0gKDAsIF9tb2RlbC5zaWJsaW5nUmFuZ2UpKGRvYywgZnJvbSwgdG8gfHwgZnJvbSk7XG4gIGlmIChyYW5nZS5mcm9tLm9mZnNldCA9PSByYW5nZS50by5vZmZzZXQpIHJldHVybiBudWxsO1xuICB2YXIgcGFyZW50ID0gZG9jLnBhdGgocmFuZ2UuZnJvbS5wYXRoKTtcbiAgdmFyIGFyb3VuZCA9IHBhcmVudC50eXBlLmZpbmRDb25uZWN0aW9uKG5vZGUudHlwZSk7XG4gIHZhciBpbnNpZGUgPSBub2RlLnR5cGUuZmluZENvbm5lY3Rpb24ocGFyZW50LmNoaWxkKHJhbmdlLmZyb20ub2Zmc2V0KS50eXBlKTtcbiAgaWYgKGFyb3VuZCAmJiBpbnNpZGUpIHJldHVybiB7IHJhbmdlOiByYW5nZSwgYXJvdW5kOiBhcm91bmQsIGluc2lkZTogaW5zaWRlIH07XG59XG5cbl90cmFuc2Zvcm0uVHJhbnNmb3JtLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKGZyb20sIHRvLCBub2RlKSB7XG4gIHZhciBjYW4gPSBjYW5XcmFwKHRoaXMuZG9jLCBmcm9tLCB0bywgbm9kZSk7XG4gIGlmICghY2FuKSByZXR1cm4gdGhpcztcbiAgdmFyIHJhbmdlID0gY2FuLnJhbmdlO1xuICB2YXIgYXJvdW5kID0gY2FuLmFyb3VuZDtcbiAgdmFyIGluc2lkZSA9IGNhbi5pbnNpZGU7XG5cbiAgdmFyIHdyYXBwZXJzID0gYXJvdW5kLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiBub2RlLnR5cGUuc2NoZW1hLm5vZGUodCk7XG4gIH0pLmNvbmNhdChub2RlKS5jb25jYXQoaW5zaWRlLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiBub2RlLnR5cGUuc2NoZW1hLm5vZGUodCk7XG4gIH0pKTtcbiAgdGhpcy5zdGVwKFwiYW5jZXN0b3JcIiwgcmFuZ2UuZnJvbSwgcmFuZ2UudG8sIG51bGwsIHsgd3JhcHBlcnM6IHdyYXBwZXJzIH0pO1xuICBpZiAoaW5zaWRlLmxlbmd0aCkge1xuICAgIHZhciB0b0lubmVyID0gcmFuZ2UuZnJvbS5wYXRoLnNsaWNlKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcm91bmQubGVuZ3RoICsgaW5zaWRlLmxlbmd0aCArIDE7IGkrKykge1xuICAgICAgdG9Jbm5lci5wdXNoKGkgPyAwIDogcmFuZ2UuZnJvbS5vZmZzZXQpO1xuICAgIH1mb3IgKHZhciBpID0gcmFuZ2UudG8ub2Zmc2V0IC0gMSAtIHJhbmdlLmZyb20ub2Zmc2V0OyBpID4gMDsgaS0tKSB7XG4gICAgICB0aGlzLnNwbGl0KG5ldyBfbW9kZWwuUG9zKHRvSW5uZXIsIGkpLCBpbnNpZGUubGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBhbHJlYWR5SGFzQmxvY2tUeXBlKGRvYywgZnJvbSwgdG8sIHR5cGUsIGF0dHJzKSB7XG4gIHZhciBmb3VuZCA9IGZhbHNlO1xuICBpZiAoIWF0dHJzKSBhdHRycyA9IHt9O1xuICBkb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvIHx8IGZyb20sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKG5vZGUuaXNUZXh0YmxvY2spIHtcbiAgICAgIGlmICghKDAsIF9tb2RlbC5jb21wYXJlTWFya3VwKShub2RlLnR5cGUsIHR5cGUsIG5vZGUuYXR0cnMsIGF0dHJzKSkgZm91bmQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmb3VuZDtcbn1cblxuX3RyYW5zZm9ybS5UcmFuc2Zvcm0ucHJvdG90eXBlLnNldEJsb2NrVHlwZSA9IGZ1bmN0aW9uIChmcm9tLCB0bywgd3JhcE5vZGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8gfHwgZnJvbSwgZnVuY3Rpb24gKG5vZGUsIHBhdGgpIHtcbiAgICBpZiAobm9kZS5pc1RleHRibG9jayAmJiAhbm9kZS5zYW1lTWFya3VwKHdyYXBOb2RlKSkge1xuICAgICAgcGF0aCA9IHBhdGguc2xpY2UoKTtcbiAgICAgIC8vIEVuc3VyZSBhbGwgbWFya3VwIHRoYXQgaXNuJ3QgYWxsb3dlZCBpbiB0aGUgbmV3IG5vZGUgdHlwZSBpcyBjbGVhcmVkXG4gICAgICBfdGhpcy5jbGVhck1hcmt1cChuZXcgX21vZGVsLlBvcyhwYXRoLCAwKSwgbmV3IF9tb2RlbC5Qb3MocGF0aCwgbm9kZS5tYXhPZmZzZXQpLCB3cmFwTm9kZS50eXBlKTtcbiAgICAgIF90aGlzLnN0ZXAoXCJhbmNlc3RvclwiLCBuZXcgX21vZGVsLlBvcyhwYXRoLCAwKSwgbmV3IF9tb2RlbC5Qb3MocGF0aCwgX3RoaXMuZG9jLnBhdGgocGF0aCkubWF4T2Zmc2V0KSwgbnVsbCwgeyBkZXB0aDogMSwgd3JhcHBlcnM6IFt3cmFwTm9kZV0gfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5yZXF1aXJlKFwiLi9zdHlsZVwiKTtcblxucmVxdWlyZShcIi4vc3BsaXRcIik7XG5cbnJlcXVpcmUoXCIuL3JlcGxhY2VcIik7XG5cbnZhciBfdHJhbnNmb3JtID0gcmVxdWlyZShcIi4vdHJhbnNmb3JtXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUcmFuc2Zvcm1SZXN1bHRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3RyYW5zZm9ybS5UcmFuc2Zvcm1SZXN1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVHJhbnNmb3JtXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF90cmFuc2Zvcm0uVHJhbnNmb3JtO1xuICB9XG59KTtcblxudmFyIF9zdGVwID0gcmVxdWlyZShcIi4vc3RlcFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RlcFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc3RlcC5TdGVwO1xuICB9XG59KTtcblxudmFyIF9hbmNlc3RvciA9IHJlcXVpcmUoXCIuL2FuY2VzdG9yXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjYW5MaWZ0XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9hbmNlc3Rvci5jYW5MaWZ0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNhbldyYXBcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FuY2VzdG9yLmNhbldyYXA7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWxyZWFkeUhhc0Jsb2NrVHlwZVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfYW5jZXN0b3IuYWxyZWFkeUhhc0Jsb2NrVHlwZTtcbiAgfVxufSk7XG5cbnZhciBfam9pbiA9IHJlcXVpcmUoXCIuL2pvaW5cIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImpvaW5Qb2ludFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfam9pbi5qb2luUG9pbnQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiam9pbmFibGVCbG9ja3NcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2pvaW4uam9pbmFibGVCbG9ja3M7XG4gIH1cbn0pO1xuXG52YXIgX21hcCA9IHJlcXVpcmUoXCIuL21hcFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUG9zTWFwXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9tYXAuUG9zTWFwO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1hcFJlc3VsdFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfbWFwLk1hcFJlc3VsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXBTdGVwXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9tYXAubWFwU3RlcDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZW1hcHBpbmdcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX21hcC5SZW1hcHBpbmc7XG4gIH1cbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5qb2luYWJsZUJsb2NrcyA9IGpvaW5hYmxlQmxvY2tzO1xuZXhwb3J0cy5qb2luUG9pbnQgPSBqb2luUG9pbnQ7XG5cbnZhciBfbW9kZWwgPSByZXF1aXJlKFwiLi4vbW9kZWxcIik7XG5cbnZhciBfdHJhbnNmb3JtID0gcmVxdWlyZShcIi4vdHJhbnNmb3JtXCIpO1xuXG52YXIgX3N0ZXAgPSByZXF1aXJlKFwiLi9zdGVwXCIpO1xuXG52YXIgX21hcCA9IHJlcXVpcmUoXCIuL21hcFwiKTtcblxuKDAsIF9zdGVwLmRlZmluZVN0ZXApKFwiam9pblwiLCB7XG4gIGFwcGx5OiBmdW5jdGlvbiBhcHBseShkb2MsIHN0ZXApIHtcbiAgICB2YXIgYmVmb3JlID0gZG9jLnBhdGgoc3RlcC5mcm9tLnBhdGgpO1xuICAgIHZhciBhZnRlciA9IGRvYy5wYXRoKHN0ZXAudG8ucGF0aCk7XG4gICAgaWYgKHN0ZXAuZnJvbS5vZmZzZXQgPCBiZWZvcmUubWF4T2Zmc2V0IHx8IHN0ZXAudG8ub2Zmc2V0ID4gMCB8fCAhYmVmb3JlLnR5cGUuY2FuQ29udGFpbkNoaWxkcmVuKGFmdGVyLCB0cnVlKSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHBGcm9tID0gc3RlcC5mcm9tLnBhdGgsXG4gICAgICAgIHBUbyA9IHN0ZXAudG8ucGF0aDtcbiAgICB2YXIgbGFzdCA9IHBGcm9tLmxlbmd0aCAtIDEsXG4gICAgICAgIG9mZnNldCA9IHBGcm9tW2xhc3RdICsgMTtcbiAgICBpZiAocEZyb20ubGVuZ3RoICE9IHBUby5sZW5ndGggfHwgcEZyb20ubGVuZ3RoID09IDAgfHwgb2Zmc2V0ICE9IHBUb1tsYXN0XSkgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyBpKyspIHtcbiAgICAgIGlmIChwRnJvbVtpXSAhPSBwVG9baV0pIHJldHVybiBudWxsO1xuICAgIH12YXIgdGFyZ2V0UGF0aCA9IHBGcm9tLnNsaWNlKDAsIGxhc3QpO1xuICAgIHZhciB0YXJnZXQgPSBkb2MucGF0aCh0YXJnZXRQYXRoKSxcbiAgICAgICAgb2xkU2l6ZSA9IHRhcmdldC5sZW5ndGg7XG4gICAgaWYgKHRhcmdldC50eXBlLmxvY2tlZCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGpvaW5lZCA9IGJlZm9yZS5hcHBlbmQoYWZ0ZXIuY2hpbGRyZW4pO1xuICAgIHZhciBjb3B5ID0gZG9jLnJlcGxhY2VEZWVwKHRhcmdldFBhdGgsIHRhcmdldC5zcGxpY2Uob2Zmc2V0IC0gMSwgb2Zmc2V0ICsgMSwgW2pvaW5lZF0pKTtcblxuICAgIHZhciBtYXAgPSBuZXcgX21hcC5Qb3NNYXAoW25ldyBfbWFwLk1vdmVkUmFuZ2Uoc3RlcC50bywgYWZ0ZXIubWF4T2Zmc2V0LCBzdGVwLmZyb20pLCBuZXcgX21hcC5Nb3ZlZFJhbmdlKG5ldyBfbW9kZWwuUG9zKHRhcmdldFBhdGgsIG9mZnNldCArIDEpLCBvbGRTaXplIC0gb2Zmc2V0IC0gMSwgbmV3IF9tb2RlbC5Qb3ModGFyZ2V0UGF0aCwgb2Zmc2V0KSldLCBbbmV3IF9tYXAuUmVwbGFjZWRSYW5nZShzdGVwLmZyb20sIHN0ZXAudG8sIHN0ZXAuZnJvbSwgc3RlcC5mcm9tLCBzdGVwLnRvLnNob3J0ZW4oKSldKTtcbiAgICByZXR1cm4gbmV3IF90cmFuc2Zvcm0uVHJhbnNmb3JtUmVzdWx0KGNvcHksIG1hcCk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24gaW52ZXJ0KHN0ZXAsIG9sZERvYykge1xuICAgIHJldHVybiBuZXcgX3N0ZXAuU3RlcChcInNwbGl0XCIsIG51bGwsIG51bGwsIHN0ZXAuZnJvbSwgb2xkRG9jLnBhdGgoc3RlcC50by5wYXRoKS5jb3B5KCkpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gam9pbmFibGVCbG9ja3MoZG9jLCBwb3MpIHtcbiAgaWYgKHBvcy5vZmZzZXQgPT0gMCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcGFyZW50ID0gZG9jLnBhdGgocG9zLnBhdGgpO1xuICBpZiAocGFyZW50LmlzVGV4dGJsb2NrIHx8IHBvcy5vZmZzZXQgPT0gcGFyZW50Lmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgdHlwZSA9IHBhcmVudC5jaGlsZChwb3Mub2Zmc2V0IC0gMSkudHlwZTtcbiAgcmV0dXJuICF0eXBlLmlzVGV4dGJsb2NrICYmIHR5cGUuY29udGFpbnMgJiYgdHlwZSA9PSBwYXJlbnQuY2hpbGQocG9zLm9mZnNldCkudHlwZTtcbn1cblxuZnVuY3Rpb24gam9pblBvaW50KGRvYywgcG9zKSB7XG4gIHZhciBkaXIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAtMSA6IGFyZ3VtZW50c1syXTtcblxuICBmb3IgKDs7KSB7XG4gICAgaWYgKGpvaW5hYmxlQmxvY2tzKGRvYywgcG9zKSkgcmV0dXJuIHBvcztcbiAgICBpZiAocG9zLmRlcHRoID09IDApIHJldHVybiBudWxsO1xuICAgIHBvcyA9IHBvcy5zaG9ydGVuKG51bGwsIGRpciA8IDAgPyAwIDogMSk7XG4gIH1cbn1cblxuX3RyYW5zZm9ybS5UcmFuc2Zvcm0ucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAoYXQpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMuZG9jLnBhdGgoYXQucGF0aCk7XG4gIGlmIChhdC5vZmZzZXQgPT0gMCB8fCBhdC5vZmZzZXQgPT0gcGFyZW50Lmxlbmd0aCB8fCBwYXJlbnQuaXNUZXh0YmxvY2spIHJldHVybiB0aGlzO1xuICB0aGlzLnN0ZXAoXCJqb2luXCIsIG5ldyBfbW9kZWwuUG9zKGF0LnBhdGguY29uY2F0KGF0Lm9mZnNldCAtIDEpLCBwYXJlbnQuY2hpbGQoYXQub2Zmc2V0IC0gMSkubWF4T2Zmc2V0KSwgbmV3IF9tb2RlbC5Qb3MoYXQucGF0aC5jb25jYXQoYXQub2Zmc2V0KSwgMCkpO1xuICByZXR1cm4gdGhpcztcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZXhwb3J0cy5tYXBTdGVwID0gbWFwU3RlcDtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF9zdGVwID0gcmVxdWlyZShcIi4vc3RlcFwiKTtcblxudmFyIE1vdmVkUmFuZ2UgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNb3ZlZFJhbmdlKHN0YXJ0LCBzaXplKSB7XG4gICAgdmFyIGRlc3QgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vdmVkUmFuZ2UpO1xuXG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5kZXN0ID0gZGVzdDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNb3ZlZFJhbmdlLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBcIlttb3ZlZCBcIiArIHRoaXMuc3RhcnQgKyBcIitcIiArIHRoaXMuc2l6ZSArIFwiIHRvIFwiICsgdGhpcy5kZXN0ICsgXCJdXCI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVuZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5ldyBfbW9kZWwuUG9zKHRoaXMuc3RhcnQucGF0aCwgdGhpcy5zdGFydC5vZmZzZXQgKyB0aGlzLnNpemUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNb3ZlZFJhbmdlO1xufSkoKTtcblxuZXhwb3J0cy5Nb3ZlZFJhbmdlID0gTW92ZWRSYW5nZTtcblxudmFyIFNpZGUgPSBmdW5jdGlvbiBTaWRlKGZyb20sIHRvLCByZWYpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGUpO1xuXG4gIHRoaXMuZnJvbSA9IGZyb207XG4gIHRoaXMudG8gPSB0bztcbiAgdGhpcy5yZWYgPSByZWY7XG59O1xuXG52YXIgUmVwbGFjZWRSYW5nZSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJlcGxhY2VkUmFuZ2UoZnJvbSwgdG8sIG5ld0Zyb20sIG5ld1RvKSB7XG4gICAgdmFyIHJlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IGZyb20gOiBhcmd1bWVudHNbNF07XG4gICAgdmFyIG5ld1JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IG5ld0Zyb20gOiBhcmd1bWVudHNbNV07XG4gICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVwbGFjZWRSYW5nZSk7XG5cbiAgICAgIHRoaXMuYmVmb3JlID0gbmV3IFNpZGUoZnJvbSwgdG8sIHJlZik7XG4gICAgICB0aGlzLmFmdGVyID0gbmV3IFNpZGUobmV3RnJvbSwgbmV3VG8sIG5ld1JlZik7XG4gICAgfSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXBsYWNlZFJhbmdlLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBcIltyZXBsYWNlZCBcIiArIHRoaXMuYmVmb3JlLmZyb20gKyBcIi1cIiArIHRoaXMuYmVmb3JlLnRvICsgXCIgd2l0aCBcIiArIHRoaXMuYWZ0ZXIuZnJvbSArIFwiLVwiICsgdGhpcy5hZnRlci50byArIFwiXVwiO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXBsYWNlZFJhbmdlO1xufSkoKTtcblxuZXhwb3J0cy5SZXBsYWNlZFJhbmdlID0gUmVwbGFjZWRSYW5nZTtcblxudmFyIGVtcHR5ID0gW107XG5cbnZhciBNYXBSZXN1bHQgPSBmdW5jdGlvbiBNYXBSZXN1bHQocG9zKSB7XG4gIHZhciBkZWxldGVkID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07XG4gIHZhciByZWNvdmVyID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1syXTtcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFwUmVzdWx0KTtcblxuICB0aGlzLnBvcyA9IHBvcztcbiAgdGhpcy5kZWxldGVkID0gZGVsZXRlZDtcbiAgdGhpcy5yZWNvdmVyID0gcmVjb3Zlcjtcbn07XG5cbmV4cG9ydHMuTWFwUmVzdWx0ID0gTWFwUmVzdWx0O1xuXG5mdW5jdGlvbiBvZmZzZXRGcm9tKGJhc2UsIHBvcykge1xuICBpZiAocG9zLnBhdGgubGVuZ3RoID4gYmFzZS5wYXRoLmxlbmd0aCkge1xuICAgIHZhciBwYXRoID0gW3Bvcy5wYXRoW2Jhc2UucGF0aC5sZW5ndGhdIC0gYmFzZS5vZmZzZXRdO1xuICAgIGZvciAodmFyIGkgPSBiYXNlLnBhdGgubGVuZ3RoICsgMTsgaSA8IHBvcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXRoLnB1c2gocG9zLnBhdGhbaV0pO1xuICAgIH1yZXR1cm4gbmV3IF9tb2RlbC5Qb3MocGF0aCwgcG9zLm9mZnNldCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBfbW9kZWwuUG9zKFtdLCBwb3Mub2Zmc2V0IC0gYmFzZS5vZmZzZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcFRocm91Z2gobWFwLCBwb3MsIGJpYXMsIGJhY2spIHtcbiAgaWYgKGJpYXMgPT09IHVuZGVmaW5lZCkgYmlhcyA9IDE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAucmVwbGFjZWQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmFuZ2UgPSBtYXAucmVwbGFjZWRbaV0sXG4gICAgICAgIHNpZGUgPSBiYWNrID8gcmFuZ2UuYWZ0ZXIgOiByYW5nZS5iZWZvcmU7XG4gICAgdmFyIGxlZnQgPSB1bmRlZmluZWQsXG4gICAgICAgIHJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIGlmICgobGVmdCA9IHBvcy5jbXAoc2lkZS5mcm9tKSkgPj0gMCAmJiAocmlnaHQgPSBwb3MuY21wKHNpZGUudG8pKSA8PSAwKSB7XG4gICAgICB2YXIgb3RoZXIgPSBiYWNrID8gcmFuZ2UuYmVmb3JlIDogcmFuZ2UuYWZ0ZXI7XG4gICAgICByZXR1cm4gbmV3IE1hcFJlc3VsdChiaWFzIDwgMCA/IG90aGVyLmZyb20gOiBvdGhlci50bywgISEobGVmdCAmJiByaWdodCksIHsgcmFuZ2VJRDogaSwgb2Zmc2V0OiBvZmZzZXRGcm9tKHNpZGUucmVmLCBwb3MpIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLm1vdmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJhbmdlID0gbWFwLm1vdmVkW2ldO1xuICAgIHZhciBzdGFydCA9IGJhY2sgPyByYW5nZS5kZXN0IDogcmFuZ2Uuc3RhcnQ7XG4gICAgaWYgKHBvcy5jbXAoc3RhcnQpID49IDAgJiYgX21vZGVsLlBvcy5jbXAocG9zLnBhdGgsIHBvcy5vZmZzZXQsIHN0YXJ0LnBhdGgsIHN0YXJ0Lm9mZnNldCArIHJhbmdlLnNpemUpIDw9IDApIHtcbiAgICAgIHZhciBkZXN0ID0gYmFjayA/IHJhbmdlLnN0YXJ0IDogcmFuZ2UuZGVzdDtcbiAgICAgIHZhciBkZXB0aCA9IHN0YXJ0LmRlcHRoO1xuICAgICAgaWYgKHBvcy5kZXB0aCA+IGRlcHRoKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBkZXN0Lm9mZnNldCArIChwb3MucGF0aFtkZXB0aF0gLSBzdGFydC5vZmZzZXQpO1xuICAgICAgICByZXR1cm4gbmV3IE1hcFJlc3VsdChuZXcgX21vZGVsLlBvcyhkZXN0LnBhdGguY29uY2F0KG9mZnNldCkuY29uY2F0KHBvcy5wYXRoLnNsaWNlKGRlcHRoICsgMSkpLCBwb3Mub2Zmc2V0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE1hcFJlc3VsdChuZXcgX21vZGVsLlBvcyhkZXN0LnBhdGgsIGRlc3Qub2Zmc2V0ICsgKHBvcy5vZmZzZXQgLSBzdGFydC5vZmZzZXQpKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBNYXBSZXN1bHQocG9zKTtcbn1cblxudmFyIFBvc01hcCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBvc01hcChtb3ZlZCwgcmVwbGFjZWQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zTWFwKTtcblxuICAgIHRoaXMubW92ZWQgPSBtb3ZlZCB8fCBlbXB0eTtcbiAgICB0aGlzLnJlcGxhY2VkID0gcmVwbGFjZWQgfHwgZW1wdHk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUG9zTWFwLCBbe1xuICAgIGtleTogXCJyZWNvdmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY292ZXIob2Zmc2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXBsYWNlZFtvZmZzZXQucmFuZ2VJRF0uYWZ0ZXIucmVmLmV4dGVuZChvZmZzZXQub2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChwb3MsIGJpYXMpIHtcbiAgICAgIHJldHVybiBtYXBUaHJvdWdoKHRoaXMsIHBvcywgYmlhcywgZmFsc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbnZlcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZFBvc01hcCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3ZlZC5jb25jYXQodGhpcy5yZXBsYWNlZCkuam9pbihcIiBcIik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvc01hcDtcbn0pKCk7XG5cbmV4cG9ydHMuUG9zTWFwID0gUG9zTWFwO1xuXG52YXIgSW52ZXJ0ZWRQb3NNYXAgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbnZlcnRlZFBvc01hcChtYXApIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52ZXJ0ZWRQb3NNYXApO1xuXG4gICAgdGhpcy5pbm5lciA9IG1hcDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbnZlcnRlZFBvc01hcCwgW3tcbiAgICBrZXk6IFwicmVjb3ZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvdmVyKG9mZnNldCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5uZXIucmVwbGFjZWRbb2Zmc2V0LnJhbmdlSURdLmJlZm9yZS5yZWYuZXh0ZW5kKG9mZnNldC5vZmZzZXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKHBvcywgYmlhcykge1xuICAgICAgcmV0dXJuIG1hcFRocm91Z2godGhpcy5pbm5lciwgcG9zLCBiaWFzLCB0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW52ZXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlubmVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBcIi1cIiArIHRoaXMuaW5uZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludmVydGVkUG9zTWFwO1xufSkoKTtcblxudmFyIG51bGxNYXAgPSBuZXcgUG9zTWFwKCk7XG5cbmV4cG9ydHMubnVsbE1hcCA9IG51bGxNYXA7XG5cbnZhciBSZW1hcHBpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZW1hcHBpbmcoKSB7XG4gICAgdmFyIGhlYWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgdGFpbCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuICAgIHZhciBtaXJyb3IgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDogYXJndW1lbnRzWzJdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbWFwcGluZyk7XG5cbiAgICB0aGlzLmhlYWQgPSBoZWFkO1xuICAgIHRoaXMudGFpbCA9IHRhaWw7XG4gICAgdGhpcy5taXJyb3IgPSBtaXJyb3I7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtYXBwaW5nLCBbe1xuICAgIGtleTogXCJhZGRUb0Zyb250XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRvRnJvbnQobWFwLCBjb3JyKSB7XG4gICAgICB0aGlzLmhlYWQucHVzaChtYXApO1xuICAgICAgdmFyIGlkID0gLXRoaXMuaGVhZC5sZW5ndGg7XG4gICAgICBpZiAoY29yciAhPSBudWxsKSB0aGlzLm1pcnJvcltpZF0gPSBjb3JyO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRUb0JhY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVG9CYWNrKG1hcCwgY29ycikge1xuICAgICAgdGhpcy50YWlsLnB1c2gobWFwKTtcbiAgICAgIHZhciBpZCA9IHRoaXMudGFpbC5sZW5ndGggLSAxO1xuICAgICAgaWYgKGNvcnIgIT0gbnVsbCkgdGhpcy5taXJyb3JbY29ycl0gPSBpZDtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChpZCkge1xuICAgICAgcmV0dXJuIGlkIDwgMCA/IHRoaXMuaGVhZFstaWQgLSAxXSA6IHRoaXMudGFpbFtpZF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAocG9zLCBiaWFzKSB7XG4gICAgICB2YXIgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBpID0gLXRoaXMuaGVhZC5sZW5ndGg7IGkgPCB0aGlzLnRhaWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0KGkpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbWFwLm1hcChwb3MsIGJpYXMpO1xuICAgICAgICBpZiAocmVzdWx0LnJlY292ZXIpIHtcbiAgICAgICAgICB2YXIgY29yciA9IHRoaXMubWlycm9yW2ldO1xuICAgICAgICAgIGlmIChjb3JyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGkgPSBjb3JyO1xuICAgICAgICAgICAgcG9zID0gdGhpcy5nZXQoY29ycikucmVjb3ZlcihyZXN1bHQucmVjb3Zlcik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5kZWxldGVkKSBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcG9zID0gcmVzdWx0LnBvcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBNYXBSZXN1bHQocG9zLCBkZWxldGVkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVtYXBwaW5nO1xufSkoKTtcblxuZXhwb3J0cy5SZW1hcHBpbmcgPSBSZW1hcHBpbmc7XG5cbmZ1bmN0aW9uIG1heFBvcyhhLCBiKSB7XG4gIHJldHVybiBhLmNtcChiKSA+IDAgPyBhIDogYjtcbn1cblxuZnVuY3Rpb24gbWFwU3RlcChzdGVwLCByZW1hcHBpbmcpIHtcbiAgdmFyIGFsbERlbGV0ZWQgPSB0cnVlO1xuICB2YXIgZnJvbSA9IG51bGwsXG4gICAgICB0byA9IG51bGwsXG4gICAgICBwb3MgPSBudWxsO1xuXG4gIGlmIChzdGVwLmZyb20pIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVtYXBwaW5nLm1hcChzdGVwLmZyb20sIDEpO1xuICAgIGZyb20gPSByZXN1bHQucG9zO1xuICAgIGlmICghcmVzdWx0LmRlbGV0ZWQpIGFsbERlbGV0ZWQgPSBmYWxzZTtcbiAgfVxuICBpZiAoc3RlcC50bykge1xuICAgIGlmIChzdGVwLnRvLmNtcChzdGVwLmZyb20pID09IDApIHtcbiAgICAgIHRvID0gZnJvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3VsdCA9IHJlbWFwcGluZy5tYXAoc3RlcC50bywgLTEpO1xuICAgICAgdG8gPSBtYXhQb3MocmVzdWx0LnBvcywgZnJvbSk7XG4gICAgICBpZiAoIXJlc3VsdC5kZWxldGVkKSBhbGxEZWxldGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChzdGVwLnBvcykge1xuICAgIGlmIChmcm9tICYmIHN0ZXAucG9zLmNtcChzdGVwLmZyb20pID09IDApIHtcbiAgICAgIHBvcyA9IGZyb207XG4gICAgfSBlbHNlIGlmICh0byAmJiBzdGVwLnBvcy5jbXAoc3RlcC50bykgPT0gMCkge1xuICAgICAgcG9zID0gdG87XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSByZW1hcHBpbmcubWFwKHN0ZXAucG9zLCAxKTtcbiAgICAgIHBvcyA9IHJlc3VsdC5wb3M7XG4gICAgICBpZiAoIXJlc3VsdC5kZWxldGVkKSBhbGxEZWxldGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmICghYWxsRGVsZXRlZCkgcmV0dXJuIG5ldyBfc3RlcC5TdGVwKHN0ZXAubmFtZSwgZnJvbSwgdG8sIHBvcywgc3RlcC5wYXJhbSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnJlcGxhY2UgPSByZXBsYWNlO1xuXG52YXIgX21vZGVsID0gcmVxdWlyZShcIi4uL21vZGVsXCIpO1xuXG52YXIgX3RyYW5zZm9ybSA9IHJlcXVpcmUoXCIuL3RyYW5zZm9ybVwiKTtcblxudmFyIF9zdGVwID0gcmVxdWlyZShcIi4vc3RlcFwiKTtcblxudmFyIF9tYXAgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5cbnZhciBfdHJlZSA9IHJlcXVpcmUoXCIuL3RyZWVcIik7XG5cbmZ1bmN0aW9uIGZpbmRNb3ZlZENodW5rcyhvbGROb2RlLCBvbGRQYXRoLCBuZXdOb2RlLCBzdGFydERlcHRoKSB7XG4gIHZhciBtb3ZlZCA9IFtdO1xuICB2YXIgbmV3UGF0aCA9IG9sZFBhdGgucGF0aC5zbGljZSgwLCBzdGFydERlcHRoKTtcblxuICBmb3IgKHZhciBkZXB0aCA9IHN0YXJ0RGVwdGg7OyBkZXB0aCsrKSB7XG4gICAgdmFyIGpvaW5lZCA9IGRlcHRoID09IG9sZFBhdGguZGVwdGggPyAwIDogMTtcbiAgICB2YXIgY3V0ID0gZGVwdGggPT0gb2xkUGF0aC5kZXB0aCA/IG9sZFBhdGgub2Zmc2V0IDogb2xkUGF0aC5wYXRoW2RlcHRoXTtcbiAgICB2YXIgYWZ0ZXJDdXQgPSBvbGROb2RlLm1heE9mZnNldCAtIGN1dDtcbiAgICB2YXIgbmV3T2Zmc2V0ID0gbmV3Tm9kZS5tYXhPZmZzZXQgLSBhZnRlckN1dDtcblxuICAgIHZhciBmcm9tID0gb2xkUGF0aC5zaG9ydGVuKGRlcHRoLCBqb2luZWQpO1xuICAgIHZhciB0byA9IG5ldyBfbW9kZWwuUG9zKG5ld1BhdGgsIG5ld09mZnNldCArIGpvaW5lZCk7XG4gICAgaWYgKGZyb20uY21wKHRvKSkgbW92ZWQucHVzaChuZXcgX21hcC5Nb3ZlZFJhbmdlKGZyb20sIGFmdGVyQ3V0IC0gam9pbmVkLCB0bykpO1xuXG4gICAgaWYgKCFqb2luZWQpIHJldHVybiBtb3ZlZDtcblxuICAgIG9sZE5vZGUgPSBvbGROb2RlLmNoaWxkKGN1dCk7XG4gICAgbmV3Tm9kZSA9IG5ld05vZGUuY2hpbGQobmV3T2Zmc2V0KTtcbiAgICBuZXdQYXRoID0gbmV3UGF0aC5jb25jYXQobmV3T2Zmc2V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsYWNlKG5vZGUsIGZyb20sIHRvLCByb290LCByZXBsKSB7XG4gIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cbiAgaWYgKGRlcHRoID09IHJvb3QubGVuZ3RoKSB7XG4gICAgdmFyIF9yZXQgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJlZm9yZSA9ICgwLCBfbW9kZWwuc2xpY2VCZWZvcmUpKG5vZGUsIGZyb20sIGRlcHRoKTtcbiAgICAgIHZhciBhZnRlciA9ICgwLCBfbW9kZWwuc2xpY2VBZnRlcikobm9kZSwgdG8sIGRlcHRoKSxcbiAgICAgICAgICByZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoIXJlcGwubm9kZXMuZXZlcnkoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIGJlZm9yZS50eXBlLmNhbkNvbnRhaW4obik7XG4gICAgICB9KSkgcmV0dXJuIHtcbiAgICAgICAgICB2OiBudWxsXG4gICAgICAgIH07XG4gICAgICBpZiAocmVwbC5ub2Rlcy5sZW5ndGgpIHJlc3VsdCA9IGJlZm9yZS5hcHBlbmQocmVwbC5ub2RlcywgZnJvbS5kZXB0aCAtIGRlcHRoLCByZXBsLm9wZW5MZWZ0KS5hcHBlbmQoYWZ0ZXIuY2hpbGRyZW4sIHJlcGwub3BlblJpZ2h0LCB0by5kZXB0aCAtIGRlcHRoKTtlbHNlIHJlc3VsdCA9IGJlZm9yZS5hcHBlbmQoYWZ0ZXIuY2hpbGRyZW4sIGZyb20uZGVwdGggLSBkZXB0aCwgdG8uZGVwdGggLSBkZXB0aCk7XG4gICAgICBpZiAoIXJlc3VsdC5sZW5ndGggJiYgIXJlc3VsdC50eXBlLmNhbkJlRW1wdHkpIHJlc3VsdCA9IHJlc3VsdC5jb3B5KHJlc3VsdC50eXBlLmRlZmF1bHRDb250ZW50KCkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogeyBkb2M6IHJlc3VsdCwgbW92ZWQ6IGZpbmRNb3ZlZENodW5rcyhub2RlLCB0bywgcmVzdWx0LCBkZXB0aCkgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9IGVsc2Uge1xuICAgIHZhciBwb3MgPSByb290W2RlcHRoXTtcbiAgICB2YXIgcmVzdWx0ID0gcmVwbGFjZShub2RlLmNoaWxkKHBvcyksIGZyb20sIHRvLCByb290LCByZXBsLCBkZXB0aCArIDEpO1xuICAgIGlmICghcmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4geyBkb2M6IG5vZGUucmVwbGFjZShwb3MsIHJlc3VsdC5kb2MpLCBtb3ZlZDogcmVzdWx0Lm1vdmVkIH07XG4gIH1cbn1cblxudmFyIG51bGxSZXBsID0geyBub2RlczogW10sIG9wZW5MZWZ0OiAwLCBvcGVuUmlnaHQ6IDAgfTtcblxuKDAsIF9zdGVwLmRlZmluZVN0ZXApKFwicmVwbGFjZVwiLCB7XG4gIGFwcGx5OiBmdW5jdGlvbiBhcHBseShkb2MsIHN0ZXApIHtcbiAgICB2YXIgcm9vdFBvcyA9IHN0ZXAucG9zLFxuICAgICAgICByb290ID0gcm9vdFBvcy5wYXRoO1xuICAgIGlmIChzdGVwLmZyb20uZGVwdGggPCByb290Lmxlbmd0aCB8fCBzdGVwLnRvLmRlcHRoIDwgcm9vdC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHN0ZXAuZnJvbS5wYXRoW2ldICE9IHJvb3RbaV0gfHwgc3RlcC50by5wYXRoW2ldICE9IHJvb3RbaV0pIHJldHVybiBudWxsO1xuICAgIH12YXIgcmVzdWx0ID0gcmVwbGFjZShkb2MsIHN0ZXAuZnJvbSwgc3RlcC50bywgcm9vdFBvcy5wYXRoLCBzdGVwLnBhcmFtIHx8IG51bGxSZXBsKTtcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIG91dCA9IHJlc3VsdC5kb2M7XG4gICAgdmFyIG1vdmVkID0gcmVzdWx0Lm1vdmVkO1xuXG4gICAgdmFyIGVuZCA9IG1vdmVkLmxlbmd0aCA/IG1vdmVkW21vdmVkLmxlbmd0aCAtIDFdLmRlc3QgOiBzdGVwLnRvO1xuICAgIHZhciByZXBsYWNlZCA9IG5ldyBfbWFwLlJlcGxhY2VkUmFuZ2Uoc3RlcC5mcm9tLCBzdGVwLnRvLCBzdGVwLmZyb20sIGVuZCwgcm9vdFBvcywgcm9vdFBvcyk7XG4gICAgcmV0dXJuIG5ldyBfdHJhbnNmb3JtLlRyYW5zZm9ybVJlc3VsdChvdXQsIG5ldyBfbWFwLlBvc01hcChtb3ZlZCwgW3JlcGxhY2VkXSkpO1xuICB9LFxuICBpbnZlcnQ6IGZ1bmN0aW9uIGludmVydChzdGVwLCBvbGREb2MsIG1hcCkge1xuICAgIHZhciBkZXB0aCA9IHN0ZXAucG9zLmRlcHRoO1xuICAgIHJldHVybiBuZXcgX3N0ZXAuU3RlcChcInJlcGxhY2VcIiwgc3RlcC5mcm9tLCBtYXAubWFwKHN0ZXAudG8pLnBvcywgc3RlcC5mcm9tLnNob3J0ZW4oZGVwdGgpLCB7XG4gICAgICBub2RlczogKDAsIF9tb2RlbC5jaGlsZHJlbkJldHdlZW4pKG9sZERvYy5wYXRoKHN0ZXAucG9zLnBhdGgpLCBzdGVwLmZyb20sIHN0ZXAudG8sIGRlcHRoKSxcbiAgICAgIG9wZW5MZWZ0OiBzdGVwLmZyb20uZGVwdGggLSBkZXB0aCxcbiAgICAgIG9wZW5SaWdodDogc3RlcC50by5kZXB0aCAtIGRlcHRoXG4gICAgfSk7XG4gIH0sXG4gIHBhcmFtVG9KU09OOiBmdW5jdGlvbiBwYXJhbVRvSlNPTihwYXJhbSkge1xuICAgIHJldHVybiBwYXJhbSAmJiB7IG5vZGVzOiBwYXJhbS5ub2RlcyAmJiBwYXJhbS5ub2Rlcy5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIG4udG9KU09OKCk7XG4gICAgICB9KSxcbiAgICAgIG9wZW5MZWZ0OiBwYXJhbS5vcGVuTGVmdCwgb3BlblJpZ2h0OiBwYXJhbS5vcGVuUmlnaHQgfTtcbiAgfSxcbiAgcGFyYW1Gcm9tSlNPTjogZnVuY3Rpb24gcGFyYW1Gcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICByZXR1cm4ganNvbiAmJiB7IG5vZGVzOiBqc29uLm5vZGVzICYmIGpzb24ubm9kZXMubWFwKHNjaGVtYS5ub2RlRnJvbUpTT04pLFxuICAgICAgb3BlbkxlZnQ6IGpzb24ub3BlbkxlZnQsIG9wZW5SaWdodDoganNvbi5vcGVuUmlnaHQgfTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHNoaWZ0RnJvbVN0YWNrKHN0YWNrLCBkZXB0aCkge1xuICB2YXIgc2hpZnRlZCA9IHN0YWNrW2RlcHRoXSA9IHN0YWNrW2RlcHRoXS5zcGxpY2UoMCwgMSwgW10pO1xuICBmb3IgKHZhciBpID0gZGVwdGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHNoaWZ0ZWQgPSBzdGFja1tpXSA9IHN0YWNrW2ldLnJlcGxhY2UoMCwgc2hpZnRlZCk7XG4gIH1cbn1cblxuLy8gRklYTUUgZmluZCBhIG5vdCBzbyBob3JyaWJseSBjb25mdXNpbmcgd2F5IHRvIGV4cHJlc3MgdGhpc1xuZnVuY3Rpb24gYnVpbGRJbnNlcnRlZChub2Rlc0xlZnQsIHNvdXJjZSwgc3RhcnQsIGVuZCkge1xuICB2YXIgc2xpY2VkID0gKDAsIF9tb2RlbC5zbGljZUJldHdlZW4pKHNvdXJjZSwgc3RhcnQsIGVuZCwgZmFsc2UpO1xuICB2YXIgbm9kZXNSaWdodCA9IFtdO1xuICBmb3IgKHZhciBub2RlID0gc2xpY2VkLCBpID0gMDsgaSA8PSBzdGFydC5wYXRoLmxlbmd0aDsgaSsrLCBub2RlID0gbm9kZS5maXJzdENoaWxkKSB7XG4gICAgbm9kZXNSaWdodC5wdXNoKG5vZGUpO1xuICB9dmFyIHNhbWUgPSAoMCwgX3RyZWUuc2FtZVBhdGhEZXB0aCkoc3RhcnQsIGVuZCk7XG4gIHZhciBzZWFyY2hMZWZ0ID0gbm9kZXNMZWZ0Lmxlbmd0aCAtIDEsXG4gICAgICBzZWFyY2hSaWdodCA9IG5vZGVzUmlnaHQubGVuZ3RoIC0gMTtcbiAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgdmFyIGlubmVyID0gbm9kZXNSaWdodFtzZWFyY2hSaWdodF07XG4gIGlmIChpbm5lci5pc1RleHRibG9jayAmJiBpbm5lci5sZW5ndGggJiYgbm9kZXNMZWZ0W3NlYXJjaExlZnRdLmlzVGV4dGJsb2NrKSB7XG4gICAgcmVzdWx0ID0gbm9kZXNMZWZ0W3NlYXJjaExlZnQtLV0uY29weShpbm5lci5jaGlsZHJlbik7XG4gICAgLS1zZWFyY2hSaWdodDtcbiAgICBzaGlmdEZyb21TdGFjayhub2Rlc1JpZ2h0LCBzZWFyY2hSaWdodCk7XG4gIH1cblxuICBmb3IgKDs7KSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1JpZ2h0W3NlYXJjaFJpZ2h0XSxcbiAgICAgICAgdHlwZSA9IG5vZGUudHlwZSxcbiAgICAgICAgbWF0Y2hlZCA9IG51bGw7XG4gICAgdmFyIG91dHNpZGUgPSBzZWFyY2hSaWdodCA8PSBzYW1lO1xuICAgIGZvciAodmFyIGkgPSBzZWFyY2hMZWZ0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGxlZnQgPSBub2Rlc0xlZnRbaV07XG4gICAgICBpZiAob3V0c2lkZSA/IGxlZnQudHlwZS5jYW5Db250YWluQ2hpbGRyZW4obm9kZSkgOiBsZWZ0LnR5cGUgPT0gdHlwZSkge1xuICAgICAgICBtYXRjaGVkID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXRjaGVkICE9IG51bGwpIHtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdCA9IG5vZGVzTGVmdFttYXRjaGVkXS5jb3B5KG5vZGUuY2hpbGRyZW4pO1xuICAgICAgICBzZWFyY2hMZWZ0ID0gbWF0Y2hlZCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoc2VhcmNoTGVmdCA+PSBtYXRjaGVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gbm9kZXNMZWZ0W3NlYXJjaExlZnRdLmNvcHkoc2VhcmNoTGVmdCA9PSBtYXRjaGVkID8gW3Jlc3VsdF0uY29uY2F0KG5vZGUuY2hpbGRyZW4pIDogW3Jlc3VsdF0pO1xuICAgICAgICAgIHNlYXJjaExlZnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF0Y2hlZCAhPSBudWxsIHx8IG5vZGUubGVuZ3RoID09IDApIHtcbiAgICAgIGlmIChvdXRzaWRlKSBicmVhaztcbiAgICAgIGlmIChzZWFyY2hSaWdodCkgc2hpZnRGcm9tU3RhY2sobm9kZXNSaWdodCwgc2VhcmNoUmlnaHQgLSAxKTtcbiAgICB9XG4gICAgc2VhcmNoUmlnaHQtLTtcbiAgfVxuXG4gIHZhciByZXBsID0geyBub2RlczogcmVzdWx0ID8gcmVzdWx0LmNoaWxkcmVuIDogW10sXG4gICAgb3BlbkxlZnQ6IHN0YXJ0LmRlcHRoIC0gc2VhcmNoUmlnaHQsXG4gICAgb3BlblJpZ2h0OiBlbmQuZGVwdGggLSBzZWFyY2hSaWdodCB9O1xuICByZXR1cm4geyByZXBsOiByZXBsLCBkZXB0aDogc2VhcmNoTGVmdCArIDEgfTtcbn1cblxuZnVuY3Rpb24gbW92ZVRleHQodHIsIGRvYywgYmVmb3JlLCBhZnRlcikge1xuICB2YXIgcm9vdCA9ICgwLCBfdHJlZS5zYW1lUGF0aERlcHRoKShiZWZvcmUsIGFmdGVyKTtcbiAgdmFyIGN1dEF0ID0gYWZ0ZXIuc2hvcnRlbihudWxsLCAxKTtcbiAgd2hpbGUgKGN1dEF0LnBhdGgubGVuZ3RoID4gcm9vdCAmJiBkb2MucGF0aChjdXRBdC5wYXRoKS5sZW5ndGggPT0gMSkgY3V0QXQgPSBjdXRBdC5zaG9ydGVuKG51bGwsIDEpO1xuICB0ci5zcGxpdChjdXRBdCwgY3V0QXQucGF0aC5sZW5ndGggLSByb290KTtcbiAgdmFyIHN0YXJ0ID0gYWZ0ZXIsXG4gICAgICBlbmQgPSBuZXcgX21vZGVsLlBvcyhzdGFydC5wYXRoLCBkb2MucGF0aChzdGFydC5wYXRoKS5tYXhPZmZzZXQpO1xuICB2YXIgcGFyZW50ID0gZG9jLnBhdGgoc3RhcnQucGF0aC5zbGljZSgwLCByb290KSk7XG4gIHZhciB3YW50ZWQgPSBwYXJlbnQucGF0aE5vZGVzKGJlZm9yZS5wYXRoLnNsaWNlKHJvb3QpKTtcbiAgdmFyIGV4aXN0aW5nID0gcGFyZW50LnBhdGhOb2RlcyhzdGFydC5wYXRoLnNsaWNlKHJvb3QpKTtcbiAgd2hpbGUgKHdhbnRlZC5sZW5ndGggJiYgZXhpc3RpbmcubGVuZ3RoICYmIHdhbnRlZFswXS5zYW1lTWFya3VwKGV4aXN0aW5nWzBdKSkge1xuICAgIHdhbnRlZC5zaGlmdCgpO1xuICAgIGV4aXN0aW5nLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGV4aXN0aW5nLmxlbmd0aCB8fCB3YW50ZWQubGVuZ3RoKSB0ci5zdGVwKFwiYW5jZXN0b3JcIiwgc3RhcnQsIGVuZCwgbnVsbCwge1xuICAgIGRlcHRoOiBleGlzdGluZy5sZW5ndGgsXG4gICAgd3JhcHBlcnM6IHdhbnRlZC5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuLmNvcHkoKTtcbiAgICB9KVxuICB9KTtcbiAgZm9yICh2YXIgaSA9IHJvb3Q7IGkgPCBiZWZvcmUucGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHRyLmpvaW4oYmVmb3JlLnNob3J0ZW4oaSwgMSkpO1xuICB9XG59XG5cbi8qKlxyXG4gKiBEZWxldGUgY29udGVudCBiZXR3ZWVuIHR3byBwb3NpdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSAge1Bvc30gZnJvbVxyXG4gKiBAcGFyYW0gIHtQb3N9IHRvXHJcbiAqIEByZXR1cm4gdGhpc1xyXG4gKi9cbl90cmFuc2Zvcm0uVHJhbnNmb3JtLnByb3RvdHlwZVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICBpZiAoZnJvbS5jbXAodG8pKSB0aGlzLnJlcGxhY2UoZnJvbSwgdG8pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxyXG4gKiBSZXBsYWNlIHRoZSBjb250ZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucy5cclxuICovXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChmcm9tLCB0bywgc291cmNlLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXBsID0gdW5kZWZpbmVkLFxuICAgICAgZGVwdGggPSB1bmRlZmluZWQsXG4gICAgICBkb2MgPSB0aGlzLmRvYyxcbiAgICAgIG1heERlcHRoID0gKDAsIF90cmVlLnNhbWVQYXRoRGVwdGgpKGZyb20sIHRvKTtcbiAgaWYgKHNvdXJjZSkge1xuICAgIDtcbiAgICB2YXIgX2J1aWxkSW5zZXJ0ZWQgPSBidWlsZEluc2VydGVkKGRvYy5wYXRoTm9kZXMoZnJvbS5wYXRoKSwgc291cmNlLCBzdGFydCwgZW5kKTtcblxuICAgIHJlcGwgPSBfYnVpbGRJbnNlcnRlZC5yZXBsO1xuICAgIGRlcHRoID0gX2J1aWxkSW5zZXJ0ZWQuZGVwdGg7XG5cbiAgICB3aGlsZSAoZGVwdGggPiBtYXhEZXB0aCkge1xuICAgICAgaWYgKHJlcGwubm9kZXMubGVuZ3RoKSByZXBsID0geyBub2RlczogW2RvYy5wYXRoKGZyb20ucGF0aC5zbGljZSgwLCBkZXB0aCkpLmNvcHkocmVwbC5ub2RlcyldLFxuICAgICAgICBvcGVuTGVmdDogcmVwbC5vcGVuTGVmdCArIDEsIG9wZW5SaWdodDogcmVwbC5vcGVuUmlnaHQgKyAxIH07XG4gICAgICBkZXB0aC0tO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXBsID0gbnVsbFJlcGw7XG4gICAgZGVwdGggPSBtYXhEZXB0aDtcbiAgfVxuICB2YXIgcm9vdCA9IGZyb20uc2hvcnRlbihkZXB0aCksXG4gICAgICBkb2NBZnRlciA9IGRvYyxcbiAgICAgIGFmdGVyID0gdG87XG4gIGlmIChyZXBsLm5vZGVzLmxlbmd0aCB8fCAoMCwgX3RyZWUucmVwbGFjZUhhc0VmZmVjdCkoZG9jLCBmcm9tLCB0bykpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5zdGVwKFwicmVwbGFjZVwiLCBmcm9tLCB0bywgcm9vdCwgcmVwbCk7XG4gICAgZG9jQWZ0ZXIgPSByZXN1bHQuZG9jO1xuICAgIGFmdGVyID0gcmVzdWx0Lm1hcC5tYXAodG8pLnBvcztcbiAgfVxuXG4gIC8vIElmIG5vIHRleHQgbm9kZXMgYmVmb3JlIG9yIGFmdGVyIGVuZCBvZiByZXBsYWNlbWVudCwgZG9uJ3QgZ2x1ZSB0ZXh0XG4gIGlmICghZG9jLnBhdGgodG8ucGF0aCkuaXNUZXh0YmxvY2spIHJldHVybiB0aGlzO1xuICBpZiAoIShyZXBsLm5vZGVzLmxlbmd0aCA/IHNvdXJjZS5wYXRoKGVuZC5wYXRoKS5pc1RleHRibG9jayA6IGRvYy5wYXRoKGZyb20ucGF0aCkuaXNUZXh0YmxvY2spKSByZXR1cm4gdGhpcztcblxuICB2YXIgbm9kZXNBZnRlciA9IGRvYy5wYXRoKHJvb3QucGF0aCkucGF0aE5vZGVzKHRvLnBhdGguc2xpY2UoZGVwdGgpKS5zbGljZSgxKTtcbiAgdmFyIG5vZGVzQmVmb3JlID0gdW5kZWZpbmVkO1xuICBpZiAocmVwbC5ub2Rlcy5sZW5ndGgpIHtcbiAgICB2YXIgaW5zZXJ0ZWQgPSByZXBsLm5vZGVzO1xuICAgIG5vZGVzQmVmb3JlID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBsLm9wZW5SaWdodDsgaSsrKSB7XG4gICAgICB2YXIgbGFzdCA9IGluc2VydGVkW2luc2VydGVkLmxlbmd0aCAtIDFdO1xuICAgICAgbm9kZXNCZWZvcmUucHVzaChsYXN0KTtcbiAgICAgIGluc2VydGVkID0gbGFzdC5jaGlsZHJlbjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9kZXNCZWZvcmUgPSBkb2MucGF0aChyb290LnBhdGgpLnBhdGhOb2Rlcyhmcm9tLnBhdGguc2xpY2UoZGVwdGgpKS5zbGljZSgxKTtcbiAgfVxuXG4gIGlmIChub2Rlc0JlZm9yZS5sZW5ndGggJiYgKG5vZGVzQWZ0ZXIubGVuZ3RoICE9IG5vZGVzQmVmb3JlLmxlbmd0aCB8fCAhbm9kZXNBZnRlci5ldmVyeShmdW5jdGlvbiAobiwgaSkge1xuICAgIHJldHVybiBuLnNhbWVNYXJrdXAobm9kZXNCZWZvcmVbaV0pO1xuICB9KSkpIHtcbiAgICB2YXIgX2FmdGVyJHNob3J0ZW4gPSBhZnRlci5zaG9ydGVuKHJvb3QuZGVwdGgpO1xuXG4gICAgdmFyIHBhdGggPSBfYWZ0ZXIkc2hvcnRlbi5wYXRoO1xuICAgIHZhciBvZmZzZXQgPSBfYWZ0ZXIkc2hvcnRlbi5vZmZzZXQ7dmFyIGJlZm9yZSA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKHZhciBub2RlID0gZG9jQWZ0ZXIucGF0aChwYXRoKSwgaSA9IDA7OyBpKyspIHtcbiAgICAgIGlmIChpID09IG5vZGVzQmVmb3JlLmxlbmd0aCkge1xuICAgICAgICBiZWZvcmUgPSBuZXcgX21vZGVsLlBvcyhwYXRoLCBvZmZzZXQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHBhdGgucHVzaChvZmZzZXQgLSAxKTtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkKG9mZnNldCAtIDEpO1xuICAgICAgb2Zmc2V0ID0gbm9kZS5tYXhPZmZzZXQ7XG4gICAgfVxuICAgIG1vdmVUZXh0KHRoaXMsIGRvY0FmdGVyLCBiZWZvcmUsIGFmdGVyKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbl90cmFuc2Zvcm0uVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlV2l0aCA9IGZ1bmN0aW9uIChmcm9tLCB0bywgbm9kZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG5vZGVzKSkgbm9kZXMgPSBbbm9kZXNdO1xuICBpZiAoIV9tb2RlbC5Qb3Muc2FtZVBhdGgoZnJvbS5wYXRoLCB0by5wYXRoKSkgcmV0dXJuIHRoaXM7XG4gIHRoaXMuc3RlcChcInJlcGxhY2VcIiwgZnJvbSwgdG8sIGZyb20sIHsgbm9kZXM6IG5vZGVzLCBvcGVuTGVmdDogMCwgb3BlblJpZ2h0OiAwIH0pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxyXG4gKiBJbnNlcnQgYSBub2RlIGF0IGEgZ2l2ZW4gcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSAge1Bvc30gICBwb3NcclxuICogQHBhcmFtICB7bWl4ZWR9IG5vZGVzXHJcbiAqIEByZXR1cm4ge3RoaXN9XHJcbiAqL1xuX3RyYW5zZm9ybS5UcmFuc2Zvcm0ucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChwb3MsIG5vZGVzKSB7XG4gIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHBvcywgcG9zLCBub2Rlcyk7XG59O1xuXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUuaW5zZXJ0SW5saW5lID0gZnVuY3Rpb24gKHBvcywgbm9kZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG5vZGVzKSkgbm9kZXMgPSBbbm9kZXNdO1xuICB2YXIgc3R5bGVzID0gKDAsIF9tb2RlbC5zcGFuU3R5bGVzQXQpKHRoaXMuZG9jLCBwb3MpO1xuICBub2RlcyA9IG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuLnN0eWxlZChzdHlsZXMpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMuaW5zZXJ0KHBvcywgbm9kZXMpO1xufTtcblxuX3RyYW5zZm9ybS5UcmFuc2Zvcm0ucHJvdG90eXBlLmluc2VydFRleHQgPSBmdW5jdGlvbiAocG9zLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmluc2VydElubGluZShwb3MsIHRoaXMuZG9jLnR5cGUuc2NoZW1hLnRleHQodGV4dCkpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF90cmFuc2Zvcm0gPSByZXF1aXJlKFwiLi90cmFuc2Zvcm1cIik7XG5cbnZhciBfc3RlcCA9IHJlcXVpcmUoXCIuL3N0ZXBcIik7XG5cbnZhciBfbWFwID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuXG4oMCwgX3N0ZXAuZGVmaW5lU3RlcCkoXCJzcGxpdFwiLCB7XG4gIGFwcGx5OiBmdW5jdGlvbiBhcHBseShkb2MsIHN0ZXApIHtcbiAgICB2YXIgcG9zID0gc3RlcC5wb3M7XG4gICAgaWYgKHBvcy5kZXB0aCA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIHZhciBfcG9zJHNob3J0ZW4gPSBwb3Muc2hvcnRlbigpO1xuXG4gICAgdmFyIHBhcmVudFBhdGggPSBfcG9zJHNob3J0ZW4ucGF0aDtcbiAgICB2YXIgb2Zmc2V0ID0gX3BvcyRzaG9ydGVuLm9mZnNldDtcblxuICAgIHZhciBwYXJlbnQgPSBkb2MucGF0aChwYXJlbnRQYXRoKTtcbiAgICB2YXIgdGFyZ2V0ID0gcGFyZW50LmNoaWxkKG9mZnNldCksXG4gICAgICAgIHRhcmdldFNpemUgPSB0YXJnZXQubWF4T2Zmc2V0O1xuXG4gICAgdmFyIHNwbGl0QXQgPSBwb3Mub2Zmc2V0O1xuICAgIGlmIChzcGxpdEF0ID09IDAgJiYgIXRhcmdldC50eXBlLmNhbkJlRW1wdHkgfHwgdGFyZ2V0LnR5cGUubG9ja2VkIHx8IHNwbGl0QXQgPT0gdGFyZ2V0Lm1heE9mZnNldCAmJiAhKHN0ZXAucGFyYW0gfHwgdGFyZ2V0KS50eXBlLmNhbkJlRW1wdHkpIHJldHVybiBudWxsO1xuICAgIHZhciBuZXdQYXJlbnQgPSBwYXJlbnQuc3BsaWNlKG9mZnNldCwgb2Zmc2V0ICsgMSwgW3RhcmdldC5jb3B5KHRhcmdldC5zbGljZSgwLCBzcGxpdEF0KSksIChzdGVwLnBhcmFtIHx8IHRhcmdldCkuY29weSh0YXJnZXQuc2xpY2Uoc3BsaXRBdCkpXSk7XG4gICAgdmFyIGNvcHkgPSBkb2MucmVwbGFjZURlZXAocGFyZW50UGF0aCwgbmV3UGFyZW50KTtcblxuICAgIHZhciBkZXN0ID0gbmV3IF9tb2RlbC5Qb3MocGFyZW50UGF0aC5jb25jYXQob2Zmc2V0ICsgMSksIDApO1xuICAgIHZhciBtYXAgPSBuZXcgX21hcC5Qb3NNYXAoW25ldyBfbWFwLk1vdmVkUmFuZ2UocG9zLCB0YXJnZXRTaXplIC0gcG9zLm9mZnNldCwgZGVzdCksIG5ldyBfbWFwLk1vdmVkUmFuZ2UobmV3IF9tb2RlbC5Qb3MocGFyZW50UGF0aCwgb2Zmc2V0ICsgMSksIG5ld1BhcmVudC5sZW5ndGggLSAyIC0gb2Zmc2V0LCBuZXcgX21vZGVsLlBvcyhwYXJlbnRQYXRoLCBvZmZzZXQgKyAyKSldLCBbbmV3IF9tYXAuUmVwbGFjZWRSYW5nZShwb3MsIHBvcywgcG9zLCBkZXN0LCBwb3MsIHBvcy5zaG9ydGVuKG51bGwsIDEpKV0pO1xuICAgIHJldHVybiBuZXcgX3RyYW5zZm9ybS5UcmFuc2Zvcm1SZXN1bHQoY29weSwgbWFwKTtcbiAgfSxcbiAgaW52ZXJ0OiBmdW5jdGlvbiBpbnZlcnQoc3RlcCwgX29sZERvYywgbWFwKSB7XG4gICAgcmV0dXJuIG5ldyBfc3RlcC5TdGVwKFwiam9pblwiLCBzdGVwLnBvcywgbWFwLm1hcChzdGVwLnBvcykucG9zKTtcbiAgfSxcbiAgcGFyYW1Ub0pTT046IGZ1bmN0aW9uIHBhcmFtVG9KU09OKHBhcmFtKSB7XG4gICAgcmV0dXJuIHBhcmFtICYmIHBhcmFtLnRvSlNPTigpO1xuICB9LFxuICBwYXJhbUZyb21KU09OOiBmdW5jdGlvbiBwYXJhbUZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIHJldHVybiBqc29uICYmIHNjaGVtYS5ub2RlRnJvbUpTT04oanNvbik7XG4gIH1cbn0pO1xuXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiAocG9zKSB7XG4gIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG4gIHZhciBub2RlQWZ0ZXIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gIGlmIChkZXB0aCA9PSAwKSByZXR1cm4gdGhpcztcbiAgZm9yICh2YXIgaSA9IDA7OyBpKyspIHtcbiAgICB0aGlzLnN0ZXAoXCJzcGxpdFwiLCBudWxsLCBudWxsLCBwb3MsIG5vZGVBZnRlcik7XG4gICAgaWYgKGkgPT0gZGVwdGggLSAxKSByZXR1cm4gdGhpcztcbiAgICBub2RlQWZ0ZXIgPSBudWxsO1xuICAgIHBvcyA9IHBvcy5zaG9ydGVuKG51bGwsIDEpO1xuICB9XG59O1xuXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUuc3BsaXRJZk5lZWRlZCA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1sxXTtcblxuICBmb3IgKHZhciBvZmYgPSAwOyBvZmYgPCBkZXB0aDsgb2ZmKyspIHtcbiAgICB2YXIgaGVyZSA9IHBvcy5zaG9ydGVuKHBvcy5kZXB0aCAtIG9mZik7XG4gICAgaWYgKGhlcmUub2Zmc2V0ICYmIGhlcmUub2Zmc2V0IDwgdGhpcy5kb2MucGF0aChoZXJlLnBhdGgpLm1heE9mZnNldCkgdGhpcy5zdGVwKFwic3BsaXRcIiwgbnVsbCwgbnVsbCwgaGVyZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHMuZGVmaW5lU3RlcCA9IGRlZmluZVN0ZXA7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfbW9kZWwgPSByZXF1aXJlKFwiLi4vbW9kZWxcIik7XG5cbnZhciBTdGVwID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RlcChuYW1lLCBmcm9tLCB0bywgcG9zKSB7XG4gICAgdmFyIHBhcmFtID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1s0XTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwKTtcblxuICAgIGlmICghKG5hbWUgaW4gc3RlcHMpKSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0ZXAgdHlwZTogXCIgKyBuYW1lKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICAgIHRoaXMucG9zID0gcG9zO1xuICAgIHRoaXMucGFyYW0gPSBwYXJhbTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdGVwLCBbe1xuICAgIGtleTogXCJhcHBseVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseShkb2MpIHtcbiAgICAgIHJldHVybiBzdGVwc1t0aGlzLm5hbWVdLmFwcGx5KGRvYywgdGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludmVydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZlcnQob2xkRG9jLCBtYXApIHtcbiAgICAgIHJldHVybiBzdGVwc1t0aGlzLm5hbWVdLmludmVydCh0aGlzLCBvbGREb2MsIG1hcCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICB2YXIgaW1wbCA9IHN0ZXBzW3RoaXMubmFtZV07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGZyb206IHRoaXMuZnJvbSxcbiAgICAgICAgdG86IHRoaXMudG8sXG4gICAgICAgIHBvczogdGhpcy5wb3MsXG4gICAgICAgIHBhcmFtOiBpbXBsLnBhcmFtVG9KU09OID8gaW1wbC5wYXJhbVRvSlNPTih0aGlzLnBhcmFtKSA6IHRoaXMucGFyYW1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgICB2YXIgaW1wbCA9IHN0ZXBzW2pzb24ubmFtZV07XG4gICAgICByZXR1cm4gbmV3IFN0ZXAoanNvbi5uYW1lLCBqc29uLmZyb20gJiYgX21vZGVsLlBvcy5mcm9tSlNPTihqc29uLmZyb20pLCBqc29uLnRvICYmIF9tb2RlbC5Qb3MuZnJvbUpTT04oanNvbi50byksIGpzb24ucG9zICYmIF9tb2RlbC5Qb3MuZnJvbUpTT04oanNvbi5wb3MpLCBpbXBsLnBhcmFtRnJvbUpTT04gPyBpbXBsLnBhcmFtRnJvbUpTT04oc2NoZW1hLCBqc29uLnBhcmFtKSA6IGpzb24ucGFyYW0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdGVwO1xufSkoKTtcblxuZXhwb3J0cy5TdGVwID0gU3RlcDtcblxudmFyIHN0ZXBzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gZGVmaW5lU3RlcChuYW1lLCBpbXBsKSB7XG4gIHN0ZXBzW25hbWVdID0gaW1wbDtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9tb2RlbCA9IHJlcXVpcmUoXCIuLi9tb2RlbFwiKTtcblxudmFyIF90cmFuc2Zvcm0gPSByZXF1aXJlKFwiLi90cmFuc2Zvcm1cIik7XG5cbnZhciBfc3RlcCA9IHJlcXVpcmUoXCIuL3N0ZXBcIik7XG5cbnZhciBfdHJlZSA9IHJlcXVpcmUoXCIuL3RyZWVcIik7XG5cbigwLCBfc3RlcC5kZWZpbmVTdGVwKShcImFkZFN0eWxlXCIsIHtcbiAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGRvYywgc3RlcCkge1xuICAgIHJldHVybiBuZXcgX3RyYW5zZm9ybS5UcmFuc2Zvcm1SZXN1bHQoKDAsIF90cmVlLmNvcHlTdHJ1Y3R1cmUpKGRvYywgc3RlcC5mcm9tLCBzdGVwLnRvLCBmdW5jdGlvbiAobm9kZSwgZnJvbSwgdG8pIHtcbiAgICAgIGlmICghbm9kZS50eXBlLmNhbkNvbnRhaW5TdHlsZShzdGVwLnBhcmFtKSkgcmV0dXJuIG5vZGU7XG4gICAgICByZXR1cm4gKDAsIF90cmVlLmNvcHlJbmxpbmUpKG5vZGUsIGZyb20sIHRvLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5zdHlsZWQoc3RlcC5wYXJhbS5hZGRUb1NldChub2RlLnN0eWxlcykpO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICB9LFxuICBpbnZlcnQ6IGZ1bmN0aW9uIGludmVydChzdGVwLCBfb2xkRG9jLCBtYXApIHtcbiAgICByZXR1cm4gbmV3IF9zdGVwLlN0ZXAoXCJyZW1vdmVTdHlsZVwiLCBzdGVwLmZyb20sIG1hcC5tYXAoc3RlcC50bykucG9zLCBudWxsLCBzdGVwLnBhcmFtKTtcbiAgfSxcbiAgcGFyYW1Ub0pTT046IGZ1bmN0aW9uIHBhcmFtVG9KU09OKHBhcmFtKSB7XG4gICAgcmV0dXJuIHBhcmFtLnRvSlNPTigpO1xuICB9LFxuICBwYXJhbUZyb21KU09OOiBmdW5jdGlvbiBwYXJhbUZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIHJldHVybiBzY2hlbWEuc3R5bGVGcm9tSlNPTihqc29uKTtcbiAgfVxufSk7XG5cbl90cmFuc2Zvcm0uVHJhbnNmb3JtLnByb3RvdHlwZS5hZGRTdHlsZSA9IGZ1bmN0aW9uIChmcm9tLCB0bywgc3QpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgcmVtb3ZlZCA9IFtdLFxuICAgICAgYWRkZWQgPSBbXSxcbiAgICAgIHJlbW92aW5nID0gbnVsbCxcbiAgICAgIGFkZGluZyA9IG51bGw7XG4gIHRoaXMuZG9jLmlubGluZU5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZnVuY3Rpb24gKHNwYW4sIHN0YXJ0LCBlbmQsIHBhdGgsIHBhcmVudCkge1xuICAgIGlmIChzdC5pc0luU2V0KHNwYW4uc3R5bGVzKSB8fCAhcGFyZW50LnR5cGUuY2FuQ29udGFpblN0eWxlKHN0LnR5cGUpKSB7XG4gICAgICBhZGRpbmcgPSByZW1vdmluZyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGggPSBwYXRoLnNsaWNlKCk7XG4gICAgICB2YXIgcm0gPSAoMCwgX21vZGVsLmNvbnRhaW5zU3R5bGUpKHNwYW4uc3R5bGVzLCBzdC50eXBlKTtcbiAgICAgIGlmIChybSkge1xuICAgICAgICBpZiAocmVtb3ZpbmcgJiYgcmVtb3ZpbmcucGFyYW0uZXEocm0pKSB7XG4gICAgICAgICAgcmVtb3ZpbmcudG8gPSBuZXcgX21vZGVsLlBvcyhwYXRoLCBlbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92aW5nID0gbmV3IF9zdGVwLlN0ZXAoXCJyZW1vdmVTdHlsZVwiLCBuZXcgX21vZGVsLlBvcyhwYXRoLCBzdGFydCksIG5ldyBfbW9kZWwuUG9zKHBhdGgsIGVuZCksIG51bGwsIHJtKTtcbiAgICAgICAgICByZW1vdmVkLnB1c2gocmVtb3ZpbmcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlbW92aW5nKSB7XG4gICAgICAgIHJlbW92aW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhZGRpbmcpIHtcbiAgICAgICAgYWRkaW5nLnRvID0gbmV3IF9tb2RlbC5Qb3MocGF0aCwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZGluZyA9IG5ldyBfc3RlcC5TdGVwKFwiYWRkU3R5bGVcIiwgbmV3IF9tb2RlbC5Qb3MocGF0aCwgc3RhcnQpLCBuZXcgX21vZGVsLlBvcyhwYXRoLCBlbmQpLCBudWxsLCBzdCk7XG4gICAgICAgIGFkZGVkLnB1c2goYWRkaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZW1vdmVkLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gX3RoaXMuc3RlcChzKTtcbiAgfSk7XG4gIGFkZGVkLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gX3RoaXMuc3RlcChzKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuKDAsIF9zdGVwLmRlZmluZVN0ZXApKFwicmVtb3ZlU3R5bGVcIiwge1xuICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZG9jLCBzdGVwKSB7XG4gICAgcmV0dXJuIG5ldyBfdHJhbnNmb3JtLlRyYW5zZm9ybVJlc3VsdCgoMCwgX3RyZWUuY29weVN0cnVjdHVyZSkoZG9jLCBzdGVwLmZyb20sIHN0ZXAudG8sIGZ1bmN0aW9uIChub2RlLCBmcm9tLCB0bykge1xuICAgICAgcmV0dXJuICgwLCBfdHJlZS5jb3B5SW5saW5lKShub2RlLCBmcm9tLCB0bywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc3R5bGVkKHN0ZXAucGFyYW0ucmVtb3ZlRnJvbVNldChub2RlLnN0eWxlcykpO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICB9LFxuICBpbnZlcnQ6IGZ1bmN0aW9uIGludmVydChzdGVwLCBfb2xkRG9jLCBtYXApIHtcbiAgICByZXR1cm4gbmV3IF9zdGVwLlN0ZXAoXCJhZGRTdHlsZVwiLCBzdGVwLmZyb20sIG1hcC5tYXAoc3RlcC50bykucG9zLCBudWxsLCBzdGVwLnBhcmFtKTtcbiAgfSxcbiAgcGFyYW1Ub0pTT046IGZ1bmN0aW9uIHBhcmFtVG9KU09OKHBhcmFtKSB7XG4gICAgcmV0dXJuIHBhcmFtLnRvSlNPTigpO1xuICB9LFxuICBwYXJhbUZyb21KU09OOiBmdW5jdGlvbiBwYXJhbUZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIHJldHVybiBzY2hlbWEuc3R5bGVGcm9tSlNPTihqc29uKTtcbiAgfVxufSk7XG5cbl90cmFuc2Zvcm0uVHJhbnNmb3JtLnByb3RvdHlwZS5yZW1vdmVTdHlsZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICB2YXIgc3QgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gIHZhciBtYXRjaGVkID0gW10sXG4gICAgICBzdGVwID0gMDtcbiAgdGhpcy5kb2MuaW5saW5lTm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmdW5jdGlvbiAoc3Bhbiwgc3RhcnQsIGVuZCwgcGF0aCkge1xuICAgIHN0ZXArKztcbiAgICB2YXIgdG9SZW1vdmUgPSBudWxsO1xuICAgIGlmIChzdCBpbnN0YW5jZW9mIF9tb2RlbC5TdHlsZVR5cGUpIHtcbiAgICAgIHZhciBmb3VuZCA9ICgwLCBfbW9kZWwuY29udGFpbnNTdHlsZSkoc3Bhbi5zdHlsZXMsIHN0KTtcbiAgICAgIGlmIChmb3VuZCkgdG9SZW1vdmUgPSBbZm91bmRdO1xuICAgIH0gZWxzZSBpZiAoc3QpIHtcbiAgICAgIGlmIChzdC5pc0luU2V0KHNwYW4uc3R5bGVzKSkgdG9SZW1vdmUgPSBbc3RdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b1JlbW92ZSA9IHNwYW4uc3R5bGVzO1xuICAgIH1cbiAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b1JlbW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcm0gPSB0b1JlbW92ZVtpXSxcbiAgICAgICAgICAgIGZvdW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdGNoZWQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgbSA9IG1hdGNoZWRbal07XG4gICAgICAgICAgaWYgKG0uc3RlcCA9PSBzdGVwIC0gMSAmJiBybS5lcShtYXRjaGVkW2pdLnN0eWxlKSkgZm91bmQgPSBtO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgIGZvdW5kLnRvID0gbmV3IF9tb2RlbC5Qb3MocGF0aCwgZW5kKTtcbiAgICAgICAgICBmb3VuZC5zdGVwID0gc3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXRjaGVkLnB1c2goeyBzdHlsZTogcm0sIGZyb206IG5ldyBfbW9kZWwuUG9zKHBhdGgsIHN0YXJ0KSwgdG86IG5ldyBfbW9kZWwuUG9zKHBhdGgsIGVuZCksIHN0ZXA6IHN0ZXAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBtYXRjaGVkLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICByZXR1cm4gX3RoaXMyLnN0ZXAoXCJyZW1vdmVTdHlsZVwiLCBtLmZyb20sIG0udG8sIG51bGwsIG0uc3R5bGUpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5fdHJhbnNmb3JtLlRyYW5zZm9ybS5wcm90b3R5cGUuY2xlYXJNYXJrdXAgPSBmdW5jdGlvbiAoZnJvbSwgdG8sIG5ld1BhcmVudCkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB2YXIgZGVsU3RlcHMgPSBbXTsgLy8gTXVzdCBiZSBhY2N1bXVsYXRlZCBhbmQgYXBwbGllZCBpbiBpbnZlcnNlIG9yZGVyXG4gIHRoaXMuZG9jLmlubGluZU5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZnVuY3Rpb24gKHNwYW4sIHN0YXJ0LCBlbmQsIHBhdGgpIHtcbiAgICBpZiAobmV3UGFyZW50ID8gIW5ld1BhcmVudC5jYW5Db250YWluVHlwZShzcGFuLnR5cGUpIDogIXNwYW4uaXNUZXh0KSB7XG4gICAgICBwYXRoID0gcGF0aC5zbGljZSgpO1xuICAgICAgdmFyIF9mcm9tID0gbmV3IF9tb2RlbC5Qb3MocGF0aCwgc3RhcnQpO1xuICAgICAgZGVsU3RlcHMucHVzaChuZXcgX3N0ZXAuU3RlcChcInJlcGxhY2VcIiwgX2Zyb20sIG5ldyBfbW9kZWwuUG9zKHBhdGgsIGVuZCksIF9mcm9tKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Bhbi5zdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdCA9IHNwYW4uc3R5bGVzW2ldO1xuICAgICAgaWYgKCFuZXdQYXJlbnQgfHwgIW5ld1BhcmVudC5jYW5Db250YWluU3R5bGUoc3QudHlwZSkpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguc2xpY2UoKTtcbiAgICAgICAgX3RoaXMzLnN0ZXAoXCJyZW1vdmVTdHlsZVwiLCBuZXcgX21vZGVsLlBvcyhwYXRoLCBzdGFydCksIG5ldyBfbW9kZWwuUG9zKHBhdGgsIGVuZCksIG51bGwsIHN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciBpID0gZGVsU3RlcHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0aGlzLnN0ZXAoZGVsU3RlcHNbaV0pO1xuICB9cmV0dXJuIHRoaXM7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfc3RlcDIgPSByZXF1aXJlKFwiLi9zdGVwXCIpO1xuXG52YXIgX21hcCA9IHJlcXVpcmUoXCIuL21hcFwiKTtcblxudmFyIFRyYW5zZm9ybVJlc3VsdCA9IGZ1bmN0aW9uIFRyYW5zZm9ybVJlc3VsdChkb2MpIHtcbiAgdmFyIG1hcCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IF9tYXAubnVsbE1hcCA6IGFyZ3VtZW50c1sxXTtcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtUmVzdWx0KTtcblxuICB0aGlzLmRvYyA9IGRvYztcbiAgdGhpcy5tYXAgPSBtYXA7XG59O1xuXG5leHBvcnRzLlRyYW5zZm9ybVJlc3VsdCA9IFRyYW5zZm9ybVJlc3VsdDtcblxudmFyIFRyYW5zZm9ybSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyYW5zZm9ybShkb2MpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtKTtcblxuICAgIHRoaXMuZG9jcyA9IFtkb2NdO1xuICAgIHRoaXMuc3RlcHMgPSBbXTtcbiAgICB0aGlzLm1hcHMgPSBbXTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm0sIFt7XG4gICAga2V5OiBcInN0ZXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RlcChfc3RlcCwgZnJvbSwgdG8sIHBvcywgcGFyYW0pIHtcbiAgICAgIGlmICh0eXBlb2YgX3N0ZXAgPT0gXCJzdHJpbmdcIikgX3N0ZXAgPSBuZXcgX3N0ZXAyLlN0ZXAoX3N0ZXAsIGZyb20sIHRvLCBwb3MsIHBhcmFtKTtcbiAgICAgIHZhciByZXN1bHQgPSBfc3RlcC5hcHBseSh0aGlzLmRvYyk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuc3RlcHMucHVzaChfc3RlcCk7XG4gICAgICAgIHRoaXMubWFwcy5wdXNoKHJlc3VsdC5tYXApO1xuICAgICAgICB0aGlzLmRvY3MucHVzaChyZXN1bHQuZG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAocG9zLCBiaWFzKSB7XG4gICAgICB2YXIgZGVsZXRlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubWFwc1tpXS5tYXAocG9zLCBiaWFzKTtcbiAgICAgICAgcG9zID0gcmVzdWx0LnBvcztcbiAgICAgICAgaWYgKHJlc3VsdC5kZWxldGVkKSBkZWxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgX21hcC5NYXBSZXN1bHQocG9zLCBkZWxldGVkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZG9jXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2NzW3RoaXMuZG9jcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmVmb3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2NzWzBdO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2Zvcm07XG59KSgpO1xuXG5leHBvcnRzLlRyYW5zZm9ybSA9IFRyYW5zZm9ybTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29weVN0cnVjdHVyZSA9IGNvcHlTdHJ1Y3R1cmU7XG5leHBvcnRzLmNvcHlJbmxpbmUgPSBjb3B5SW5saW5lO1xuZXhwb3J0cy5pc0ZsYXRSYW5nZSA9IGlzRmxhdFJhbmdlO1xuZXhwb3J0cy5yZXBsYWNlSGFzRWZmZWN0ID0gcmVwbGFjZUhhc0VmZmVjdDtcbmV4cG9ydHMuc2FtZVBhdGhEZXB0aCA9IHNhbWVQYXRoRGVwdGg7XG5cbmZ1bmN0aW9uIGNvcHlTdHJ1Y3R1cmUobm9kZSwgZnJvbSwgdG8sIGYpIHtcbiAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s0XTtcblxuICBpZiAobm9kZS5pc1RleHRibG9jaykge1xuICAgIHJldHVybiBmKG5vZGUsIGZyb20sIHRvKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIW5vZGUubGVuZ3RoKSByZXR1cm4gbm9kZTtcbiAgICB2YXIgc3RhcnQgPSBmcm9tID8gZnJvbS5wYXRoW2RlcHRoXSA6IDA7XG4gICAgdmFyIGVuZCA9IHRvID8gdG8ucGF0aFtkZXB0aF0gOiBub2RlLmxlbmd0aCAtIDE7XG4gICAgdmFyIGNvbnRlbnQgPSBub2RlLnNsaWNlKDAsIHN0YXJ0KTtcbiAgICBpZiAoc3RhcnQgPT0gZW5kKSB7XG4gICAgICBjb250ZW50LnB1c2goY29weVN0cnVjdHVyZShub2RlLmNoaWxkKHN0YXJ0KSwgZnJvbSwgdG8sIGYsIGRlcHRoICsgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50LnB1c2goY29weVN0cnVjdHVyZShub2RlLmNoaWxkKHN0YXJ0KSwgZnJvbSwgbnVsbCwgZiwgZGVwdGggKyAxKSk7XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29udGVudC5wdXNoKGNvcHlTdHJ1Y3R1cmUobm9kZS5jaGlsZChpKSwgbnVsbCwgbnVsbCwgZiwgZGVwdGggKyAxKSk7XG4gICAgICB9Y29udGVudC5wdXNoKGNvcHlTdHJ1Y3R1cmUobm9kZS5jaGlsZChlbmQpLCBudWxsLCB0bywgZiwgZGVwdGggKyAxKSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBlbmQgKyAxOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29udGVudC5wdXNoKG5vZGUuY2hpbGQoaSkpO1xuICAgIH1yZXR1cm4gbm9kZS5jb3B5KGNvbnRlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHlJbmxpbmUobm9kZSwgZnJvbSwgdG8sIGYpIHtcbiAgdmFyIHN0YXJ0ID0gZnJvbSA/IGZyb20ub2Zmc2V0IDogMDtcbiAgdmFyIGVuZCA9IHRvID8gdG8ub2Zmc2V0IDogbm9kZS5tYXhPZmZzZXQ7XG4gIHZhciBjb3BpZWQgPSBub2RlLnNsaWNlKDAsIHN0YXJ0KS5jb25jYXQobm9kZS5zbGljZShzdGFydCwgZW5kKS5tYXAoZikpLmNvbmNhdChub2RlLnNsaWNlKGVuZCkpO1xuICBmb3IgKHZhciBpID0gY29waWVkLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIG1lcmdlZCA9IGNvcGllZFtpXS5tYXliZU1lcmdlKGNvcGllZFtpICsgMV0pO1xuICAgIGlmIChtZXJnZWQpIGNvcGllZC5zcGxpY2UoaSwgMiwgbWVyZ2VkKTtcbiAgfVxuICByZXR1cm4gbm9kZS5jb3B5KGNvcGllZCk7XG59XG5cbmZ1bmN0aW9uIGlzRmxhdFJhbmdlKGZyb20sIHRvKSB7XG4gIGlmIChmcm9tLnBhdGgubGVuZ3RoICE9IHRvLnBhdGgubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZnJvbS5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb20ucGF0aFtpXSAhPSB0by5wYXRoW2ldKSByZXR1cm4gZmFsc2U7XG4gIH1yZXR1cm4gZnJvbS5vZmZzZXQgPD0gdG8ub2Zmc2V0O1xufVxuXG5mdW5jdGlvbiBjYW5CZUpvaW5lZChub2RlLCBvZmZzZXQsIGRlcHRoKSB7XG4gIGlmICghZGVwdGggfHwgb2Zmc2V0ID09IDAgfHwgb2Zmc2V0ID09IG5vZGUubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIHZhciBsZWZ0ID0gbm9kZS5jaGlsZChvZmZzZXQgLSAxKSxcbiAgICAgIHJpZ2h0ID0gbm9kZS5jaGlsZChvZmZzZXQpO1xuICByZXR1cm4gbGVmdC5zYW1lTWFya3VwKHJpZ2h0KTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUhhc0VmZmVjdChkb2MsIGZyb20sIHRvKSB7XG4gIGZvciAodmFyIGRlcHRoID0gMCwgbm9kZSA9IGRvYzs7IGRlcHRoKyspIHtcbiAgICB2YXIgZnJvbUVuZCA9IGRlcHRoID09IGZyb20uZGVwdGgsXG4gICAgICAgIHRvRW5kID0gZGVwdGggPT0gdG8uZGVwdGg7XG4gICAgaWYgKGZyb21FbmQgfHwgdG9FbmQgfHwgZnJvbS5wYXRoW2RlcHRoXSAhPSB0by5wYXRoW2RlcHRoXSkge1xuICAgICAgdmFyIGdhcFN0YXJ0ID0gdW5kZWZpbmVkLFxuICAgICAgICAgIGdhcEVuZCA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChmcm9tRW5kKSB7XG4gICAgICAgIGdhcFN0YXJ0ID0gZnJvbS5vZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnYXBTdGFydCA9IGZyb20ucGF0aFtkZXB0aF0gKyAxO1xuICAgICAgICBmb3IgKHZhciBpID0gZGVwdGggKyAxLCBuID0gbm9kZS5jaGlsZChnYXBTdGFydCAtIDEpOyBpIDw9IGZyb20ucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChpID09IGZyb20ucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChmcm9tLm9mZnNldCA8IG4ubWF4T2Zmc2V0KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZyb20ucGF0aFtpXSArIDEgPCBuLm1heE9mZnNldCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBuID0gbi5jaGlsZChmcm9tLnBhdGhbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRvRW5kKSB7XG4gICAgICAgIGdhcEVuZCA9IHRvLm9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdhcEVuZCA9IHRvLnBhdGhbZGVwdGhdO1xuICAgICAgICBmb3IgKHZhciBpID0gZGVwdGggKyAxOyBpIDw9IHRvLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoKGkgPT0gdG8ucGF0aC5sZW5ndGggPyB0by5vZmZzZXQgOiB0by5wYXRoW2ldKSA+IDApIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZ2FwU3RhcnQgIT0gZ2FwRW5kKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBjYW5CZUpvaW5lZChub2RlLCBnYXBTdGFydCwgTWF0aC5taW4oZnJvbS5kZXB0aCwgdG8uZGVwdGgpIC0gZGVwdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZChmcm9tLnBhdGhbZGVwdGhdKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FtZVBhdGhEZXB0aChhLCBiKSB7XG4gIGZvciAodmFyIGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKGkgPT0gYS5wYXRoLmxlbmd0aCB8fCBpID09IGIucGF0aC5sZW5ndGggfHwgYS5wYXRoW2ldICE9IGIucGF0aFtpXSkgcmV0dXJuIGk7XG4gIH1cbn0iLCIvLyBGSVhNRSBtb3ZlIHRoaXMgaW50byBjb3JlXG5cblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBEZWJvdW5jZWQgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEZWJvdW5jZWQocG0sIGRlbGF5LCBmKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlYm91bmNlZCk7XG5cbiAgICB0aGlzLnBtID0gcG07XG4gICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIHRoaXMuc2NoZWR1bGVkID0gbnVsbDtcbiAgICB0aGlzLmYgPSBmO1xuICAgIHRoaXMucGVuZGluZyA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGVib3VuY2VkLCBbe1xuICAgIGtleTogXCJ0cmlnZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc2NoZWR1bGVkKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZmlyZSgpO1xuICAgICAgfSwgdGhpcy5kZWxheSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlyZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMucGVuZGluZykge1xuICAgICAgICBpZiAodGhpcy5wbS5vcGVyYXRpb24pIHRoaXMucG0ub24oXCJmbHVzaFwiLCB0aGlzLnBlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnBtLm9mZihcImZsdXNoXCIsIF90aGlzMi5wZW5kaW5nKTtcbiAgICAgICAgICBfdGhpczIucGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgX3RoaXMyLmYoKTtcbiAgICAgICAgfSk7ZWxzZSB0aGlzLmYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc2NoZWR1bGVkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGVib3VuY2VkO1xufSkoKTtcblxuZXhwb3J0cy5EZWJvdW5jZWQgPSBEZWJvdW5jZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUHJvc2VNaXJyb3JFcnJvciA9IChmdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0cyhQcm9zZU1pcnJvckVycm9yLCBfRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIFByb3NlTWlycm9yRXJyb3IobWVzc2FnZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9zZU1pcnJvckVycm9yKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3NlTWlycm9yRXJyb3IucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgIGlmICh0aGlzLm1lc3NhZ2UgIT0gbWVzc2FnZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5uYW1lKTtlbHNlIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IobWVzc2FnZSkuc3RhY2s7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByb3NlTWlycm9yRXJyb3IsIFt7XG4gICAga2V5OiBcIm5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgfHwgZnVuY3Rpb25OYW1lKHRoaXMuY29uc3RydWN0b3IpIHx8IFwiUHJvc2VNaXJyb3JFcnJvclwiO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInJhaXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJhaXNlKG1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyB0aGlzKG1lc3NhZ2UpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQcm9zZU1pcnJvckVycm9yO1xufSkoRXJyb3IpO1xuXG5leHBvcnRzLlByb3NlTWlycm9yRXJyb3IgPSBQcm9zZU1pcnJvckVycm9yO1xuXG5mdW5jdGlvbiBmdW5jdGlvbk5hbWUoZikge1xuICB2YXIgbWF0Y2ggPSAvXmZ1bmN0aW9uIChcXHcrKS8uZXhlYyhmLnRvU3RyaW5nKCkpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIE1hcCA9IHdpbmRvdy5NYXAgfHwgKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gX2NsYXNzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG4gICAgdGhpcy5jb250ZW50ID0gW107XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoX2NsYXNzLCBbe1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZChrZXkpO1xuICAgICAgaWYgKGZvdW5kID4gLTEpIHRoaXMuY29udGVudFtmb3VuZCArIDFdID0gdmFsdWU7ZWxzZSB0aGlzLmNvbnRlbnQucHVzaChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZChrZXkpO1xuICAgICAgcmV0dXJuIGZvdW5kID09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5jb250ZW50W2ZvdW5kICsgMV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKGtleSkgPiAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kKGtleSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudFtpXSA9PT0ga2V5KSByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLmNvbnRlbnQubGVuZ3RoID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2l6ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggLyAyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBfY2xhc3M7XG59KSgpO1xuZXhwb3J0cy5NYXAgPSBNYXA7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHNvcnRlZEluc2VydDtcblxuZnVuY3Rpb24gc29ydGVkSW5zZXJ0KGFycmF5LCBlbHQsIGNvbXBhcmUpIHtcbiAgdmFyIGkgPSAwO1xuICBmb3IgKDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBpZiAoY29tcGFyZShhcnJheVtpXSwgZWx0KSA+IDApIGJyZWFrO1xuICBhcnJheS5zcGxpY2UoaSwgMCwgZWx0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJpbXBvcnQge1Byb3NlTWlycm9yLCBkZWZpbmVPcHRpb24sIEtleW1hcCwgcmVnaXN0ZXJDb21tYW5kfSBmcm9tIFwiLi4vZGlzdC9lZGl0XCJcclxuaW1wb3J0IHtCbG9jaywgSW5saW5lLCBUZXh0YmxvY2ssIEF0dHJpYnV0ZSwgU2NoZW1hLCBkZWZhdWx0U2NoZW1hfSBmcm9tIFwiLi4vZGlzdC9tb2RlbFwiXHJcbmltcG9ydCB7ZWx0fSBmcm9tIFwiLi4vZGlzdC9kb21cIlxyXG5pbXBvcnQge2RlZmluZVBhcmFtSGFuZGxlcn0gZnJvbSBcIi4uL2Rpc3QvZWRpdFwiXHJcbmltcG9ydCB7VG9vbHRpcH0gZnJvbSBcIi4uL2Rpc3QvbWVudS90b29sdGlwXCJcclxuaW1wb3J0IHtNZW51QmFyLEJhckRpc3BsYXl9IGZyb20gXCIuLi9kaXN0L21lbnUvbWVudWJhclwiXHJcbmltcG9ydCBcIi4uL2Rpc3QvaW5wdXRydWxlcy9hdXRvaW5wdXRcIlxyXG5pbXBvcnQgc29ydGVkSW5zZXJ0IGZyb20gXCIuLi9kaXN0L3V0aWwvc29ydGVkaW5zZXJ0XCJcclxuaW1wb3J0IGRlZmluZUNvbW1hbmQgZnJvbSBcIi4uL2Rpc3QvZWRpdC9jb21tYW5kc1wiXHJcblxyXG5jb25zdCBkZWZXID0gXCIyMDBcIlxyXG5jb25zdCBkZWZIID0gXCIyMDBcIlxyXG5jb25zdCBxdWFkcmF0aWMgPSBcIng9ey1iXFxcXHBtXFxcXHNxcnR7Yl4yLTRhY30gXFxcXG92ZXIgMmF9XCJcdFx0XHJcbi8qXHJcbiAqIElGcmFtZSBzZWN0aW9uXHJcbiAqL1xyXG5jbGFzcyBJRnJhbWUgZXh0ZW5kcyBCbG9jayB7fVxyXG5cclxuSUZyYW1lLmF0dHJpYnV0ZXMgPSB7XHJcblx0c3JjOiBuZXcgQXR0cmlidXRlKHtkZWZhdWx0OlwiXCJ9KSxcclxuXHR3aWR0aDogbmV3IEF0dHJpYnV0ZSh7ZGVmYXVsdDogZGVmV30pLFxyXG5cdGhlaWdodDogbmV3IEF0dHJpYnV0ZSh7ZGVmYXVsdDogZGVmSH0pLFxyXG5cdGZyYW1lYm9yZGVyOiBuZXcgQXR0cmlidXRlKHtkZWZhdWx0OiBcIjFcIn0pLFxyXG5cdGFsbG93ZnVsbHNjcmVlbjogbmV3IEF0dHJpYnV0ZSh7ZGVmYXVsdDogXCIxXCJ9KSxcclxuXHRjb250ZW50OiBuZXcgQXR0cmlidXRlKHtkZWZhdWx0OiBcInRleHQvaHRtbDtjaGFyc2V0PVVURi04XCJ9KVxyXG59XHJcblxyXG5JRnJhbWUucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7XHJcbiAgdGFnOiBcImlmcmFtZVwiLFxyXG4gIHJhbms6IDI1LFxyXG4gIHBhcnNlOiAoZG9tLCBjb250ZXh0LCBub2RlVHlwZSkgPT4ge1xyXG5cdGxldCBzcmMgPSBkb20ucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKS5zcmM7XHJcblx0aWYgKCFzcmMpIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnRleHQuaW5zZXJ0KG5vZGVUeXBlLmNyZWF0ZShJRnJhbWUuYXR0cmlidXRlcykpXHJcbiAgfVxyXG59KVxyXG5cclxuSUZyYW1lLnByb3RvdHlwZS5zZXJpYWxpemVET00gPSBub2RlID0+IHsgXHJcblx0bGV0IGRvbSA9IGVsdChcImlmcmFtZVwiLCB7XHJcblx0ICBcInNyY1wiOiBub2RlLmF0dHJzLnNyYyxcclxuXHQgIFwid2lkdGhcIjogbm9kZS5hdHRycy53aWR0aCxcclxuXHQgIFwiaGVpZ2h0XCI6IG5vZGUuYXR0cnMuaGVpZ2h0LFxyXG5cdCAgXCJjb250ZW50XCI6IFwidGV4dC9odG1sO2NoYXJzZXQ9VVRGLThcIixcclxuXHQgIFwiZnJhbWVib3JkZXJcIjogXCIxXCIsXHJcblx0ICBcImFsbG93ZnVsbHNjcmVlblwiOiBcIjFcIlxyXG5cdH0pXHJcbiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBlID0+IHtcclxuICAgIFx0Y29uc29sZS5sb2coZG9tKVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICB9KVxyXG5cdHJldHVybiBkb21cclxufVxyXG5cclxuY2xhc3MgSW5saW5lTWF0aCBleHRlbmRzIElubGluZSB7fVxyXG5JbmxpbmVNYXRoLmF0dHJpYnV0ZXMgPSB7XHJcblx0dGV4OiBuZXcgQXR0cmlidXRlKHtkZWZhdWx0OlwiP1wifSksXHJcbn1cclxuXHJcbklubGluZU1hdGgucmVnaXN0ZXIoXCJwYXJzZURPTVwiLCB7XHJcbiAgdGFnOiBcInNwYW5cIixcclxuICByYW5rOiA0MCxcclxuICBwYXJzZTogKGRvbSwgY29udGV4dCwgdHlwZSwgYXR0cnMpID0+IHtcclxuXHRsZXQgaW5saW5lTWF0aCA9IGRvbS5jbGFzc0xpc3QuY29udGFpbnMoJ2lubGluZW1hdGgnKVxyXG5cdGlmICghaW5saW5lTWF0aCkgcmV0dXJuIGZhbHNlXHJcbiAgICBjb250ZXh0Lmluc2VydEZyb20oZG9tLCB0eXBlLCBhdHRycylcclxuICB9XHJcbn0pXHJcblxyXG5JbmxpbmVNYXRoLnByb3RvdHlwZS5zZXJpYWxpemVET00gPSBub2RlID0+IHtcclxuXHRsZXQgZG9tID0gZWx0KFwic3BhblwiLCB7Y2xhc3M6IFwiaW5saW5lbWF0aFwifSwgXCIgXFxcXChcIitub2RlLmF0dHJzLnRleCtcIlxcXFwpIFwiKVxyXG5cdGlmIChub2RlLnJlbmRlcmVkKSB7XHJcblx0XHRub2RlLnJlbmRlcmVkID0gbm9kZS5yZW5kZXJlZC5jbG9uZU5vZGUodHJ1ZSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0bm9kZS5yZW5kZXJlZCA9IGRvbTtcclxuXHRcdE1hdGhKYXguSHViLlF1ZXVlKFtcIlR5cGVzZXRcIixNYXRoSmF4Lkh1Yixkb21dKVxyXG5cdH1cclxuICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGUgPT4ge1xyXG4gICAgXHRjb25zb2xlLmxvZyhkb20pXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgIH0pXHJcblx0cmV0dXJuIG5vZGUucmVuZGVyZWQ7XHJcbn1cclxuXHJcbmNsYXNzIEJsb2NrTWF0aCBleHRlbmRzIEJsb2NrIHt9XHJcbkJsb2NrTWF0aC5hdHRyaWJ1dGVzID0ge1xyXG5cdHJlbmRlcmVkOiBuZXcgQXR0cmlidXRlKHtkZWZhdWx0OmZhbHNlfSlcclxufVxyXG5cclxuQmxvY2tNYXRoLnJlZ2lzdGVyKFwicGFyc2VET01cIiwge1xyXG4gIHRhZzogXCJkaXZcIixcclxuICByYW5rOiAyNSxcclxuICBwYXJzZTogKGRvbSwgY29udGV4dCwgdHlwZSwgYXR0cnMpID0+IHtcclxuXHRsZXQgYmxvY2tNYXRoID0gZG9tLmNsYXNzTGlzdC5jb250YWlucygnYmxvY2ttYXRoJylcclxuXHRpZiAoIWJsb2NrTWF0aCkgcmV0dXJuIGZhbHNlXHJcbiAgICBjb250ZXh0Lmluc2VydEZyb20oZG9tLCB0eXBlLCBhdHRycylcclxuICB9XHJcbn0pXHJcblxyXG5CbG9ja01hdGgucHJvdG90eXBlLnNlcmlhbGl6ZURPTSA9IG5vZGUgPT4ge1xyXG5cdGxldCBkb20gPSBlbHQoXCJkaXZcIiwge2NsYXNzOiBcImJsb2NrbWF0aFwifSwgXCJcXFxcWyBcIitxdWFkcmF0aWMrXCIgXFxcXF1cIilcclxuXHRpZiAoIW5vZGUucmVuZGVyZWQpIHtcclxuXHRcdG5vZGUucmVuZGVyZWQgPSBkb207XHJcblx0XHRNYXRoSmF4Lkh1Yi5RdWV1ZShbXCJUeXBlc2V0XCIsTWF0aEpheC5IdWIsZG9tXSlcclxuXHR9XHJcblx0cmV0dXJuIG5vZGUucmVuZGVyZWQ7XHJcbn1cclxuXHJcbmNsYXNzIEluc2VydCBleHRlbmRzIEJsb2NrIHt9XHJcblxyXG5jb25zdCBpbnNlcnRUeXBlcyA9IFtcIkluc2VydC4uLlwiLCBcIklGcmFtZVwiLCBcIklubGluZU1hdGhcIiwgXCJCbG9ja01hdGhcIl0ubWFwKG5hbWUgPT4gKHtsYWJlbDogbmFtZSwgdmFsdWU6IG5hbWUsIHJhbms6IDk5fSkpXHJcbkluc2VydC5wcm90b3R5cGUuaW5zZXJ0VHlwZXMgPSBpbnNlcnRUeXBlc1xyXG5jb25zdCBpbnNlcnRTY2hlbWEgPSBuZXcgU2NoZW1hKGRlZmF1bHRTY2hlbWEuc3BlYy51cGRhdGVOb2Rlcyh7XHJcblx0SW5zZXJ0OiBJbnNlcnQsXHJcblx0SUZyYW1lOiBJRnJhbWUsXHJcblx0SW5saW5lTWF0aDogSW5saW5lTWF0aCxcclxuXHRCbG9ja01hdGg6IEJsb2NrTWF0aFxyXG59KSlcclxuXHJcbmZ1bmN0aW9uIGluc2VydFR5cGVDb21tYW5kKHR5cGUsIHBhcmFtcywgYXR0cnMpIHtcclxuICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge31cclxuICBpZiAoIWF0dHJzKSBhdHRycyA9IHt9XHJcbiAgdHlwZS5hdHRhY2hDb21tYW5kKFwibWFrZVwiK3R5cGUubGFiZWwsIG5vZGVUeXBlID0+ICh7XHJcbiAgICBwYXJhbXM6IHBhcmFtcyxcclxuICAgIGV4ZWMocG0sIHBhcmFtcykge1xyXG4gICAgXHRjb25zb2xlKFwiZXhlYyBcIit0eXBlLmxhYmVsKVxyXG4gICAgfSxcclxuICAgIHJ1bihwbSwgcGFyYW1zKSB7XHJcbiAgICBcdGNvbnNvbGUoXCJydW4gXCIrdHlwZS5sYWJlbClcclxuICAgIH0sXHJcbiAgICBzZWxlY3QocG0pIHtcclxuICAgICAgICBsZXQgY2FuID0gcG0uZG9jLnBhdGgocG0uc2VsZWN0aW9uLmZyb20ucGF0aCkudHlwZS5jYW5Db250YWluVHlwZShub2RlVHlwZSlcclxuICAgICAgICBjb25zb2xlLmxvZyh0eXBlLmxhYmVsK2Nhbik7XHJcbiAgICAgICAgcmV0dXJuIGNhbjtcclxuICAgIH1cclxuICB9KSkgIFxyXG59XHJcblxyXG5pbnNlcnRUeXBlQ29tbWFuZChJRnJhbWUsW1xyXG5cdHtcdG5hbWU6IFwiTGluayAoeW91VHViZSwgR29vZ2xlIE1hcHMgLi4uKVwiLCBcclxuXHRcdHR5cGU6IFwidGV4dFwiLCBcclxuXHRcdGRlZmF1bHQ6IFwiXCJcclxuXHR9XHJcbiAgXSwgXHJcbiAge31cclxuKVxyXG5cclxuaW5zZXJ0VHlwZUNvbW1hbmQoSW5saW5lTWF0aCxbXHJcblx0e1x0bmFtZTogXCJMYXRleCBleHByZXNzaW9uXCIsIFxyXG4gICAgXHR0eXBlOiBcInRleHRcIiwgXHJcbiAgICBcdGRlZmF1bHQ6IFwiXCJcclxuICAgIH1cclxuICBdLFxyXG4gIHt9XHJcbilcclxuXHJcbmluc2VydFR5cGVDb21tYW5kKEJsb2NrTWF0aCxbXHJcbiBcdHtcdHNyYzogXCJXZWJzaXRlIFVSTFwiLCBcclxuICAgIFx0dHlwZTogXCJ0ZXh0XCIsIFxyXG4gICAgXHRkZWZhdWx0OiBcIlwiXHJcbiAgICB9XHJcbiAgXSxcclxuICB7fVxyXG4pXHJcbiAgXHJcbkluc2VydC5hdHRhY2hDb21tYW5kKFwic2VsZWN0SW5zZXJ0XCIsIHR5cGUgPT4gKHtcclxuICBsYWJlbDogXCJJbnNlcnRcIixcclxuICBydW4ocG0sIHR5cGUpIHtcclxuXHQgIGlmICh0eXBlID09IFwiSW5zZXJ0Li4uXCIpIHJldHVybiBmYWxzZVxyXG5cdCAgbGV0IGluc2VydFR5cGUgPSBwbS5zY2hlbWEubm9kZXNbdHlwZV1cclxuXHQgIGxldCBkb20gPSBpbnNlcnRUeXBlLmNyZWF0ZSgpO1xyXG5cdCAgcmV0dXJuIHBtLnRyLnJlcGxhY2VTZWxlY3Rpb24oZG9tKS5hcHBseSgpXHJcbiAgfSxcclxuICBwYXJhbXM6IFtcclxuICAgICB7bmFtZTogXCJUeXBlXCIsIHR5cGU6IFwic2VsZWN0XCIsIG9wdGlvbnM6IGluc2VydFR5cGVzLCBkZWZhdWx0TGFiZWw6IFwiSW5zZXJ0Li4uXCJ9XHJcbiAgXSxcclxuICBzZWxlY3QocG0pIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgfSxcclxuICBkaXNwbGF5OiBcInNlbGVjdFwiLFxyXG4gIG1lbnVHcm91cDogXCJibG9ja1wiLCBtZW51UmFuazogOTlcclxufSkpXHJcblxyXG5mdW5jdGlvbiBpbnNlcnRQYXJhbUhhbmRsZXIocG0sIGNvbW1hbmQsIGNhbGxiYWNrKSB7XHJcbiAgbGV0IHRvb2x0aXAgPSBuZXcgVG9vbHRpcChwbSwgXCJjZW50ZXJcIilcclxuICBjb25zb2xlLmxvZyh0b29sdGlwKVxyXG4gIHRvb2x0aXAub3BlbihwYXJhbUZvcm0ocG0sIGNvbW1hbmQsIHBhcmFtcyA9PiB7XHJcbiAgICBwbS5mb2N1cygpXHJcbiAgICB0b29sdGlwLmNsb3NlKClcclxuICAgIGNhbGxiYWNrKHBhcmFtcylcclxuICB9KSlcclxufVxyXG5cclxuZGVmaW5lUGFyYW1IYW5kbGVyKFwiaW5zZXJ0SGFuZGxlclwiLCBpbnNlcnRQYXJhbUhhbmRsZXIpXHJcbmRlZmluZU9wdGlvbihcImNvbW1hbmRQYXJhbUhhbmRsZXJcIixcImluc2VydEhhbmRsZXJcIixmYWxzZSxmYWxzZSlcclxuXHJcbmxldCBwbSA9IHdpbmRvdy5pbnNlcnRQTSA9IG5ldyBQcm9zZU1pcnJvcih7XHJcbiAgcGxhY2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdG9yXCIpLFxyXG4gIG1lbnVCYXI6IHRydWUsXHJcbiAgZG9jOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIikuaW5uZXJIVE1MLFxyXG4gIGRvY0Zvcm1hdDogXCJodG1sXCIsXHJcbiAgc2NoZW1hOiBpbnNlcnRTY2hlbWEsXHJcbiAgYXV0b0lucHV0OiB0cnVlXHJcbn0pXHJcblxyXG4iXX0=
